{"version":3,"sources":["./src/frontend/app/documentNotePad/document-note-pad.component.ts","./src/frontend/app/documentNotePad/document-note-pad.component.html","./src/frontend/app/administration/group/list/users.component.ts","./src/frontend/app/administration/group/list/users.component.html","./src/frontend/app/service/signature-method/signature-method.service.ts","./src/frontend/app/login/login.component.ts","./src/frontend/app/login/login.component.html","./src/frontend/app/modal/reject-info.component.ts","./src/frontend/app/modal/reject-info.html","./src/frontend/app/modal/success-info-valid.component.ts","./src/frontend/app/modal/success-info-valid.html","./src/frontend/app/administration/history/history-list.component.ts","./src/frontend/app/administration/history/history-list.component.html","./src/frontend/app/document/document.component.ts","./src/frontend/app/document/document.component.html","./src/frontend/app/document/main-document-detail/main-document-detail.component.ts","./src/frontend/app/document/main-document-detail/main-document-detail.component.html","./src/frontend/app/login/forgotPassword/forgotPassword.component.ts","./src/frontend/app/login/forgotPassword/forgotPassword.component.html","./src/frontend/app/service/signatures.service.ts","./src/frontend/app/search/search.component.ts","./src/frontend/app/search/search.component.html","./src/frontend/app/login/passwordModification/password-modification.component.ts","./src/frontend/app/login/passwordModification/password-modification.component.html","./src/frontend/app/pad/pad.component.ts","./src/frontend/app/pad/pad.component.html","./src/frontend/app/service/signature-method/signature-method-modal.component.ts","./src/frontend/app/service/signature-method/signature-method-modal.component.html","./src/frontend/app/service/filters.service.ts","./src/frontend/app/app-routing.module.ts","./src/frontend/app/administration/connection/connection.component.ts","./src/frontend/app/administration/connection/connection.component.html","./src/frontend/app/administration/customization/customization.component.ts","./src/frontend/app/administration/customization/customization.component.html","./src/frontend/app/app.module.ts","./src/frontend/app/plugins/alert.component.ts","./src/frontend/app/plugins/alert.component.html","./src/frontend/app/document/document-list/document-list.component.ts","./src/frontend/app/document/document-list/document-list.component.html","./src/frontend/app/administration/home/administration.component.ts","./src/frontend/app/administration/home/administration.component.html","./src/frontend/app/documentSignList/document-sign-list.component.ts","./src/frontend/app/documentSignList/document-sign-list.component.html","./src/frontend/app/signatures/signatures.component.ts","./src/frontend/app/signatures/signatures.component.html","./src/frontend/app/administration/user/user.component.ts","./src/frontend/app/administration/user/user.component.html","./src/frontend/app/administration/group/groups-list.component.ts","./src/frontend/app/administration/group/groups-list.component.html","./src/frontend/core/$_lazy_route_resource lazy namespace object","./src/frontend/app/documentNoteList/document-note-list.component.ts","./src/frontend/app/documentNoteList/document-note-list.component.html","./src/frontend/app/documentDateList/dateOption/date-option-modal.component.ts","./src/frontend/app/documentDateList/dateOption/date-option-modal.component.html","./src/frontend/app/indexation/signature-position/signature-position.component.ts","./src/frontend/app/indexation/signature-position/signature-position.component.html","./src/frontend/app/plugins/paginator-fr-intl.ts","./src/frontend/app/plugins/autocomplete/autocomplete.component.ts","./src/frontend/app/plugins/autocomplete/autocomplete.component.html","./src/frontend/app/home/home.component.ts","./src/frontend/app/home/home.component.html","./src/frontend/app/administration/group/group.component.ts","./src/frontend/app/administration/group/group.component.html","./src/frontend/app/service/functions.service.ts","./src/frontend/app/document/visa-workflow/visa-workflow.component.ts","./src/frontend/app/document/visa-workflow/visa-workflow.component.html","./src/frontend/app/documentDateList/document-date-list.component.ts","./src/frontend/app/documentDateList/document-date-list.component.html","./src/frontend/app/service/local-storage.service.ts","./src/frontend/app/login/updatePassword/updatePassword.component.ts","./src/frontend/app/login/updatePassword/updatePassword.component.html","./src/frontend/app/service/auth-interceptor.service.ts","./src/frontend/app/profile/profile.component.ts","./src/frontend/app/profile/profile.component.html","./src/frontend/app/plugins/upload-file-dnd.directive.ts","./src/frontend/app/app-material.module.ts","./src/frontend/app/administration/connection/ldap/ldap-list.component.ts","./src/frontend/app/administration/connection/ldap/ldap-list.component.html","./src/frontend/app/administration/user/users-list.component.ts","./src/frontend/app/administration/user/users-list.component.html","./src/frontend/core/environments/environment.ts","./src/frontend/app/indexation/indexation.component.ts","./src/frontend/app/indexation/indexation.component.html","./src/frontend/app/service/debug/dev-lang.component.ts","./src/frontend/app/service/debug/dev-lang.component.html","./src/frontend/app/service/auth.service.ts","./node_modules/@ionic/core/dist/esm lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","./src/frontend/app/service/debug/dev-tool.component.ts","./src/frontend/app/service/debug/dev-tool.component.html","./src/frontend/app/service/auth.guard.ts","./src/frontend/app/document/visa-workflow/models/visa-workflow-models.component.ts","./src/frontend/app/document/visa-workflow/models/visa-workflow-models.component.html","./src/frontend/core/main.ts","./src/frontend/app/service/notification.service.ts","./src/frontend/app/administration/sendmail/check-email-connection.component.ts","./src/frontend/app/administration/sendmail/check-email-connection.component.html","./src/frontend/app/administration/sendmail/sendmail.component.ts","./src/frontend/app/administration/sendmail/sendmail.component.html","./src/frontend/app/app.component.ts","./src/frontend/app/app.component.html","./src/frontend/app/administration/connection/ldap/ldap.component.ts","./src/frontend/app/administration/connection/ldap/ldap.component.html","./src/frontend/app/sidebar/administration/admin-sidebar.component.ts","./src/frontend/app/sidebar/administration/admin-sidebar.component.html","./src/frontend/app/administration/security/securities-administration.component.ts","./src/frontend/app/administration/security/securities-administration.component.html","./src/frontend/app/document/associated-documents/associated-documents.component.ts","./src/frontend/app/document/associated-documents/associated-documents.component.html","./src/frontend/app/plugins/confirm.component.ts","./src/frontend/app/plugins/confirm.component.html","./src/frontend/app/administration/connection/ldap/check-connection.component.ts","./src/frontend/app/administration/connection/ldap/check-connection.component.html","./src/frontend/app/sidebar/sidebar.component.ts","./src/frontend/app/sidebar/sidebar.component.html","./src/frontend/app/modal/warn-modal.component.ts","./src/frontend/app/modal/warn-modal.component.html","./src/frontend/app/plugins/sorting.pipe.ts","./src/frontend/app/modal/confirm-modal.component.ts","./src/frontend/app/modal/confirm-modal.component.html","./src/frontend/app/service/actions.service.ts"],"names":[],"mappings":"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,CAAC,YAAY,CAAC,IAAI,CAAC,yBAAyB,EAAE,GAAG,CAAC,CAAC;IAC3D,CAAC;IAED,YAAY;QACR,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;IAC5D,CAAC;IAED,cAAc;QACV,OAAO,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,yBAAyB,CAAC,CAAC;IAC/D,CAAC;;sEA1IQ,WAAW;8FAAX,WAAW,WAAX,WAAW,mBAFR,MAAM;kIAET,WAAW;cAHvB,wDAAU;eAAC;gBACR,UAAU,EAAE,MAAM;aACrB;;;;;;;;;;;;;ACZD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","file":"main.js","sourcesContent":["import { Component, OnInit, ViewChild, ElementRef, EventEmitter, Output, Input } from '@angular/core';\nimport { SignaturesContentService } from '../service/signatures.service';\nimport { NotificationService } from '../service/notification.service';\nimport { AuthService } from '../service/auth.service';\nimport { LocalStorageService } from '../service/local-storage.service';\nimport { ModalController } from '@ionic/angular';\nimport { DragScrollComponent } from 'ngx-drag-scroll';\n\n@Component({\n    selector: 'app-document-note-pad',\n    templateUrl: 'document-note-pad.component.html',\n    styleUrls: ['document-note-pad.component.scss'],\n})\nexport class DocumentNotePadComponent implements OnInit {\n\n    @Input() content: string;\n    @Input() precentScrollTop: any;\n    @Input() precentScrollLeft: any;\n\n    @Output() triggerEvent = new EventEmitter<string>();\n\n    @ViewChild('mainContent') mainContent: any;\n    @ViewChild('canvas') canvas: ElementRef;\n    @ViewChild('img') img: any;\n    @ViewChild('nav', { read: DragScrollComponent }) ds: DragScrollComponent;\n\n    penColors = [{ id: '#000000' }, { id: '#1a75ff' }, { id: '#FF0000' }];\n\n    areaWidth = 0;\n    areaHeight = 0;\n    editMode: boolean = true;\n    originalSize: boolean = true;\n    loading = true;\n\n\n    constructor(\n        public signaturesService: SignaturesContentService,\n        public notificationService: NotificationService,\n        public authService: AuthService,\n        private localStorage: LocalStorageService,\n        public modalController: ModalController\n    ) { }\n\n    ngOnInit(): void {\n        setTimeout(() => {\n            this.loading = false;\n        }, 100);\n    }\n\n    imageLoaded(ev: any) {\n        this.getImageDimensions(false);\n    }\n\n    getImageDimensions(originalsize: boolean = false): void {\n        this.originalSize = originalsize;\n        const img = new Image();\n        img.onload = (data: any) => {\n            this.areaWidth = data.target.naturalWidth;\n            this.areaHeight = data.target.naturalHeight;\n            if (!originalsize) {\n                this.getAreaDimension();\n            }\n            if (this.editMode) {\n                setTimeout(() => {\n                    const offset = $('#myBounds').offset();\n                    let y: number;\n                    let clientX: any;\n                    let clientY: any;\n\n                    if (Math.sign(offset.top) === 1 || this.precentScrollTop <= Math.abs(offset.top)) {\n                        y = this.precentScrollTop - offset.top;\n                    } else if (Math.sign(offset.top) === -1 && this.precentScrollTop <= -Math.sign(offset.top)) {\n                        y = (this.precentScrollTop - offset.top) * 2;\n                    } else {\n                        y = (this.precentScrollTop - offset.top) * 100;\n                    }\n                    const x: number = this.precentScrollLeft - offset.left;\n                    clientX = this.precentScrollLeft - document.documentElement.offsetLeft;\n                    clientY = this.precentScrollTop - document.documentElement.offsetTop;\n                    clientX = clientX / this.areaWidth * 100;\n                    clientY = clientY / this.areaHeight * 100;\n                    document.getElementsByClassName('drag-scroll-content')[1].scrollTo(x, y);\n                    img.style.transform = 'translate(-' + clientX + '%,-' + clientY + '%) scale(2)';\n                    this.initPad();\n                }, 200);\n            }\n        };\n        img.src = this.content;\n    }\n\n    getAreaDimension() {\n        const percent = (this.mainContent.el.offsetWidth * 100) / this.areaWidth;\n\n        this.areaWidth = (percent * this.areaWidth) / 100;\n        this.areaHeight = (percent * this.areaHeight) / 100;\n    }\n\n    dismissModal() {\n        this.modalController.dismiss('cancel');\n    }\n\n    initPad() {\n        ($('#myCanvas') as any).sign({\n            mode: this.authService.user.preferences.writingMode, // direct or stylus\n            lineWidth: this.authService.user.preferences.writingSize,\n            changeColor: $('.radio'),\n            undo: $('.undo'),\n            height: this.areaHeight,\n            width: this.areaWidth,\n            fixHeight: 56,\n            fixWidth: 0,\n            mobileMode: this.signaturesService.mobileMode\n        });\n        $('input[value=\\'' + this.authService.user.preferences.writingColor + '\\']').trigger('click');\n    }\n\n    validateAnnotation() {\n        if (!this.signaturesService.notesContent[this.signaturesService.currentPage]) {\n            this.signaturesService.notesContent[this.signaturesService.currentPage] = [];\n        }\n\n        this.signaturesService.notesContent[this.signaturesService.currentPage].push(\n            {\n                'fullPath': <HTMLCanvasElement>this.canvas.nativeElement.toDataURL('image/png'),\n                'positionX': 0,\n                'positionY': 0,\n                'height': this.signaturesService.workingAreaHeight,\n                'width': this.signaturesService.workingAreaWidth,\n            }\n        );\n        this.localStorage.save(this.signaturesService.mainDocumentId.toString(), JSON.stringify({ 'date': this.signaturesService.datesContent, 'sign': this.signaturesService.signaturesContent, 'note': this.signaturesService.notesContent }));\n        this.modalController.dismiss('');\n        this.notificationService.success('lang.annotationAdded');\n    }\n\n    undo() {\n        /* const data = this.signaturePad.toData();\n        if (data) {\n            data.pop(); // remove the last dot or line\n            this.signaturePad.fromData(data);\n        }*/\n    }\n\n}\n","<ion-header [translucent]=\"true\">\n  <ion-toolbar color=\"primary\">\n    <ion-title>{{'lang.annotateDocument' | translate}}</ion-title>\n  </ion-toolbar>\n</ion-header>\n<ion-content #mainContent *ngIf=\"!loading\">\n  <div class=\"tool-content tool-content-right\">\n    <ng-container *ngFor=\"let color of penColors\" let idx=\"index\">\n      <input type=\"radio\" name=\"colors\" [checked]=\"idx === 0\" [value]=\"color.id\" class=\"radio\"\n        [ngStyle]=\"{'border-color': color.id, 'background-color': color.id}\">\n    </ng-container>\n    <hr>\n    <i class=\"fa fa-undo fa-2x undo\" (click)=\"undo()\"></i>\n  </div>\n  <ion-fab vertical=\"top\" horizontal=\"start\" slot=\"fixed\" activated>\n    <ion-fab-button close-icon=\"chevron-up\">\n      <ion-icon name=\"chevron-down\"></ion-icon>\n    </ion-fab-button>\n    <ion-fab-list side=\"bottom\">\n      <ion-fab-button [color]=\"editMode ? 'danger' : 'success'\"\n        [title]=\"editMode ? ('lang.lockEdition' | translate) : ('lang.unlockEdition' | translate)\"\n        (click)=\"$event.stopPropagation();editMode=!editMode\">\n        <ion-icon [name]=\"editMode ? 'lock-closed-outline' : 'lock-open-outline'\">\n        </ion-icon>\n      </ion-fab-button>\n      <ion-fab-button [title]=\"originalSize ? ('lang.originalSize' | translate) : ('lang.screenSize' | translate)\"\n        (click)=\"$event.stopPropagation();getImageDimensions(!originalSize)\">\n        <ion-icon [name]=\"originalSize ? 'scan-outline' : 'crop-outline'\"></ion-icon>\n      </ion-fab-button>\n    </ion-fab-list>\n  </ion-fab>\n  <div style=\"display: contents;\">\n    <drag-scroll style=\"overflow:auto;height: 100%;width: 100%;margin: auto;\" [style.maxWidth.px]=\"areaWidth\" #nav>\n      <div style=\"position:relative;\" [style.width.px]=\"areaWidth\" [style.height.px]=\"areaHeight\" #myBounds>\n        <ion-img class=\"img-content\" [src]=\"content\" [style.width.px]=\"areaWidth\" [style.height.px]=\"areaHeight\"\n          (ionImgDidLoad)=\"imageLoaded($event)\" #img>\n        </ion-img>\n        <canvas [style.display]=\"!editMode ? 'none' : 'initial'\" style=\"position: absolute;top: 0px;left:0px;\"\n          id=\"myCanvas\" #canvas></canvas>\n      </div>\n    </drag-scroll>\n  </div>\n</ion-content>\n<ion-footer class=\"ion-no-border footer-buttons\">\n  <div style=\"text-align: center\">\n    <ion-button color=\"danger\" (click)=\"dismissModal()\" shape=\"round\" fill=\"outline\" size=\"large\">\n      <ion-label style=\"font-size: 13px;\">{{'lang.cancel' | translate}}</ion-label>\n    </ion-button>\n    <ion-button color=\"success\" (click)=\"validateAnnotation()\" shape=\"round\" fill=\"outline\" size=\"large\" style=\"margin-left: 50px\">\n      <ion-label style=\"font-size: 13px;\">{{'lang.save' | translate}}</ion-label>\n    </ion-button>\n  </div>\n</ion-footer>\n","import { Component, Input, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { AlertController, ModalController } from '@ionic/angular';\nimport { map } from 'rxjs/operators';\n\n@Component({\n    selector: 'app-users',\n    templateUrl: 'users.component.html',\n})\n\nexport class UsersComponent implements OnInit {\n\n    @Input() users: any;\n\n    usersList: any[] = [];\n\n    constructor(\n        public http: HttpClient,\n        public modalController: ModalController\n    ) { }\n\n    ngOnInit(): void {\n        this.http.get('../rest/users?mode=all')\n            .pipe(\n                map((data: any) => data.users)\n            )\n            .subscribe({\n                next: data => {\n                    this.usersList = data.filter((user: any) => this.users.findIndex((userG: any) => userG.id === user.id) === -1);\n                }\n            });\n    }\n\n    selectUser(user: any) {\n        this.modalController.dismiss(user);\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-title>{{'lang.users' | translate}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content>\n    <ion-list>\n        <ion-virtual-scroll [items]=\"usersList\" approxItemHeight=\"50px\" style=\"height: 450px;\">\n            <ion-item button *virtualItem=\"let element\" (click)=\"selectUser(element)\">\n                <ion-label>\n                    {{element.firstname}} {{element.lastname}}\n                </ion-label>\n            </ion-item>\n        </ion-virtual-scroll>\n    </ion-list>\n</ion-content>","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { LoadingController, ModalController } from '@ionic/angular';\nimport { SignatureMethodModalComponent } from './signature-method-modal.component';\nimport { ActionsService } from '../actions.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport {AuthService} from \"../auth.service\";\nimport {NotificationService} from \"../notification.service\";\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class SignatureMethodService {\n\n    constructor(\n        public http: HttpClient,\n        public modalController: ModalController,\n        public actionsService: ActionsService,\n        public loadingController: LoadingController,\n        private translate: TranslateService,\n        public authService: AuthService,\n        public notificationService: NotificationService\n    ) { }\n\n    async checkAuthenticationAndLaunchAction(userWorkflow: any, note: any = null, idsToProcess: any[]) {\n        if (['rgs_2stars', 'rgs_2stars_timestamped', 'inca_card', 'inca_card_eidas'].indexOf(userWorkflow.signatureMode) > -1) {\n            if (this.authService.coreUrl.indexOf('https://') !== 0) {\n                await this.notificationService.error('lang.securedUrlNeeded');\n                return null;\n            }\n            const res = await this.openRgsAuth(note, userWorkflow.signatureMode, idsToProcess);\n            return res;\n        } else {\n            const res = await this.launchDefaultMode(note, idsToProcess);\n            return res;\n        }\n    }\n\n    async launchDefaultMode(note: string, idsToProcess: any[]) {\n        return new Promise(async (resolve) => {\n            const loading = await this.loadingController.create({\n                message: this.translate.instant('lang.loadingValidation'),\n                spinner: 'dots',\n            });\n            loading.present();\n            let res: any = true;\n            for (let index = 0; index < idsToProcess.length; index++) {\n                res = await this.actionsService.sendDocument(idsToProcess[index], note);\n            }\n            loading.dismiss();\n            resolve(res);\n        });\n    }\n\n    async openRgsAuth(note: string, signatureMode: string, idsToProcess: any[]) {\n        return new Promise(async (resolve) => {\n            const modal = await this.modalController.create({\n                component: SignatureMethodModalComponent,\n                componentProps: {\n                    note: note,\n                    signatureMode: signatureMode,\n                    idsToProcess: idsToProcess\n                }\n            });\n            await modal.present();\n            const { data } = await modal.onWillDismiss();\n            resolve(data);\n        });\n    }\n}\n","import { Component, AfterViewInit, OnInit } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { SignaturesContentService } from '../service/signatures.service';\nimport { NotificationService } from '../service/notification.service';\nimport { environment } from '../../core/environments/environment';\nimport { Validators, FormGroup, FormBuilder } from '@angular/forms';\nimport { AuthService } from '../service/auth.service';\nimport { tap, catchError } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport { LoadingController, MenuController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n    templateUrl: 'login.component.html',\n    styleUrls: ['login.component.scss'],\n})\nexport class LoginComponent implements OnInit, AfterViewInit {\n\n    loginForm: FormGroup;\n\n    loading: boolean = false;\n    showForm: boolean = false;\n    environment: any;\n    commitHash: any = null;\n\n\n    constructor(\n        private http: HttpClient,\n        private router: Router,\n        public authService: AuthService,\n        private signaturesService: SignaturesContentService,\n        private notificationService: NotificationService,\n        public dialog: MatDialog,\n        private formBuilder: FormBuilder,\n        public loadingController: LoadingController,\n        private translate: TranslateService,\n        private menu: MenuController,\n    ) { }\n\n    async ngOnInit() {\n\n        this.loginForm = this.formBuilder.group({\n            login: [null, Validators.required],\n            password: [null, Validators.required]\n        });\n\n        this.environment = environment;\n        this.signaturesService.reset();\n\n        await this.loadCommitInformation();\n    }\n\n    ionViewWillEnter() {\n        this.menu.enable(false, 'left-menu');\n        this.menu.enable(false, 'right-menu');\n    }\n\n    ngAfterViewInit(): void {\n        setTimeout(() => {\n            this.showForm = true;\n            this.fixAutoFill();\n            this.initConnection();\n        }, 500);\n    }\n\n    fixAutoFill() {\n        setTimeout(() => {\n            this.loginForm.get('login').setValue($('#login').val());\n            this.loginForm.get('password').setValue($('#password').val());\n        }, 100);\n    }\n\n    async onSubmit() {\n        const loading = await this.loadingController.create({\n            cssClass: 'my-custom-class',\n            message: this.translate.instant('lang.connexion'),\n        });\n        await loading.present();\n        if (!this.loginForm.invalid ) {\n\n            this.http.post('../rest/authenticate', { 'login': this.loginForm.get('login').value, 'password': this.loginForm.get('password').value }, { observe: 'response' })\n                .pipe(\n                    tap((data: any) => {\n                        this.loading = false;\n                        this.showForm = false;\n                        this.authService.saveTokens(data.headers.get('Token'), data.headers.get('Refresh-Token'));\n                        this.authService.setUser({});\n\n                        if (this.authService.getCachedUrl()) {\n                            this.router.navigateByUrl(this.authService.getCachedUrl());\n                            this.authService.cleanCachedUrl();\n                        } else {\n                            this.router.navigate(['/home']);\n                        }\n                        loading.dismiss();\n                    }),\n                    catchError((err: any) => {\n                        this.loading = false;\n                        if (err.status === 401) {\n                            this.notificationService.error('lang.wrongLoginPassword');\n                            loading.dismiss();\n                        } else {\n                            this.notificationService.handleErrors(err);\n                        }\n\n                        return of(false);\n                    })\n                )\n                .subscribe();\n        } else {\n            loading.dismiss();\n            this.notificationService.error('lang.requiredLoginPassword');\n        }\n    }\n\n    initConnection() {\n        if (['kerberos', 'x509'].indexOf(this.authService.authMode) > -1) {\n            this.loginForm.disable();\n            this.loginForm.setValidators(null);\n            this.onSubmit();\n        }\n    }\n\n    loadCommitInformation() {\n        return new Promise((resolve) => {\n            this.http.get('../rest/commitInformation').pipe(\n                tap((data: any) => {\n                    this.commitHash = data.hash;\n                    resolve(true);\n                }),\n                catchError((err: any) => {\n                    this.notificationService.handleErrors(err);\n                    return of(false);\n                })\n            ).subscribe();\n        });\n    }\n}\n","<ion-content class=\"login-content\">\n    <mat-icon svgIcon=\"maarchLogo\" class=\"maarchLogo\"></mat-icon>\n    <ion-card style=\"width: 400px;position: absolute;left: 50%;top: 50%;transform: translate(-50%,-50%);\">\n        <ion-card-content>\n            <form (ngSubmit)=\"onSubmit()\" [formGroup]=\"loginForm\">\n                <ion-item>\n                    <ion-label position=\"floating\">{{'lang.login' | translate}}</ion-label>\n                    <ion-input formControlName=\"login\" type=\"text\" (keyup.enter)=\"onSubmit()\"></ion-input>\n                </ion-item>\n                <ion-item>\n                    <ion-label position=\"floating\">{{'lang.password' | translate}}</ion-label>\n                    <ion-input name=\"password\" matInput type=\"password\" formControlName=\"password\"\n                        (keyup.enter)=\"onSubmit()\"></ion-input>\n                </ion-item>\n                <div class=\"connection-type\">\n                    <a routerLink=\"/forgot-password\" *ngIf=\"authService.authMode === 'default'\"\n                        class=\"forgot-password\">{{'lang.forgotPassword' | translate}}</a>\n                    <a href=\"\" *ngIf=\"authService.authMode === 'ldap'\"\n                        class=\"forgot-password\">{{'lang.ldapEnabled' | translate}}</a>\n                    <a href=\"\" *ngIf=\"authService.authMode === 'kerberos'\"\n                        class=\"forgot-password\">{{'lang.kerberosEnabled' | translate}}</a>\n                    <a href=\"\" *ngIf=\"authService.authMode === 'x509'\"\n                        class=\"forgot-password\">{{'lang.x509Enabled' | translate}}</a>\n                </div>\n                <ion-button type=\"submit\" expand=\"block\" [disabled]=\"loginForm.invalid || loading\">\n                    {{'lang.connect' | translate}}\n                </ion-button>\n            </form>\n        </ion-card-content>\n    </ion-card>\n    <ion-note class=\"version-info\">\n        Maarch Parapheur {{environment.VERSION}} <a *ngIf=\"commitHash !== null\" style=\"color: white\" target=\"blank\" href=\"{{'lang.repoUrl' | translate}}/commit/{{commitHash}}\">{{commitHash.substring(0, 8)}}</a> Powered by {{environment.AUTHOR}}\n    </ion-note>\n</ion-content>\n","import { Component, OnInit } from '@angular/core';\nimport { SignaturesContentService } from '../service/signatures.service';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { FiltersService } from '../service/filters.service';\nimport { AuthService } from '../service/auth.service';\n\n@Component({\n    templateUrl: '../modal/reject-info.html',\n    styleUrls: ['../modal/reject-info.scss']\n})\nexport class RejectInfoBottomSheetComponent implements OnInit {\n    date: Date = new Date();\n    constructor(\n        public signaturesService: SignaturesContentService,\n        public filtersService: FiltersService,\n        public authService: AuthService,\n        private bottomSheetRef: MatBottomSheetRef<RejectInfoBottomSheetComponent>\n    ) { }\n\n    ngOnInit(): void {\n        setTimeout(() => {\n            this.signaturesService.currentToobal = 'mainDocumentDetail';\n            this.filtersService.resfreshDocuments(true);\n            this.bottomSheetRef.dismiss();\n        }, 2000);\n    }\n}\n","<div class=\"red\" style=\"text-align: center;\">\n  <h1><i class=\"fa fa-thumbs-down fa-4x\"></i></h1>\n  <p>{{'lang.documentRefusedAs' | translate}}</p>\n\n  <p style=\"font-weight:bold;font-size: 30px;\">{{authService.user.firstname}} {{authService.user.lastname}}</p>\n  <p style=\"font-weight:bold;font-size: 15px;\">{{'lang.onRange' | translate}} {{date | date:'dd/MM/yyyy'}} {{'lang.atRange' | translate}} {{date | date:'HH:mm'}}</p>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { SignaturesContentService } from '../service/signatures.service';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { AuthService } from '../service/auth.service';\nimport { FiltersService } from '../service/filters.service';\n\n@Component({\n    templateUrl: 'success-info-valid.html',\n    styleUrls: ['success-info-valid.scss']\n})\nexport class SuccessInfoValidBottomSheetComponent implements OnInit {\n    date: Date = new Date();\n    constructor(\n        public signaturesService: SignaturesContentService,\n        public filtersService: FiltersService,\n        public authService: AuthService,\n        private bottomSheetRef: MatBottomSheetRef<SuccessInfoValidBottomSheetComponent>\n    ) { }\n\n    ngOnInit(): void {\n        setTimeout(() => {\n            this.signaturesService.currentToobal = 'mainDocumentDetail';\n            this.filtersService.resfreshDocuments(true);\n            this.bottomSheetRef.dismiss();\n        }, 2000);\n    }\n}\n","<div class=\"green\" style=\"text-align: center;\">\n  <h1><i class=\"fa fa-thumbs-up fa-4x\"></i></h1>\n  <p>{{'lang.documentValidateAs' | translate}}</p>\n\n  <p style=\"font-weight:bold;font-size: 30px;\">{{authService.user.firstname}} {{authService.user.lastname}}</p>\n  <p style=\"font-weight:bold;font-size: 15px;\">{{'lang.onRange' | translate}} {{date | date:'dd/MM/yyyy'}} {{'lang.atRange' | translate}} {{date | date:'HH:mm'}}</p>\n</div>\n","import { Component, TemplateRef, ViewChild, ViewContainerRef } from '@angular/core';\nimport { SignaturesContentService } from '../../service/signatures.service';\nimport { NotificationService } from '../../service/notification.service';\nimport { HttpClient } from '@angular/common/http';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Sort } from '@angular/material/sort';\nimport { TranslateService } from '@ngx-translate/core';\nimport { tap, catchError } from 'rxjs/operators';\nimport { LatinisePipe } from 'ngx-pipes';\nimport { AuthService } from '../../service/auth.service';\nimport { AlertController, MenuController } from '@ionic/angular';\nimport { of } from 'rxjs';\nimport { SortPipe } from '../../plugins/sorting.pipe';\n\n\nexport interface User {\n    id: string;\n    firstname: string;\n    lastname: string;\n    login: string;\n    email: string;\n    subtitute: boolean;\n}\n\n@Component({\n    selector: 'app-administration-history-list',\n    templateUrl: 'history-list.component.html',\n    styleUrls: ['history-list.component.scss'],\n    providers: [SortPipe]\n})\n\nexport class HistoryListComponent {\n\n    @ViewChild('rightContent', { static: true }) rightContent: TemplateRef<any>;\n\n    sortedData: any[];\n    displayedColumns: string[] = ['creation_date', 'user', 'info', 'ip'];\n    loading: boolean = true;\n\n    resources: any[] = [];\n    offset: number = 0;\n    limit: number = 10;\n    count: number = 0;\n\n    filters: any = {\n        user: '',\n        messageTypes: [],\n        date: {\n            start: null,\n            end: null\n        }\n    };\n\n    aventTypesIcon: any = {\n        'VIEW': 'eye-outline',\n        'CREATION': 'add-circle-outline',\n        'ACTION': 'settings-outline',\n        'THUMBNAIL': 'image-outline',\n        'EMAIL': 'mail-outline',\n        'SUPPRESSION': 'trash-bin-outline',\n        'MODIFICATION': 'create-outline',\n        'LOGIN': 'log-in-outline',\n        'LOGOUT': 'log-out-outline'\n    };\n\n    actions: any[] = [];\n\n    constructor(\n        public http: HttpClient,\n        private translate: TranslateService,\n        private menu: MenuController,\n        private latinisePipe: LatinisePipe,\n        public viewContainerRef: ViewContainerRef,\n        public dialog: MatDialog,\n        public signaturesService: SignaturesContentService,\n        public notificationService: NotificationService,\n        public authService: AuthService,\n        public alertController: AlertController,\n        public sortPipe: SortPipe\n    ) { }\n\n    applyFilter(filterValue: string) {\n        filterValue = this.latinisePipe.transform(filterValue.toLowerCase());\n        this.filters.user = filterValue;\n        this.getDatas();\n    }\n\n    openFilters() {\n        this.menu.open('right-menu');\n    }\n\n    async ionViewWillEnter() {\n        this.filters.messageTypes = [];\n        this.filters.user = '';\n        this.filters.date.start = this.filters.date.end = null;\n        this.menu.enable(true, 'left-menu');\n        this.menu.enable(true, 'right-menu');\n        this.signaturesService.initTemplate(this.rightContent, this.viewContainerRef, 'rightContent');\n        this.getActions();\n        this.getDatas();\n    }\n\n    getActions() {\n        this.http.get('../rest/history/messageTypes', this.filters)\n            .pipe(\n                tap((data: any) => {\n                    this.actions = data.messageTypes.map((item: any) => ({\n                        id: item,\n                        label: this.translate.instant('lang.' + item)\n                    }));\n                    this.actions = this.sortPipe.transform(this.actions, 'label');\n                }),\n                catchError((err: any) => {\n                    this.notificationService.handleErrors(err);\n                    return of(false);\n                })\n            ).subscribe();\n    }\n\n    getDatas() {\n        this.resources = [];\n        this.offset = 0;\n        return new Promise((resolve) => {\n            this.http.post('../rest/history?limit=10&offset=0', this.filters)\n                .pipe(\n                    tap((data: any) => {\n                        this.resources = data.history;\n                        this.count = data.total;\n                        resolve(true);\n                    }),\n                    catchError((err: any) => {\n                        this.notificationService.handleErrors(err);\n                        resolve(false);\n                        return of(false);\n                    })\n                ).subscribe();\n        });\n    }\n\n    sortData(sort: Sort) {\n        console.log(sort);\n    }\n\n    loadData(event: any) {\n        if (this.count <= this.limit) {\n            event.target.complete();\n            event.target.disabled = true;\n        } else {\n            this.offset = this.offset + this.limit;\n\n            this.http.post('../rest/history?limit=' + this.limit + '&offset=' + this.offset, this.filters).pipe(\n                tap((data: any) => {\n                    this.resources = this.resources.concat(data.history);\n                    event.target.complete();\n                    if (this.count === this.resources.length) {\n                        event.target.disabled = true;\n                    }\n                })\n            ).subscribe();\n        }\n    }\n\n    getNbFilters() {\n        let nb = 0;\n        if (this.filters.user !== '') {\n            nb++;\n        }\n        if (this.filters.date.start !== null) {\n            nb++;\n        }\n        if (this.filters.date.end !== null) {\n            nb++;\n        }\n        if (this.filters.messageTypes.length > 0) {\n            nb += this.filters.messageTypes.length;\n        }\n        return nb;\n    }\n\n    toggleAction(ev: any) {\n        if (ev.checked) {\n            this.filters.messageTypes.push(ev.value);\n        } else {\n            this.filters.messageTypes = this.filters.messageTypes.filter((item: any) => item !== ev.value);\n        }\n        this.getDatas();\n    }\n\n    clearFilters() {\n        $('.checkedAction').each(function() {\n            $(this).prop('checked', false);\n        });\n        document.querySelector('ion-searchbar').getInputElement().then((searchInput) => {\n            searchInput.value = '';\n        });\n        this.filters.user = '';\n        this.filters.date.start = this.filters.date.end = null;\n        this.getDatas();\n    }\n\n    removeFilter(filter: any) {\n        if (this.filters.messageTypes.includes(filter)) {\n            $('.checkedAction').each(function() {\n                if ($(this).val() === filter) {\n                    $(this).prop('checked', false);\n                    return false;\n                }\n            });\n        }\n        if (this.filters.user === filter) {\n            document.querySelector('ion-searchbar').getInputElement().then((searchInput) => {\n                searchInput.value = '';\n            });\n            this.filters.user = '';\n        }\n        if (this.filters.date.start === filter) {\n            this.filters.date.start = null;\n        }\n        if (this.filters.date.end === filter) {\n            this.filters.date.end = null;\n        }\n        this.getDatas();\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-menu-button menu=\"left-menu\"></ion-menu-button>\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n        <ion-title>{{'lang.history' | translate}}</ion-title>\n        <ion-title slot=\"end\" color=\"secondary\">{{count}} {{'lang.entries' | translate}}</ion-title>\n        <ion-buttons slot=\"end\">\n            <ion-menu-button menu=\"right-menu\">\n                <ion-icon name=\"funnel-outline\"></ion-icon>\n            </ion-menu-button>\n        </ion-buttons>\n    </ion-toolbar>\n    <ion-toolbar color=\"primary\" *ngIf=\"getNbFilters() > 0\" color=\"primary\" style=\"padding-left: 1px;padding-right: 1px;\">\n        <ion-button class=\"clearFilter\" shape=\"round\" size=\"small\" fill=\"clear\" slot=\"start\" color=\"primary\"\n                (click)=\"clearFilters()\" [title]=\"'lang.clearFilters' | translate\">\n                <ion-icon slot=\"icon-only\" name=\"trash-bin-outline\" color=\"light\"></ion-icon>\n            </ion-button>\n        <div class=\"scrollfilters\" slot=\"start\">\n                <ion-chip outline *ngFor=\"let filter of this.filters.messageTypes\" [title]=\"'lang.actions' | translate\"  color=\"primary\" (click)=\"removeFilter(filter)\">\n                    <ion-icon name=\"swap-horizontal-outline\"></ion-icon>\n                    <ion-label>{{ 'lang.' + filter | translate }}</ion-label>\n                    <ion-icon name=\"close-circle\"></ion-icon>\n                </ion-chip>\n                <ion-chip outline *ngIf=\"filters.user !== ''\" [title]=\"'lang.userName' | translate\" color=\"primary\" (click)=\"removeFilter(this.filters.user)\">\n                    <ion-icon name=\"person-outline\"></ion-icon>\n                    <ion-label >{{ this.filters.user}}</ion-label>\n                    <ion-icon name=\"close-circle\"></ion-icon>\n                </ion-chip>\n                <ion-chip outline *ngIf=\"filters.date.start !== null\" [title]=\"'lang.since' | translate\" color=\"primary\" (click)=\"removeFilter(this.filters.date.start)\">\n                    <ion-icon name=\"today-outline\"></ion-icon>\n                    <ion-label >{{ this.filters.date.start | date:'dd/MM/yyyy'}}</ion-label>\n                    <ion-icon name=\"close-circle\"></ion-icon>\n                </ion-chip>\n                <ion-chip outline *ngIf=\"filters.date.end !== null\" [title]=\"'lang.until' | translate\" color=\"primary\" (click)=\"removeFilter(this.filters.date.end)\">\n                    <ion-icon name=\"calendar-outline\"></ion-icon>\n                    <ion-label >{{ this.filters.date.end | date:'dd/MM/yyyy'}}</ion-label>\n                    <ion-icon name=\"close-circle\"></ion-icon>\n                </ion-chip>\n        </div>\n    </ion-toolbar>\n</ion-header>\n<ion-content #mainContent>\n    <ion-list *ngIf=\"resources.length > 0\">\n        <ion-virtual-scroll [items]=\"resources\" approxItemHeight=\"90px\">\n            <ion-item *virtualItem=\"let element\" lines=\"full\" class=\"canSelect\">\n                <ion-icon color=\"primary\" slot=\"start\" [name]=\"aventTypesIcon[element.type]\"></ion-icon>\n                <ion-label>\n                    <p>{{'lang.the' | translate | titlecase}} <span class=\"primary\">{{element.date | date:'dd/MM/yyyy HH:mm'}}</span> {{'lang.by' | translate}} <span\n                            class=\"primary\">{{element.user}}</span></p>\n                    <h2>{{element.message}}</h2>\n                </ion-label>\n                <ion-note slot=\"end\">\n                    <p [title]=\"('lang.resource' | translate) + ' : ' + element.objectId\">{{'lang.' + element.objectType | translate}} : {{element.objectLabel !== null ? (element.objectLabel | shorten: 50: '...') : ('lang.undefined' | translate)}}</p>\n                    <p style=\"float: right; margin-top: 0px\">IP : {{element.ip}}</p>\n                </ion-note>\n            </ion-item>\n        </ion-virtual-scroll>\n        <ion-infinite-scroll threshold=\"100px\" (ionInfinite)=\"loadData($event)\">\n            <ion-infinite-scroll-content loadingSpinner=\"bubbles\" [loadingText]=\"'lang.loadingMoreData' | translate\">\n            </ion-infinite-scroll-content>\n        </ion-infinite-scroll>\n    </ion-list>\n</ion-content>\n<ng-template #rightContent>\n    <ion-header [translucent]=\"true\">\n        <ion-toolbar color=\"primary\">\n            <ion-buttons slot=\"start\">\n                <ion-back-button></ion-back-button>\n            </ion-buttons>\n            <ion-title class=\"ion-text-center\">{{'lang.filters' | translate}}</ion-title>\n        </ion-toolbar>\n    </ion-header>\n    <ion-content>\n        <ion-list>\n            <ion-item lines=\"none\">\n                <ion-searchbar [placeholder]=\"'lang.enterUserName' | translate\"\n                    (ionChange)=\"applyFilter($event.detail.value)\"></ion-searchbar>\n            </ion-item>\n            <ion-item>\n                <ion-label color=\"secondary\">{{'lang.since' | translate}}: </ion-label>\n                <ion-datetime displayFormat=\"DD/MM/YYYY\" [doneText]=\"'lang.validate' | translate\"\n                    [cancelText]=\"'lang.cancel' | translate\" [(ngModel)]=\"filters.date.start\" [max]=\"filters.date.end !== null ? filters.date.end : undefined\" (ionChange)=\"getDatas()\"></ion-datetime>\n                <ion-buttons *ngIf=\"filters.date.start !== null\" slot=\"end\">\n                    <ion-button color=\"danger\" shape=\"round\" fill=\"clear\" (click)=\"filters.date.start = null;getDatas()\">\n                        <ion-icon slot=\"icon-only\" name=\"close-outline\"></ion-icon>\n                    </ion-button>\n                </ion-buttons>\n            </ion-item>\n            <ion-item>\n                <ion-label color=\"secondary\">{{'lang.until' | translate}}: </ion-label>\n                <ion-datetime displayFormat=\"DD/MM/YYYY\" [doneText]=\"'lang.validate' | translate\"\n                    [cancelText]=\"'lang.cancel' | translate\" [(ngModel)]=\"filters.date.end\" [min]=\"filters.date.start !== null ? filters.date.start : undefined\" (ionChange)=\"getDatas()\"></ion-datetime>\n                <ion-buttons *ngIf=\"filters.date.end !== null\" slot=\"end\">\n                    <ion-button color=\"danger\" shape=\"round\" fill=\"clear\" (click)=\"filters.date.end = null;getDatas()\">\n                        <ion-icon slot=\"icon-only\" name=\"close-outline\"></ion-icon>\n                    </ion-button>\n                </ion-buttons>\n            </ion-item>\n            <ion-item lines=\"none\" style=\"position: sticky;top: 0;z-index: 2;\">\n                <ion-label color=\"secondary\">{{'lang.actions' | translate}}: </ion-label>\n            </ion-item>\n            <ion-item *ngFor=\"let action of actions; let i=index\" [title]=\"action.label\">\n                <ion-checkbox class=\"checkedAction\" slot=\"start\" [value]=\"action.id\" (ionChange)=\"toggleAction($event.detail)\"></ion-checkbox>\n                <ion-label>{{action.label}}</ion-label>\n            </ion-item>\n        </ion-list>\n    </ion-content>\n    <!--<ion-footer class=\"ion-no-border\">\n        <div class=\"ion-text-center\" style=\"background: white;\">\n            <ion-button color=\"primary\" shape=\"round\" size=\"large\" fill=\"outline\" (click)=\"onSubmit()\">\n                <ion-label style=\"font-size: 13px;\">{{'lang.search' | translate}}</ion-label>\n            </ion-button>\n        </div>\n    </ion-footer>-->\n</ng-template>\n","import { Component, OnInit, ViewChild, TemplateRef, ViewContainerRef, Injectable } from '@angular/core';\nimport { SignaturesContentService } from '../service/signatures.service';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { MatBottomSheet, MatBottomSheetConfig } from '@angular/material/bottom-sheet';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport { SignaturesComponent } from '../signatures/signatures.component';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { HttpClient } from '@angular/common/http';\nimport { NotificationService } from '../service/notification.service';\nimport { CookieService } from 'ngx-cookie-service';\nimport { DocumentNotePadComponent } from '../documentNotePad/document-note-pad.component';\nimport { RejectInfoBottomSheetComponent } from '../modal/reject-info.component';\nimport { TranslateService } from '@ngx-translate/core';\nimport { DocumentListComponent } from './document-list/document-list.component';\nimport { AuthService } from '../service/auth.service';\nimport { LocalStorageService } from '../service/local-storage.service';\nimport { ActionSheetController, AlertController, LoadingController, MenuController, ModalController, NavController } from '@ionic/angular';\nimport { NgxExtendedPdfViewerService } from 'ngx-extended-pdf-viewer';\nimport { catchError, exhaustMap, tap } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport { SignatureMethodService } from '../service/signature-method/signature-method.service';\nimport { FunctionsService } from '../service/functions.service';\nimport { ActionsService } from '../service/actions.service';\nimport { SuccessInfoValidBottomSheetComponent } from '../modal/success-info-valid.component';\n\n@Component({\n    selector: 'app-document',\n    templateUrl: 'document.component.html',\n    styleUrls: ['document.component.scss'],\n})\n\n\nexport class DocumentComponent implements OnInit {\n\n    @ViewChild('mainContent') mainContent: any;\n    @ViewChild('img') img: any;\n    @ViewChild('snav', { static: true }) snav: MatSidenav;\n    @ViewChild('dragElem') dragElem: any;\n    @ViewChild('appDocumentNotePad') appDocumentNotePad: DocumentNotePadComponent;\n    @ViewChild('appDocumentList') appDocumentList: DocumentListComponent;\n    @ViewChild('rightContent', { static: true }) rightContent: TemplateRef<any>;\n    @ViewChild('pagesList') pagesList: any;\n\n    posX: number = 0;\n    posY: number = 0;\n    enterApp: boolean = true;\n    detailMode: boolean = false;\n    pageNum: number = 1;\n    signaturesContent: any = [];\n    totalPages: number;\n    draggable: boolean;\n    currentDoc: number = 0;\n    docList: any = [];\n    actionsList: any = [\n        {\n            id: 2,\n            label: 'lang.reject',\n            color: 'danger',\n            logo: 'thumbs-down-outline',\n            event: 'refuseDocument'\n        },\n        {\n            id: 3,\n            label: 'lang.signatures',\n            color: '',\n            logo: '',\n            event: 'openSignatures'\n        },\n        {\n            id: 1,\n            label: 'lang.validate',\n            color: 'success',\n            logo: 'thumbs-up-outline',\n            event: 'validateDocument'\n        },\n    ];\n    pdfDataArr: any;\n    freezeSidenavClose: boolean = false;\n    startX: number = 0;\n    startY: number = 0;\n    widthDoc: string = '100%';\n    resetDragPos: boolean = false;\n\n    mainDocument: any = {\n        id: 0,\n        status,\n        attachments: [],\n        workflow: [],\n    };\n\n    loadingUI: any = false;\n\n    expandedNote: boolean = true;\n    hasWorkflowNotes: boolean = false;\n    currentTool = 'info';\n    load: HTMLIonLoadingElement = null;\n    dragging: boolean = false;\n    resizing: boolean = false;\n    pdfname: string = null;\n    loadingdocument: boolean = true;\n    loadingpdf: boolean = false;\n    loadingImage: boolean = true;\n\n    fileContent: string = '';\n\n    constructor(private translate: TranslateService,\n        private router: Router,\n        private route: ActivatedRoute,\n        public http: HttpClient,\n        public signaturesService: SignaturesContentService,\n        public notificationService: NotificationService,\n        private cookieService: CookieService,\n        public sanitizer: DomSanitizer,\n        public dialog: MatDialog,\n        private bottomSheet: MatBottomSheet,\n        public authService: AuthService,\n        private localStorage: LocalStorageService,\n        private menu: MenuController,\n        public actionSheetController: ActionSheetController,\n        public loadingController: LoadingController,\n        public viewContainerRef: ViewContainerRef,\n        public modalController: ModalController,\n        private pdfViewerService: NgxExtendedPdfViewerService,\n        public alertController: AlertController,\n        public signatureMethodService: SignatureMethodService,\n        public navCtrl: NavController,\n        public functionsService: FunctionsService,\n        public actionsService: ActionsService,\n    ) {\n        this.draggable = false;\n    }\n\n    imageLoaded(ev: any) {\n        this.getImageDimensions(true);\n        this.load.dismiss();\n        this.menu.enable(true, 'right-menu');\n        this.loadingImage = false;\n        document.getElementsByClassName('drag-scroll-content')[0].scrollTop = 0;\n    }\n\n    getImageDimensions(ajustSize: boolean = false): void {\n        const img = new Image();\n        img.onload = (data: any) => {\n\n            const percent = (data.target.naturalWidth * 100) / this.signaturesService.workingAreaWidth;\n\n            this.signaturesService.workingAreaWidth = data.target.naturalWidth;\n            this.signaturesService.workingAreaHeight = data.target.naturalHeight;\n\n            if (ajustSize) {\n                this.getAreaDimension();\n            }\n\n            /* if (percent !== Infinity) {\n                this.signatures.forEach(element => {\n                    element.position.height = (percent * element.position.height) / 100;\n                    element.position.width = (percent * element.position.width) / 100;\n                    element.position.top = (percent * element.position.top) / 100;\n                    element.position.left = (percent * element.position.left) / 100;\n                });\n            }*/\n            // this.originalSize = true;\n        };\n        img.src = this.docList[this.currentDoc].imgContent[this.pageNum];\n    }\n\n    getAreaDimension() {\n        const percent = (this.mainContent.el.offsetWidth * 100) / this.signaturesService.workingAreaWidth;\n\n        this.signaturesService.workingAreaWidth = (percent * this.signaturesService.workingAreaWidth) / 100;\n        this.signaturesService.workingAreaHeight = (percent * this.signaturesService.workingAreaHeight) / 100;\n\n        /* this.signatures.forEach(element => {\n          element.position.height = (percent * element.position.height) / 100;\n          element.position.width = (percent * element.position.width) / 100;\n          element.position.top = (percent * element.position.top) / 100;\n          element.position.left = (percent * element.position.left) / 100;\n        });*/\n        // this.originalSize = false;\n    }\n\n    async openAction(event: any) {\n        this.posX = event.clientX;\n        this.posY = event.clientY;\n        const buttons = [];\n        if (!this.checkEmptyNote()) {\n            buttons.push({\n                text: this.translate.instant('lang.cancelPreviousNote'),\n                icon: 'arrow-undo-outline',\n                handler: () => {\n                    this.undoTag();\n                }\n            });\n        }\n\n        if (!this.signaturesService.stampLock) {\n            buttons.push({\n                text: this.translate.instant('lang.affixSignature'),\n                icon: 'ribbon-outline',\n                handler: () => {\n                    this.openSignatures();\n                }\n            });\n        }\n        buttons.push({\n            text: this.translate.instant('lang.annotateDocument'),\n            icon: 'receipt-outline',\n            handler: () => {\n                this.openNoteEditor();\n            }\n        });\n        /* if (this.originalSize) {\n          buttons.push({\n            text: 'Zoom taille écran',\n            icon: 'contract-outline',\n            handler: () => {\n              this.getAreaDimension();\n              console.log('Share clicked');\n            }\n          });\n        } else {\n          buttons.push({\n            text: 'Zoom taille écran',\n            icon: 'contract-outline',\n            handler: () => {\n              this.getImageDimensions();\n              console.log('Share clicked');\n            }\n          });\n        } */\n        if (!this.checkEmptiness()) {\n            buttons.push({\n                text: this.translate.instant('lang.deleteAll'),\n                icon: 'color-wand-outline',\n                handler: () => {\n                    this.removeTags();\n                }\n            });\n        }\n\n        const actionSheet = await this.actionSheetController.create({\n            header: 'Actions',\n            cssClass: 'my-custom-class',\n            buttons: buttons,\n        });\n        await actionSheet.present();\n    }\n\n    async openSignatures() {\n        const modal = await this.modalController.create({\n            component: SignaturesComponent,\n            cssClass: 'my-custom-class',\n            componentProps: {\n                currentWorflow: this.mainDocument.workflow.filter((line: { current: boolean }) => line.current === true)[0],\n                content: this.fileContent\n            }\n        });\n        await modal.present();\n        const { data } = await modal.onWillDismiss();\n        this.dragging = false;\n        if (data !== undefined) {\n            if (data === 'success') {\n                // this.scrollToElem();\n            } else if (data.redirectPage !== undefined) {\n                this.goTo(data.redirectPage);\n            }\n        }\n    }\n\n    async openNoteEditor() {\n        const modal = await this.modalController.create({\n            component: DocumentNotePadComponent,\n            cssClass: 'fullscreen',\n            componentProps: {\n                precentScrollLeft: this.posX,\n                precentScrollTop: this.posY,\n                content: this.docList[this.currentDoc].imgContent[this.pageNum]\n            }\n        });\n        await modal.present();\n        const { data } = await modal.onWillDismiss();\n    }\n\n    scrollToElem() {\n        const pageY = this.signaturesService.signaturesContent[this.pageNum][this.signaturesService.signaturesContent[this.pageNum].length - 1].positionY;\n        const offsetTop = -($('#myBounds')[0].getBoundingClientRect().top - 70);\n        const realPosY = (pageY - 75) + offsetTop;\n\n        const scrollY = (realPosY - $(window).height());\n\n        document.getElementsByClassName('drag-scroll-content')[0].scrollTo(1000, -scrollY);\n    }\n\n    ionViewWillEnter() {\n        this.signaturesService.initTemplate(this.rightContent, this.viewContainerRef, 'rightContent');\n    }\n\n    ngOnInit(): void {\n        this.menu.enable(false, 'right-menu');\n        this.menu.enable(true, 'left-menu');\n\n        this.route.params.subscribe(params => {\n            if (typeof params['id'] !== 'undefined') {\n                this.loadingController.create({\n                    message: this.translate.instant('lang.loadingDocument'),\n                    spinner: 'dots'\n                }).then((load: HTMLIonLoadingElement) => {\n                    this.load = load;\n                    this.load.present();\n                    this.http.get('../rest/documents/' + params['id']).pipe(\n                        tap((data: any) => {\n                            this.mainDocument = data.document;\n                            this.mainDocument.workflow = this.mainDocument.workflow.map((item: any) => {\n                                if (item.note) {\n                                    this.hasWorkflowNotes = true;\n                                }\n                                item.userSignatureModes.unshift('visa');\n                                return {\n                                    ...item,\n                                    'role': item.mode === 'visa' ? 'visa' : item.signatureMode,\n                                    'modes': item.userSignatureModes\n                                };\n                            });\n\n                            this.totalPages = this.mainDocument.pages;\n\n                            this.signaturesService.mainDocumentId = this.mainDocument.id;\n                            this.signaturesService.totalPage = this.mainDocument.pages;\n                            this.menu.enable(true, 'right-menu');\n                            this.initDoc();\n\n                            const realUserWorkflow = this.mainDocument.workflow.filter((line: { current: boolean }) => line.current === true);\n\n                            this.mainDocument.isCertified = this.mainDocument.workflow.filter((line: any) => line.status !== 'REF' && line.status !== 'STOP' && line.mode === 'sign' && line.signatureMode !== 'stamp' && line.processDate !== null).length > 0;\n\n                            if (realUserWorkflow.length === 0 || this.mainDocument.readOnly) {\n                                this.actionsList = [\n                                    {\n                                        id: 4,\n                                        label: 'lang.back',\n                                        color: 'medium',\n                                        logo: 'chevron-back-outline',\n                                        event: 'back'\n                                    },\n                                ];\n                                this.detailMode = true;\n                            } else {\n                                this.signaturesService.stampLock = this.mainDocument.isCertified && ((realUserWorkflow[0].signatureMode === 'stamp' && realUserWorkflow[0].mode === 'sign') || (realUserWorkflow[0].mode === 'visa'));\n                                if (realUserWorkflow[0].userId !== this.authService.user.id) {\n                                    this.http.get('../rest/users/' + realUserWorkflow[0].userId + '/signatures')\n                                        .subscribe((dataSign: any) => {\n                                            this.signaturesService.signaturesListSubstituted = dataSign.signatures;\n                                        });\n                                } else {\n                                    this.signaturesService.signaturesListSubstituted = [];\n                                }\n                                if (realUserWorkflow[0].datePositions.length > 0 && this.functionsService.empty(this.signaturesService.datesContent)) {\n                                    realUserWorkflow[0].datePositions.forEach((date: any) => {\n                                        if (!this.signaturesService.datesContent[date.page]) {\n                                            this.signaturesService.datesContent[date.page] = [];\n                                        }\n                                        this.signaturesService.datesContent[date.page][0] = {\n                                            width: date.width,\n                                            height: date.height,\n                                            positionX: date.positionX,\n                                            positionY: date.positionY,\n                                            font: date.font,\n                                            size: date.size,\n                                            color: date.color,\n                                            format: date.format\n                                        };\n                                    });\n                                }\n                            }\n\n                            this.docList.push({ 'id': this.mainDocument.id, 'title': this.mainDocument.title, 'pages': this.mainDocument.pages, 'imgContent': [], 'imgUrl': '../rest/documents/' + this.mainDocument.id + '/thumbnails' });\n                            this.mainDocument.attachments.forEach((attach: any) => {\n                                this.docList.push({ 'id': attach.id, 'title': attach.title, 'pages': attach.pages, 'imgContent': [], 'imgUrl': '../rest/attachments/' + attach.id + '/thumbnails' });\n                            });\n                            this.menu.enable(true, 'right-menu');\n                            // this.renderPdf();\n                            this.renderImage();\n                            this.loadingdocument = false;\n                        }),\n                        catchError((err: any) => {\n                            console.log('error', err);\n                            setTimeout(() => {\n                                this.load.dismiss();\n                            }, 200);\n                            this.notificationService.handleErrors(err);\n                            this.router.navigate(['/home']);\n                            return of(false);\n                        })\n                    ).subscribe();\n                });\n            }\n        });\n    }\n\n    renderPdf() {\n        this.http.get('../rest/documents/' + this.docList[this.currentDoc].id + '/content')\n            .subscribe((data: any) => {\n                this.pdfname = 'data:application/pdf;base64,' + data.encodedDocument;\n                this.loadingpdf = true;\n            });\n    }\n\n    async onPagesLoaded(ev: any) {\n        this.totalPages = ev.pagesCount;\n        this.exportAsImage();\n    }\n\n    public async exportAsImage(): Promise<void> {\n        const scale = { width: 1000 };\n        // or: scale = {height: this.height};\n        // or: scale = {scale: this.scale};\n        const data = await this.pdfViewerService.getPageAsImage(this.pageNum, scale);\n        this.docList[this.currentDoc].imgContent[this.pageNum] = data;\n        this.loadingpdf = false;\n        this.load.dismiss();\n    }\n\n    renderImage() {\n        if (this.docList[this.currentDoc].imgContent[this.pageNum] === undefined) {\n            if (this.currentDoc === 0) {\n                this.http.get('../rest/documents/' + this.docList[this.currentDoc].id + '/thumbnails/' + this.pageNum).pipe(\n                    tap((data: any) => {\n                        this.docList[this.currentDoc].imgContent[this.pageNum] = 'data:image/png;base64,' + data.fileContent;\n                        this.fileContent = data.fileContent;\n                    }),\n                    catchError((err: any) => {\n                        this.load.dismiss();\n                        this.notificationService.handleErrors(err);\n                        this.router.navigate(['/home']);\n                        return of(false);\n                    })\n                ).subscribe();\n            } else {\n                this.http.get('../rest/attachments/' + this.docList[this.currentDoc].id + '/thumbnails/' + this.pageNum).pipe(\n                    tap((data: any) => {\n                        this.docList[this.currentDoc].imgContent[this.pageNum] = 'data:image/png;base64,' + data.fileContent;\n                    }),\n                    catchError((err: any) => {\n                        this.load.dismiss();\n                        this.notificationService.handleErrors(err);\n                        this.router.navigate(['/home']);\n                        return of(false);\n                    })\n                ).subscribe();\n            }\n        }\n    }\n\n    initDoc() {\n        this.docList = [];\n        this.signaturesService.signaturesContent = [];\n        this.signaturesService.notesContent = [];\n        this.signaturesService.datesContent = [];\n        this.signaturesService.currentToobal = 'mainDocumentDetail';\n\n        const notesContent = this.localStorage.get(this.mainDocument.id.toString());\n\n        if (notesContent) {\n            const storageContent = JSON.parse(notesContent);\n            this.signaturesService.notesContent = storageContent['note'] !== undefined ? storageContent['note'] : [];\n            this.signaturesService.signaturesContent = storageContent['sign'] !== undefined ? storageContent['sign'] : [];\n            this.signaturesService.datesContent = storageContent['date'] !== undefined ? storageContent['date'] : [];\n        }\n\n        this.signaturesService.currentAction = 0;\n        this.signaturesService.currentPage = 1;\n        this.pageNum = 1;\n        this.signaturesContent.currentDoc = 1;\n        this.currentDoc = 0;\n    }\n\n    testDrag(event: any) {\n        const element = event.source.getRootElement();\n        const boundingClientRect = element.getBoundingClientRect();\n        const parentPosition = this.getPosition(element);\n\n        this.signaturesService.y = (boundingClientRect.y - parentPosition.top);\n        this.signaturesService.x = (boundingClientRect.x - parentPosition.left);\n    }\n\n    getPosition(el: any) {\n        let x = 0;\n        let y = 0;\n        while (el && !isNaN(el.offsetLeft) && !isNaN(el.offsetTop)) {\n            x += el.offsetLeft - el.scrollLeft;\n            y += el.offsetTop - el.scrollTop;\n            el = el.offsetParent;\n        }\n        return { top: y, left: x };\n    }\n\n    zoomForNotes() {\n        this.widthDoc = '200%';\n        this.signaturesService.scale = 2;\n        $('.example-box').css({ 'transform': 'translate3d(' + this.signaturesService.x * this.signaturesService.scale + 'px, ' + this.signaturesService.y * this.signaturesService.scale + 'px, 0px)' });\n\n        this.signaturesService.workingAreaHeight *= this.signaturesService.scale;\n        this.signaturesService.workingAreaWidth *= this.signaturesService.scale;\n\n    }\n\n    zoomForView() {\n        this.resetDragPos = true;\n        this.widthDoc = '100%';\n        this.signaturesService.workingAreaHeight = this.signaturesService.workingAreaHeight / 2;\n        this.signaturesService.workingAreaWidth = this.signaturesService.workingAreaWidth / 2;\n        setTimeout(() => {\n            this.resetDragPos = false;\n        }, 200);\n        this.signaturesService.scale = 1;\n\n    }\n\n    prevPage() {\n        this.loadingImage = true;\n        this.pageNum--;\n\n        if (this.pageNum === 0) {\n            this.pageNum = 1;\n        } else {\n        }\n\n        if (this.currentDoc === 0) {\n            this.signaturesService.currentPage = this.pageNum;\n        }\n        // this.exportAsImage();\n        this.renderImage();\n    }\n\n    nextPage() {\n        this.loadingImage = true;\n        if (this.pageNum >= this.totalPages) {\n            this.pageNum = this.totalPages;\n        } else {\n            this.pageNum++;\n        }\n\n        // only for main document\n        if (this.currentDoc === 0) {\n            this.signaturesService.currentPage = this.pageNum;\n        }\n        // this.exportAsImage();\n        this.renderImage();\n    }\n\n    goTo(page: number) {\n        this.loadingController.create({\n            message: this.translate.instant('lang.loadingDocument'),\n            spinner: 'dots',\n        }).then((load: HTMLIonLoadingElement) => {\n            this.load = load;\n            this.load.present();\n            this.loadingImage = true;\n            this.load.dismiss();\n        });\n        this.pageNum = page;\n        // only for main document\n        if (this.currentDoc === 0) {\n            this.signaturesService.currentPage = this.pageNum;\n        }\n        // this.exportAsImage();\n        this.renderImage();\n    }\n\n    pagesArray(n: number): number[] {\n        return Array(n);\n    }\n\n    initWorkingArea() {\n        /* if ((typeof this.signaturesService.workingAreaHeight !== 'number' || this.signaturesService.workingAreaHeight === 0) && (typeof this.signaturesService.workingAreaWidth !== 'number' || this.signaturesService.workingAreaWidth === 0)) {\n            this.img = document.querySelector('img.zoom');\n            const rect = this.img.getBoundingClientRect();\n            this.signaturesService.workingAreaHeight = rect.height;\n            this.signaturesService.workingAreaWidth = rect.width;\n        }*/\n    }\n\n    async refuseDocument(): Promise<void> {\n        let msg = this.translate.instant('lang.rejectDocumentWarning');\n\n        if (this.signaturesService.notesContent.length === 0) {\n            msg = this.translate.instant('lang.refuseDocumentWithoutNote');\n        }\n\n        const alert = await this.alertController.create({\n            cssClass: 'custom-alert-danger',\n            header: this.translate.instant('lang.reject'),\n            message: msg,\n            inputs: [\n                {\n                    name: 'paragraph',\n                    id: 'paragraph',\n                    type: 'textarea',\n                    placeholder: this.translate.instant('lang.addReason')\n                },\n            ],\n            buttons: [\n                {\n                    text: this.translate.instant('lang.reject'),\n                    handler: async (data: any) => {\n                        const idsToProcess = await this.actionsService.checkGroupMail(this.mainDocument, 'reject');\n\n                        const res = await this.signatureMethodService.launchDefaultMode(data.paragraph, idsToProcess);\n\n                        if (!this.functionsService.empty(res)) {\n                            const config: MatBottomSheetConfig = {\n                                disableClose: true,\n                                direction: 'ltr'\n                            };\n                            this.bottomSheet.open(RejectInfoBottomSheetComponent, config);\n                            this.localStorage.remove(this.mainDocument.id.toString());\n                        }\n                    }\n                }\n            ]\n        });\n        await alert.present();\n    }\n\n    async validateDocument(mode: any): Promise<void> {\n        let msg = this.translate.instant('lang.validateDocumentWarning');\n\n        if (this.signaturesService.signaturesContent.length === 0 && this.signaturesService.notesContent.length === 0) {\n            msg = this.translate.instant('lang.validateDocumentWithoutSignOrNote');\n        }\n        if (this.signaturesService.stampLock) {\n            msg = this.translate.instant('lang.certifiedDocumentMsg2');\n        }\n        const alert = await this.alertController.create({\n            cssClass: 'custom-alert-success',\n            header: this.translate.instant('lang.validate'),\n            message: msg,\n            inputs: [\n                {\n                    name: 'paragraph',\n                    id: 'paragraph',\n                    type: 'textarea',\n                    placeholder: this.translate.instant('lang.addReason')\n                },\n            ],\n            buttons: [\n                {\n                    text: this.translate.instant('lang.validate'),\n                    handler: async (data: any) => {\n                        const currentUserWorkflow = this.mainDocument.workflow.filter((line: { current: boolean }) => line.current === true)[0];\n                        const idsToProcess = await this.actionsService.checkGroupMail(this.mainDocument, 'validate');\n\n                        const res = await this.signatureMethodService.checkAuthenticationAndLaunchAction(currentUserWorkflow, data.paragraph, idsToProcess);\n\n                        if (!this.functionsService.empty(res)) {\n                            const config: MatBottomSheetConfig = {\n                                disableClose: true,\n                                direction: 'ltr'\n                            };\n                            this.bottomSheet.open(SuccessInfoValidBottomSheetComponent, config);\n                            this.localStorage.remove(this.mainDocument.id.toString());\n                        }\n                    }\n                }\n            ]\n        });\n\n        await alert.present();\n    }\n\n    async removeTags() {\n        this.signaturesService.currentAction = 0;\n\n        const alert = await this.alertController.create({\n            header: this.translate.instant('lang.deleteNoteAndSignature'),\n            buttons: [\n                {\n                    text: this.translate.instant('lang.validate'),\n                    handler: () => {\n                        this.signaturesService.signaturesContent = [];\n                        this.signaturesService.notesContent = [];\n                        this.signaturesService.datesContent = [];\n                        this.localStorage.remove(this.mainDocument.id.toString());\n                        this.notificationService.success('lang.noteAndSignatureDeleted');\n                    }\n                }\n            ]\n        });\n\n        await alert.present();\n    }\n\n    loadDoc(index: any) {\n        this.pageNum = 1;\n        this.currentDoc = index;\n        this.totalPages = this.docList[index].pages;\n    }\n\n    launchEvent(action: any) {\n        this.backToDetails();\n        this.signaturesService.currentAction = action.id;\n        this[action.event]();\n    }\n\n    undoTag() {\n        if (this.signaturesService.notesContent[this.pageNum]) {\n            this.signaturesService.notesContent[this.pageNum].pop();\n            this.localStorage.remove(this.mainDocument.id.toString());\n            this.localStorage.save(this.mainDocument.id.toString(), JSON.stringify({ 'sign': this.signaturesService.signaturesContent, 'note': this.signaturesService.notesContent }));\n            if (this.isEmptyNote()) {\n                this.signaturesService.notesContent = [];\n            }\n        }\n    }\n\n    checkEmptyNote() {\n        if (!this.signaturesService.notesContent[this.pageNum]) {\n            return true;\n        } else if (this.signaturesService.notesContent[this.pageNum] === 'undefined') {\n            return true;\n        } else if (this.signaturesService.notesContent[this.pageNum].length === 0) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    isEmptyNote() {\n        let state = true;\n        for (let pageNum = 1; pageNum <= this.signaturesService.totalPage; pageNum++) {\n            if (this.signaturesService.notesContent[pageNum]) {\n                if (this.signaturesService.notesContent[pageNum].length > 0) {\n                    state = false;\n                    break;\n                }\n            }\n        }\n        return state;\n    }\n\n    checkEmptiness() {\n        let state = true;\n        for (let pageNum = 1; pageNum <= this.signaturesService.totalPage; pageNum++) {\n            if (this.signaturesService.datesContent[pageNum]) {\n                if (this.signaturesService.datesContent[pageNum].length > 0) {\n                    state = false;\n                    break;\n                }\n            }\n            if (this.signaturesService.notesContent[pageNum]) {\n                if (this.signaturesService.notesContent[pageNum].length > 0) {\n                    state = false;\n                    break;\n                }\n            }\n            if (this.signaturesService.signaturesContent[pageNum]) {\n                if (this.signaturesService.signaturesContent[pageNum].length > 0) {\n                    state = false;\n                    break;\n                }\n            }\n        }\n        return state;\n    }\n\n    openVisaWorkflow() {\n        this.menu.open('right-menu');\n        this.signaturesService.currentToobal = 'visaWorkflow';\n    }\n\n    openDocumentList() {\n        this.menu.open('right-menu');\n        this.signaturesService.currentToobal = 'documentList';\n    }\n\n    openAssociatedDocuments() {\n        this.menu.open('right-menu');\n        this.signaturesService.currentToobal = 'associatedDocuments';\n    }\n\n    openMainDocumentDetail() {\n        this.menu.open('right-menu');\n        this.signaturesService.currentToobal = 'mainDocumentDetail';\n    }\n\n    backToDetails() {\n        this.signaturesService.currentToobal = 'mainDocumentDetail';\n    }\n\n    deleteSubstution() {\n        const r = confirm(this.translate.instant('lang.deleteSubstitution') + ' ?');\n\n        if (r) {\n            this.http.put('../rest/users/' + this.authService.user.id + '/substitute', { substitute: null })\n                .subscribe(() => {\n                    this.authService.updateUserInfoWithTokenRefresh();\n                    this.notificationService.success('lang.substitutionDeleted');\n                });\n        }\n    }\n\n    back() {\n        this.navCtrl.back();\n    }\n\n    ionViewWillLeave() {\n        this.signaturesService.detachTemplate('rightContent');\n        this.loadingController.dismiss();\n    }\n\n    openSelect(event: any) {\n        if (this.totalPages > 1) {\n            this.pagesList.interface = 'popover';\n            this.pagesList.open(event);\n        }\n    }\n\n    fromHex(hexString: any) {\n        const res = new Uint8Array(hexString.length / 2);\n        for (let i = 0; i < hexString.length; i = i + 2) {\n            const c = hexString.slice(i, i + 2);\n            res[i / 2] = parseInt(c, 16);\n        }\n        return res.buffer;\n    }\n}\n","<ion-header *ngIf=\"!loadingdocument\" [translucent]=\"true\">\n    <ion-toolbar color=\"light\">\n        <ion-buttons slot=\"start\">\n            <ion-menu-button></ion-menu-button>\n          </ion-buttons>\n        <ion-segment value=\"favorite\" [value]=\"signaturesService.currentToobal\"\n            (ionChange)=\"signaturesService.currentToobal=$event.detail.value\">\n            <ion-segment-button value=\"mainDocumentDetail\" (click)=\"openMainDocumentDetail();\">\n                <ion-label color=\"primary\">{{'lang.informations' | translate}}</ion-label>\n                <ion-icon color=\"primary\" name=\"information-circle\"></ion-icon>\n            </ion-segment-button>\n            <ion-segment-button value=\"documentList\" (click)=\"openDocumentList();\">\n                <ion-label color=\"primary\">{{'lang.attachedElements' | translate | ucfirst}}</ion-label>\n                <ion-icon color=\"primary\" name=\"document-attach-outline\"></ion-icon>\n                <ion-badge color=\"danger\" style=\"position: absolute;top: 10px;right: 40%;\">\n                    {{mainDocument.attachments.length + 1}}\n                </ion-badge>\n            </ion-segment-button>\n            <ion-segment-button value=\"associatedDocuments\"\n                *ngIf=\"mainDocument.linkedDocuments !== undefined && mainDocument.linkedDocuments.length > 0\"\n                (click)=\"openAssociatedDocuments();\">\n                <ion-label color=\"primary\">{{'lang.associatedDocuments' | translate | ucfirst}}</ion-label>\n                <ion-icon color=\"primary\" name=\"link-outline\"></ion-icon>\n                <ion-badge color=\"danger\" style=\"position: absolute;top: 10px;right: 40%;\">\n                    {{mainDocument.linkedDocuments.length}}\n                </ion-badge>\n            </ion-segment-button>\n            <ion-segment-button value=\"visaWorkflow\" (click)=\"openVisaWorkflow();\">\n                <ion-label color=\"primary\">{{'lang.circuit' | translate}}</ion-label>\n                <ion-icon color=\"primary\" name=\"list-outline\"></ion-icon>\n                <ion-badge color=\"danger\" style=\"position: absolute;top: 10px;right: 40%;\">\n                    {{mainDocument.workflow.length}}\n                </ion-badge>\n            </ion-segment-button>\n        </ion-segment>\n        <ion-buttons slot=\"end\" *ngIf=\"!detailMode\">\n            <ion-button color=\"primary\" (click)=\"openAction($event)\">\n              <ion-icon slot=\"icon-only\" name=\"settings-sharp\"></ion-icon>\n            </ion-button>\n          </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-toolbar class=\"ion-text-center\" color=\"primary\"\n    *ngIf=\"authService.user.substitute !== null && docList[currentDoc]\">\n    <ion-label style=\"font-size: 13px;\">{{'lang.substitutionInfo' | translate}}</ion-label>\n</ion-toolbar>\n<ion-toolbar class=\"ion-text-center\" color=\"danger\" *ngIf=\"mainDocument.id !== 0 && mainDocument.status !== 'READY'\">\n    <ion-label style=\"font-size: 13px;\">{{'lang.convertingDocument' | translate}}</ion-label>\n</ion-toolbar>\n<ion-content *ngIf=\"!loadingdocument\" #mainContent>\n    <ng-container *ngIf=\"(mainDocument.notes !== undefined && mainDocument.notes !== null) || hasWorkflowNotes\">\n        <ion-fab-button *ngIf=\"!expandedNote\" ngDraggable [bounds]=\"myBounds\" [inBounds]=\"true\"\n            (movingOffset)=\"signaturesService.dragging=true\" (endOffset)=\"signaturesService.dragging=false\"\n            [title]=\"'lang.expandNote' | translate\" (click)=\"expandedNote = true;\"\n            style=\"top: 40px;right: 40px;z-index:2;position:absolute;\" [disabled]=\"signaturesService.dragging\">\n            <ion-icon name=\"chatbubble-ellipses-outline\"></ion-icon>\n        </ion-fab-button>\n        <div ngDraggable (movingOffset)=\"signaturesService.dragging=true\" (endOffset)=\"signaturesService.dragging=false\"\n            [bounds]=\"myBounds\" [inBounds]=\"true\" *ngIf=\"expandedNote\" class=\"note\">\n            <div class=\"note-title\">\n                <i class=\"far fa-sticky-note\" style=\"padding-right: 5px;\"></i>\n                <span style=\"flex:1;\">{{'lang.note' | translate}}</span>\n                <i class=\"fa fa-minus-square\" style=\"cursor: pointer;\" (click)=\"expandedNote = false;\"\n                    [title]=\"'lang.collapseNote' | translate\"></i>\n            </div>\n            <ng-container *ngIf=\"mainDocument.notes !== undefined && mainDocument.notes !== null\">\n                <div class=\"note-creator\">\n                    {{mainDocument.notes.creator}} ({{mainDocument.notes.creationDate}}) :\n                </div>\n                <div class=\"note-content\">\n                    {{mainDocument.notes.value}}\n                </div>\n            </ng-container>\n            <ng-container *ngFor=\"let step of mainDocument.workflow\">\n                <div *ngIf=\"step.note\">\n                    <div class=\"note-creator\">\n                        {{step.userDisplay}} ({{step.processDate}}) :\n                    </div>\n                    <div class=\"note-content\">\n                        {{step.note}}\n                    </div>\n                </div>\n            </ng-container>\n        </div>\n    </ng-container>\n    <div style=\"display: contents;\">\n        <drag-scroll style=\"overflow:auto;height: 100%;width: 100%;margin: auto;\"\n            [drag-scroll-disabled]=\"(signaturesService.dragging || signaturesService.resizing) && signaturesService.mobileMode\"\n            [drag-disabled]=\"(signaturesService.dragging || signaturesService.resizing) && !signaturesService.mobileMode\"\n            [style.maxWidth.px]=\"signaturesService.workingAreaWidth\" #nav (click)=\"currentDoc == 0 && !detailMode ? openAction($event) : false\">\n            <div style=\"position:relative;cursor: grab;\" [style.width.px]=\"signaturesService.workingAreaWidth\"\n                [style.height.px]=\"signaturesService.workingAreaHeight\" id=\"myBounds\" #myBounds>\n                <app-document-note-list *ngIf=\"currentDoc == 0 && !loadingImage\">\n                </app-document-note-list>\n                <app-document-sign-list *ngIf=\"currentDoc === 0 && !loadingImage && this.signaturesService.signaturesContent[pageNum]\" [bounds]=\"myBounds\">\n                </app-document-sign-list>\n                <app-document-date-list *ngIf=\"currentDoc === 0 && !loadingImage && this.signaturesService.datesContent[pageNum]\" [bounds]=\"myBounds\">\n                </app-document-date-list>\n                <ion-img\n                    *ngIf=\"docList[currentDoc] !== undefined && !functionsService.empty(docList[currentDoc].imgContent[pageNum])\"\n                    class=\"img-content\" [src]=\"docList[currentDoc].imgContent[pageNum]\"\n                    [style.width.px]=\"signaturesService.workingAreaWidth\"\n                    [style.height.px]=\"signaturesService.workingAreaHeight\" (ionImgDidLoad)=\"imageLoaded($event)\" #img>\n                </ion-img>\n                <!--<ngx-extended-pdf-viewer style=\"display: none;\" [src]=\"pdfname\" [useBrowserLocale]=\"true\"\n                    [textLayer]=\"false\" [showHandToolButton]=\"true\" (pdfLoaded)=\"onPagesLoaded($event)\">\n                </ngx-extended-pdf-viewer>-->\n            </div>\n        </drag-scroll>\n    </div>\n    <section class=\"page-info\"\n        *ngIf=\"!signaturesService.dragging && !signaturesService.resizing && docList[currentDoc]\">\n        <div class=\"page-info-doc\">\n            {{docList[currentDoc].title}}\n        </div>\n        <div class=\"page-info-page\" (click)=\"openSelect($event)\">{{'lang.page' | translate}} {{ pageNum }} / {{ totalPages }}</div>\n        <ion-select interface=\"popover\" [(ngModel)]=\"pageNum\" [interfaceOptions]=\"{cssClass : this.totalPages > 10  ? 'popover-class' : 'custom-popover-class'}\"  style=\"max-height: 100%;\" #pagesList (ionChange)='goTo($event.target.value)' hidden=\"true\">\n            <ion-select-option *ngFor=\"let page of pagesArray(this.totalPages);let i=index\" [value]=\"i+1\" [disabled]=\"i+1 === pageNum\">{{ i + 1 }}</ion-select-option>\n        </ion-select>\n    </section>\n    <ion-item *ngIf=\"mainDocument.isCertified\" lines=\"none\" class=\"certified\">\n        <ion-icon slot=\"start\" name=\"ribbon-outline\" color=\"success\"></ion-icon>\n        <ion-label>{{'lang.certifiedDocument' | translate}}</ion-label>\n    </ion-item>\n    <ng-container *ngIf=\"!signaturesService.dragging && !signaturesService.resizing && !loadingImage\">\n        <ion-fab-button *ngIf=\"pageNum > 1 && !loadingImage\" (click)=\"prevPage()\" class=\"paginate-left\">\n            <ion-icon name=\"chevron-back-outline\"></ion-icon>\n        </ion-fab-button>\n        <ion-fab-button *ngIf=\"pageNum < totalPages && !loadingImage\" (click)=\"nextPage()\" \n            class=\"paginate-right\">\n            <ion-icon name=\"chevron-forward-outline\"></ion-icon>\n        </ion-fab-button>\n    </ng-container>\n\n</ion-content>\n<ion-footer *ngIf=\"!loadingImage && currentDoc === 0\" class=\"ion-no-border footer-buttons\">\n    <ion-button [disabled]=\"mainDocument.status === 'CONVERTING'\" *ngFor=\"let action of actionsList\" [color]=\"action.color\" shape=\"round\" size=\"large\" fill=\"outline\" (click)=\"launchEvent(action)\">\n        <ion-icon *ngIf=\"action.logo !== ''\" [slot]=\"'start'\" [name]=\"action.logo\"></ion-icon>\n        <ion-label style=\"font-size: 13px;\">{{action.label | translate}}</ion-label>\n    </ion-button>\n</ion-footer>\n\n<ng-template #rightContent>\n    <app-visa-workflow [visaWorkflow]=\"mainDocument.workflow\"\n        *ngIf=\"signaturesService.currentToobal == 'visaWorkflow'\" style=\"display: contents;\">\n    </app-visa-workflow>\n    <app-document-list #appDocumentList [currentDocId]=\"currentDoc\"\n        [docList]=\"docList\" *ngIf=\"signaturesService.currentToobal == 'documentList'\"\n        (triggerEvent)=\"loadDoc($event)\" style=\"display: contents;\"></app-document-list>\n    <app-associated-documents #appAssociatedDocuments\n        [associatedDocuments]=\"mainDocument.linkedDocuments\" *ngIf=\"signaturesService.currentToobal == 'associatedDocuments'\"\n        style=\"display: contents;\"></app-associated-documents>\n    <app-main-document-detail #appMainDocumentDetail [mainDocument]=\"mainDocument\"\n        *ngIf=\"signaturesService.currentToobal == 'mainDocumentDetail'\" style=\"display: contents;\">\n    </app-main-document-detail>\n</ng-template>","import { Component, Input, OnInit } from '@angular/core';\nimport { FunctionsService } from '../../service/functions.service';\nimport { SignaturesContentService } from '../../service/signatures.service';\n\n@Component({\n    selector: 'app-main-document-detail',\n    templateUrl: 'main-document-detail.component.html',\n    styleUrls: ['main-document-detail.component.scss'],\n})\nexport class MainDocumentDetailComponent implements OnInit {\n\n    @Input() mainDocument: any;\n\n    loading: boolean = false;\n\n    constructor(\n        public signaturesService: SignaturesContentService,\n        public functionsService: FunctionsService,\n    ) { }\n\n    ngOnInit(): void { }\n\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-button disabled>\n                <ion-icon slot=\"icon-only\" name=\"information-circle\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n        <ion-title class=\"ion-text-center\">{{'lang.informations' | translate}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content>\n    <ion-card *ngIf=\"!functionsService.empty(mainDocument.mailingId)\">\n        <ion-item color=\"danger\">\n            <ion-icon name=\"alert-circle\" slot=\"start\"></ion-icon>\n            <ion-label>{{'lang.docIsInMailGroup' | translate}}</ion-label>\n        </ion-item>\n    </ion-card>\n    <ion-list lines=\"full\" class=\"ion-no-margin\">\n        <ion-item [title]=\"mainDocument.sender\">\n            <ion-label color=\"secondary\" position=\"floating\">{{'lang.emittedBy' | translate}}</ion-label>\n            <ion-input [value]=\"mainDocument.sender\" readonly></ion-input>\n        </ion-item>\n        <ion-item *ngIf=\"mainDocument.description != null\" [title]=\"mainDocument.description\">\n            <ion-label color=\"secondary\" position=\"floating\">{{'lang.description' | translate}}</ion-label>\n            <ion-input [value]=\"mainDocument.description\" readonly></ion-input>\n        </ion-item>\n        <ion-item *ngIf=\"mainDocument.deadline != null\" [title]=\"mainDocument.deadline\">\n            <ion-label color=\"secondary\" position=\"floating\">{{'lang.processingDeadline' | translate}}</ion-label>\n            <ion-input [value]=\"mainDocument.deadline\" readonly></ion-input>\n        </ion-item>\n        <ion-item [title]=\"mainDocument.reference\">\n            <ion-label color=\"secondary\" position=\"floating\">{{'lang.reference' | translate}}</ion-label>\n            <ion-input [value]=\"mainDocument.reference\" readonly></ion-input>\n        </ion-item>\n        <ion-item [title]=\"mainDocument.title\">\n            <ion-label color=\"secondary\" position=\"floating\">{{'lang.subject' | translate}}</ion-label>\n            <ion-input [value]=\"mainDocument.title\" readonly></ion-input>\n        </ion-item>\n        <ion-item *ngFor=\"let data of mainDocument.metadata;\">\n            <ion-label color=\"secondary\" position=\"floating\">{{data.label | translate}}</ion-label>\n            <ion-input [value]=\"data.value\" readonly></ion-input>\n        </ion-item>\n    </ion-list>\n</ion-content>","import { Component, OnInit } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { MatIconRegistry } from '@angular/material/icon';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { NotificationService } from '../../service/notification.service';\nimport { finalize } from 'rxjs/operators';\n\n@Component({\n    templateUrl: 'forgotPassword.component.html',\n    styleUrls: ['forgotPassword.component.scss'],\n})\nexport class ForgotPasswordComponent implements OnInit {\n\n    loadingForm: boolean = false;\n    loading: boolean = false;\n    newLogin: any = {\n        login: '',\n        password: ''\n    };\n    labelButton: string = 'lang.send';\n    appVersion: string = '';\n    appAuthor: string = '';\n\n    constructor(\n        private router: Router,\n        public http: HttpClient,\n        iconReg: MatIconRegistry,\n        sanitizer: DomSanitizer,\n        public notificationService: NotificationService\n    ) {\n        iconReg.addSvgIcon('maarchLogo', sanitizer.bypassSecurityTrustResourceUrl('../src/frontend/assets/logo_white.svg'));\n    }\n\n    ngOnInit(): void { }\n\n    generateLink() {\n        this.labelButton = 'lang.generation';\n        this.loading = true;\n\n        this.http.post('../rest/password', { 'login': this.newLogin.login })\n            .pipe(\n                finalize(() => {\n                    this.labelButton = 'lang.send';\n                    this.loading = false;\n                })\n            )\n            .subscribe((data: any) => {\n                this.loadingForm = true;\n                this.notificationService.success('lang.requestSentByEmail');\n                this.router.navigate(['/login']);\n            }, (err: any) => {\n                this.notificationService.handleErrors(err);\n            });\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n        <ion-title>{{'lang.forgotPassword' | translate}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content #mainContent>\n    <form style=\"display: contents;\" id=\"passForm\" (ngSubmit)=\"generateLink()\" #passForm=\"ngForm\">\n        <ion-grid>\n            <ion-row>\n                <ion-col offset=\"3\" size=\"6\">\n                    <ion-card class=\"info\">\n                        <ion-card-content [innerHTML]=\"'lang.afterClickingSendLinkChangePassword' | translate\">\n                        </ion-card-content>\n                    </ion-card>\n                    <ion-item>\n                        <ion-label color=\"secondary\" position=\"floating\">{{'lang.enterLogin' | translate}} *</ion-label>\n                        <ion-input name=\"login\" matInput [(ngModel)]=\"newLogin.login\" type=\"text\"\n                            oninput=\"this.value = this.value.toLowerCase()\">\n                        </ion-input>\n                    </ion-item>\n                </ion-col>\n            </ion-row>\n        </ion-grid>\n        <ion-item text-center lines=\"none\" style=\"position: sticky;bottom:0px;z-index:1;\">\n            <div style=\"display: flex;align-items: center;justify-content: center;width: 100%;background: white;\">\n                <ion-button type=\"submit\" shape=\"round\" size=\"large\" fill=\"outline\" color=\"primary\"\n                    [disabled]=\"newLogin.login == '' || loading\">\n                    <ion-label style=\"font-size: 13px;\">{{labelButton | translate}}</ion-label>\n                </ion-button>\n            </div>\n        </ion-item>\n    </form>\n</ion-content>","import { DomPortalHost, DomPortalOutlet, TemplatePortal } from '@angular/cdk/portal';\nimport { ApplicationRef, ComponentFactoryResolver, Injectable, Injector, TemplateRef, ViewContainerRef } from '@angular/core';\n\n@Injectable()\nexport class SignaturesContentService {\n\n    mainDocumentId = 0;\n\n    signaturesContent: any[] = [];\n    datesContent: any[] = [];\n    notesContent: any[] = [];\n\n    signaturesList: any[] = [];\n    signaturesListSubstituted: any[] = [];\n\n    currentPage = 1;\n    totalPage = 1;\n\n    stampLock = false;\n\n    currentToobal = 'mainDocumentDetail';\n\n    currentAction = 0;\n    indexDocumentsList = 0;\n    documentsList: any[] = [];\n    documentsListCount: any = {};\n    workingAreaWidth = 0;\n    workingAreaHeight = 0;\n    mobileMode = true;\n    smartphoneMode = true;\n    mode = '';\n    scale = 1;\n    x = 0;\n    y = 90;\n    dragging = false;\n\n    appSession: any;\n\n    private portalHost: DomPortalOutlet;\n\n    constructor(\n        private componentFactoryResolver: ComponentFactoryResolver,\n        private injector: Injector,\n        private appRef: ApplicationRef,\n    ) {\n        if (window.screen.width <= 360) {\n            this.smartphoneMode = true;\n        } else {\n            this.smartphoneMode = false;\n        }\n        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n            this.mobileMode = true;\n        } else {\n            this.mobileMode = false;\n        }\n    }\n\n    reset() {\n        this.mainDocumentId = 0;\n        this.signaturesContent = [];\n        this.datesContent = [];\n        this.notesContent = [];\n        this.signaturesList = [];\n        this.signaturesListSubstituted = [];\n        this.currentPage = 1;\n        this.totalPage = 1;\n        this.stampLock = false;\n        this.currentAction = 0;\n        this.indexDocumentsList = 0;\n        this.documentsList = [];\n        this.documentsListCount = {};\n        this.workingAreaWidth = 0;\n        this.workingAreaHeight = 0;\n        this.currentToobal = 'mainDocumentDetail';\n\n        if (window.screen.width <= 360) {\n            this.smartphoneMode = true;\n        } else {\n            this.smartphoneMode = false;\n        }\n        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n            this.mobileMode = true;\n        } else {\n            this.mobileMode = false;\n        }\n        this.mode = '';\n        this.scale = 1;\n        this.x = 0;\n        this.y = 90;\n    }\n\n    getAppSession() {\n        this.appSession = 'AD098AD9ADA0D9IAXKJ90AKS099S';\n    }\n\n    initTemplate(template: TemplateRef<any>, viewContainerRef: ViewContainerRef, id: string = 'adminMenu', mode: string = '') {\n        document.getElementById(`${id}`).innerHTML = '';\n        // Create a portalHost from a DOM element\n        this.portalHost = new DomPortalOutlet(\n            document.querySelector(`#${id}`),\n            this.componentFactoryResolver,\n            this.appRef,\n            this.injector\n        );\n        // Create a template portal\n        const templatePortal = new TemplatePortal(\n            template,\n            viewContainerRef\n        );\n\n        // Attach portal to host\n        this.portalHost.attach(templatePortal);\n    }\n\n    detachTemplate(id: string = 'adminMenu') {\n        this.portalHost.detach();\n    }\n}\n","import { DatePipe } from '@angular/common';\nimport { HttpClient } from '@angular/common/http';\nimport { Component, OnInit, TemplateRef, ViewChild, ViewContainerRef } from '@angular/core';\nimport { ActivatedRoute, ParamMap, Router } from '@angular/router';\nimport { ActionSheetController, AlertController, IonInfiniteScroll, LoadingController, MenuController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { of } from 'rxjs';\nimport { catchError, exhaustMap, tap } from 'rxjs/operators';\nimport { VisaWorkflowComponent } from '../document/visa-workflow/visa-workflow.component';\nimport { AuthService } from '../service/auth.service';\nimport { FunctionsService } from '../service/functions.service';\nimport { NotificationService } from '../service/notification.service';\nimport { SignaturesContentService } from '../service/signatures.service';\n\n@Component({\n    templateUrl: 'search.component.html',\n    styleUrls: ['search.component.scss'],\n    providers: [DatePipe]\n})\nexport class SearchComponent implements OnInit {\n\n    @ViewChild('appVisaWorkflow', { static: false }) appVisaWorkflow: VisaWorkflowComponent;\n    @ViewChild('rightContent', { static: true }) rightContent: TemplateRef<any>;\n\n    @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n\n    loading: boolean = false;\n    filesToUpload: any[] = [];\n    errors: any[] = [];\n\n    filters: any[] = [\n        {\n            id: 'title',\n            type: 'text',\n            val: '',\n            values: []\n        },\n        {\n            id: 'reference',\n            type: 'text',\n            val: '',\n            values: []\n        },\n        {\n            id: 'documentId',\n            type: 'text',\n            val: '',\n            values: []\n        },\n        {\n            id: 'workflowStates',\n            type: 'checkbox',\n            val: [],\n            values: [\n                {\n                    id: 'PROG',\n                    label: 'lang.inprogress',\n                    selected: false\n                },\n                {\n                    id: 'STOP',\n                    label: 'lang.interrupt',\n                    selected: false\n                },\n                {\n                    id: 'VAL',\n                    label: 'lang.end',\n                    selected: false\n                },\n                {\n                    id: 'REF',\n                    label: 'lang.refused',\n                    selected: false\n                }\n            ]\n        },\n        {\n            id: 'workflowUsers',\n            type: 'autocompleteUsers',\n            val: [],\n            values: []\n        }\n    ];\n\n    actions: any[] = [\n        {\n            icon: 'hand-left-outline',\n            id: 'interruptWorkflow'\n        },\n        {\n            icon: 'document-outline',\n            id: 'newWorkflow'\n        },\n    ];\n\n    ressources: any[] = [];\n    currentFilters: any[] = [];\n    offset: number = 0;\n    limit: number = 10;\n    count: number = 0;\n    openedLine = '';\n    reActiveInfinite: any;\n    documentId: any;\n\n    constructor(\n        public http: HttpClient,\n        private translate: TranslateService,\n        public router: Router,\n        private menu: MenuController,\n        public signaturesService: SignaturesContentService,\n        public viewContainerRef: ViewContainerRef,\n        public notificationService: NotificationService,\n        public authService: AuthService,\n        public loadingController: LoadingController,\n        public alertController: AlertController,\n        public actionSheetController: ActionSheetController,\n        public datePipe: DatePipe,\n        public functionsService: FunctionsService,\n        private _activatedRoute: ActivatedRoute,\n    ) { }\n\n    ngOnInit(): void {\n        this._activatedRoute.queryParamMap.subscribe((paramMap: ParamMap) => {\n            if (!this.functionsService.empty(paramMap.get('documentId'))) {\n                this.documentId = paramMap.get('documentId');\n                this.filters.filter((element: any) => element.id === 'documentId')[0].val = this.documentId;\n                this.search();\n            }\n        });\n    }\n\n    ionViewWillEnter() {\n        this.menu.enable(true, 'left-menu');\n        this.menu.enable(true, 'right-menu');\n        this.signaturesService.initTemplate(this.rightContent, this.viewContainerRef, 'rightContent');\n        setTimeout(() => {\n            this.menu.open('right-menu');\n        }, 500);\n    }\n\n    ionViewWillLeave() {\n        this.signaturesService.detachTemplate('rightContent');\n    }\n\n    toggleSlide(slidingItem: any, resId: any) {\n        slidingItem.getOpenAmount()\n            .then((res: any) => {\n                if (res === 0) {\n                    this.openedLine = resId;\n                    slidingItem.open('end');\n                } else {\n                    this.openedLine = '';\n                    slidingItem.close('end');\n                }\n            });\n    }\n\n    onSliding(ev: any, resId: any) {\n        if (ev.detail.ratio === 1) {\n            this.openedLine = resId;\n        } else {\n            this.openedLine = '';\n        }\n    }\n\n    onSubmit() {\n        this.search();\n        this.menu.close('right-menu');\n    }\n\n    toggleItem(filter: any, item: any, state: any) {\n        if (!state) {\n            const index = filter.val.indexOf(item.id);\n            filter.val.splice(index, 1);\n        } else {\n            filter.val.push(item.id);\n        }\n    }\n\n    formatDatas() {\n        const objToSend: any = {};\n        const tmpArr = JSON.parse(JSON.stringify(this.filters.filter((filter: any) => (filter.type === 'text' && filter.val !== '') || (filter.type !== 'text' && filter.val.length > 0))));\n\n        tmpArr.forEach((filter: any) => {\n            if (filter.id === 'workflowUsers') {\n                objToSend[filter.id] = filter.val.map((item: any) => item.id);\n            } else if (filter.id === 'workflowStates') {\n                objToSend[filter.id] = filter.values.filter((item: any) => item.selected).map((item: any) => item.id);\n            } else {\n                objToSend[filter.id] = filter.val;\n            }\n        });\n        return objToSend;\n    }\n\n    formatListDatas(data: any) {\n        return data.map((res: any) => ({\n            ...res,\n            reason: this.getReason(res),\n            currentUser: this.getCurrentUser(res)\n        }));\n    }\n\n    getNbFilters() {\n        let nb_filters = 0;\n        for (let index = 0; index < this.currentFilters.length; index++) {\n            if (!Array.isArray(this.currentFilters[index].val) && this.currentFilters[index].val !== '') {\n                nb_filters++;\n            }\n\n            if (Array.isArray(this.currentFilters[index].val) && this.currentFilters[index].val.length > 0) {\n                nb_filters += this.currentFilters[index].val.length;\n            }\n        }\n        return nb_filters;\n    }\n\n    async openActions(item: any) {\n        const buttons: any[] = [];\n        this.actions.forEach(element => {\n            if (this.canShowButton(element.id, item)) {\n                buttons.push({\n                    text: item.state === 'PROG' && element.id === 'newWorkflow' ? this.translate.instant('lang.' + element.id + 'Prog') : this.translate.instant('lang.' + element.id),\n                    icon: element.icon,\n                    handler: () => {\n                        this[element.id](item);\n                    }\n                });\n            }\n        });\n        const actionSheet = await this.actionSheetController.create({\n            header: this.translate.instant('lang.actions') + (item.reference !== null ? ' - ' + item.reference : ''),\n            buttons: buttons\n        });\n        await actionSheet.present();\n    }\n\n    canShowButton(id: string, item: any) {\n        if (id === 'interruptWorkflow' && item.canInterrupt) {\n            return true;\n        } else if (id === 'newWorkflow' && item.canReaffect) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    search() {\n        this.loadingController.create({\n            message: this.translate.instant('lang.processing'),\n            spinner: 'dots'\n        }).then(async (load: HTMLIonLoadingElement) => {\n            load.present();\n            await this.launchSearch();\n            load.dismiss();\n        });\n    }\n\n    launchSearch() {\n        this.ressources = [];\n        this.offset = 0;\n        this.refreshCurrentFilter();\n\n        return new Promise((resolve) => {\n            this.http.post('../rest/search/documents?limit=10&offset=0', this.formatDatas())\n                .pipe(\n                    tap((data: any) => {\n                        this.ressources = this.formatListDatas(data.documents);\n                        this.count = data.count;\n                        this.infiniteScroll.disabled = false;\n                        resolve(true);\n                    }),\n                    catchError((err: any) => {\n                        this.notificationService.handleErrors(err);\n                        resolve(false);\n                        return of(false);\n                    })\n                ).subscribe();\n        });\n    }\n\n    refreshCurrentFilter() {\n        this.currentFilters = JSON.parse(JSON.stringify(this.filters.filter((item: any) => !this.functionsService.empty(item.val))));\n\n        if (this.currentFilters.filter((item: any) => item.id === 'workflowStates').length > 0) {\n            this.currentFilters.filter((item: any) => item.id === 'workflowStates')[0].val = this.currentFilters.filter((item: any) => item.id === 'workflowStates')[0].values.filter((item: any) => item.selected);\n            if (this.currentFilters.filter((item: any) => item.id === 'workflowStates')[0].val.length === 0) {\n                this.currentFilters = this.currentFilters.filter((item: any) => item.id !== 'workflowStates');\n            }\n        }\n    }\n\n    loadData(event: any) {\n        if (this.count <= this.limit) {\n            event.target.complete();\n            event.target.disabled = true;\n        } else {\n            this.offset = this.offset + this.limit;\n\n            this.http.post('../rest/search/documents?limit=' + this.limit + '&offset=' + this.offset, this.formatDatas()).pipe(\n                tap((data: any) => {\n                    this.ressources = this.ressources.concat(this.formatListDatas(data.documents));\n                    event.target.complete();\n                    if (this.count === this.ressources.length) {\n                        event.target.disabled = true;\n                    }\n                })\n            ).subscribe();\n        }\n    }\n\n    async interruptWorkflow(item: any) {\n        return new Promise(async (resolve) => {\n            const confirm = await this.alertController.create({\n                header: this.translate.instant('lang.warning'),\n                message: this.translate.instant('lang.warnInterrupt'),\n                buttons: [\n                    {\n                        text: this.translate.instant('lang.cancel'),\n                        role: 'cancel',\n                        cssClass: 'secondary',\n                        handler: () => { }\n                    },\n                    {\n                        text: this.translate.instant('lang.validate'),\n                        handler: () => {\n                            this.loadingController.create({\n                                message: this.translate.instant('lang.processing'),\n                                spinner: 'dots'\n                            }).then(async (load: HTMLIonLoadingElement) => {\n                                load.present();\n                                await this.launchInterrupt(item);\n                                this.launchSearch();\n                                resolve(true);\n                                load.dismiss();\n                            });\n                        }\n                    }\n                ]\n            });\n            await confirm.present();\n        });\n    }\n\n    launchInterrupt(item: any) {\n        return new Promise((resolve) => {\n            this.http.put(`../rest/documents/${item.id}/workflows/interrupt`, {})\n                .pipe(\n                    tap(() => {\n                        this.notificationService.success('lang.documentInterrupted');\n                        resolve(true);\n                    }),\n                    catchError((err: any) => {\n                        this.notificationService.handleErrors(err);\n                        resolve(false);\n                        return of(false);\n                    })\n                ).subscribe();\n        });\n    }\n\n    async newWorkflow(item: any) {\n        if (item.state === 'PROG') {\n            await this.interruptWorkflow(item);\n        }\n        this.router.navigate(['/indexation'], { state: { documentId: item.id } });\n    }\n\n    async openPromptProof(item: any) {\n        const alert = await this.alertController.create({\n            cssClass: 'promptProof',\n            header: this.translate.instant('lang.download'),\n            inputs: [\n                {\n                    name: 'option1',\n                    type: 'radio',\n                    label: this.translate.instant('lang.proof'),\n                    value: 'onlyProof',\n                    checked: true\n                },\n                {\n                    name: 'option1',\n                    type: 'radio',\n                    label: this.translate.instant('lang.completeFolder'),\n                    value: 'all',\n                },\n\n            ],\n            buttons: [\n                {\n                    text: this.translate.instant('lang.cancel'),\n                    role: 'cancel',\n                    cssClass: 'secondary',\n                    handler: () => { }\n                },\n                {\n                    text: this.translate.instant('lang.validate'),\n                    handler: async (mode) => {\n                        await this.downloadProof(item, mode);\n                        alert.dismiss();\n                    }\n                }\n            ]\n        });\n        await alert.present();\n    }\n\n    downloadProof(item: any, mode: string) {\n        const onlyProof = mode === 'onlyProof' ? '&onlyProof=true' : '';\n\n        return new Promise((resolve) => {\n            this.http.get(`../rest/documents/${item.id}/proof?mode=stream${onlyProof}`, { responseType: 'blob' as 'json' })\n                .pipe(\n                    tap((data: any) => {\n                        const today = new Date();\n                        const filename = 'proof_' + item.id + '_' + this.datePipe.transform(today, 'dd-MM-y') + '.' + data.type.replace('application/', '');\n                        const downloadLink = document.createElement('a');\n                        downloadLink.href = window.URL.createObjectURL(data);\n                        downloadLink.setAttribute('download', filename);\n                        document.body.appendChild(downloadLink);\n                        downloadLink.click();\n                        resolve(true);\n                    }),\n                    catchError((err: any) => {\n                        this.notificationService.handleErrors(err);\n                        resolve(false);\n                        return of(false);\n                    })\n                ).subscribe();\n        });\n    }\n\n    getReason(item: any) {\n        return item.workflow.map((line: any) => line.reason).filter((reason: any) => reason !== null);\n    }\n\n    getCurrentUser(item: any) {\n        const currentUserWorkflow = item.workflow.filter((line: any) => line.current === true);\n        return currentUserWorkflow.length > 0 ? currentUserWorkflow[0].userId : null;\n    }\n\n    goTo(resId: number) {\n        this.router.navigate([`/documents/${resId}`]);\n    }\n\n    clearFilters() {\n        for (let index = 0; index < this.filters.length; index++) {\n            if (!Array.isArray(this.filters[index].val) && this.filters[index].val !== '') {\n                this.filters[index].val = '';\n            }\n\n            if (Array.isArray(this.filters[index].val)) {\n                this.filters[index].val = [];\n                this.filters[index].values = this.filters[index].values.map((item: any) => ({\n                    ...item,\n                    selected : false\n                }));\n            }\n        }\n        if (this.ressources.length > 0) {\n            this.launchSearch();\n        }\n    }\n\n    removeFilter(filter: any, item: any) {\n        if (!Array.isArray(filter.val)) {\n            this.filters.find((element: any) => element.id === filter.id).val = '';\n        } else {\n            if (filter.id === 'workflowStates') {\n                this.filters.find((element: any) => element.id === filter.id).values.filter((element: any) => element.id === item)[0].selected = false;\n            } else {\n                const index = filter.val.indexOf(item);\n                this.filters.filter((element: any) => element.id === filter.id)[0].val.splice(index, 1);\n            }\n        }\n        this.launchSearch();\n    }\n\n    getLabel(filter: any) {\n        const obj = this.filters.filter((item: any) => item.id === 'workflowStates')[0].values;\n        return obj.find((element: any) => element.id === filter).label;\n    }\n\n    checkInput() {\n        if ((this.filters.find((el: any) => el.id === 'title').val === '') && (this.filters.find((el: any) => el.id === 'reference').val === '') && (this.filters.find((el: any) => el.id === 'documentId').val === '')) {\n            if ((this.filters.find((el: any) => el.id === 'workflowStates').val.length === 0) && (this.filters.find((el: any) => el.id === 'workflowUsers').val.length === 0)) {\n                this.clearFilters();\n                this.currentFilters = [];\n            }\n        }\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-menu-button menu=\"left-menu\"></ion-menu-button>\n        </ion-buttons>\n        <ion-title>{{'lang.search' | translate}}</ion-title>\n        <ion-title slot=\"end\" color=\"secondary\">{{count}} {{'lang.results' | translate}}</ion-title>\n        <ion-buttons slot=\"end\">\n            <ion-menu-button menu=\"right-menu\">\n                <ion-icon name=\"funnel-outline\"></ion-icon>\n            </ion-menu-button>\n        </ion-buttons>\n    </ion-toolbar>\n    <ion-toolbar *ngIf=\"this.currentFilters.length > 0\" color=\"primary\" style=\"padding-left: 1px;padding-right: 1px;\">\n        <div style=\"display: flex;\">\n            <ion-button class=\"clearFilter\" shape=\"round\" size=\"small\" fill=\"clear\" slot=\"start\" color=\"primary\"\n                (click)=\"clearFilters()\" [title]=\"'lang.clearFilters' | translate\">\n                <ion-icon slot=\"icon-only\" name=\"trash-bin-outline\" color=\"light\"></ion-icon>\n            </ion-button>\n            <div class=\"scrollfilters\" slot=\"start\">\n                <div *ngFor=\"let currentFilter of currentFilters\">\n                    <ion-chip outline *ngIf=\"(currentFilter.id === 'title' || currentFilter.id === 'reference' || currentFilter.id === 'documentId') && currentFilter.val !== ''\" color=\"primary\"\n                        style=\"background: white;\" [title]=\"'lang.' + currentFilter.id + 'Search' | translate\"\n                        (click)=\"removeFilter(currentFilter)\">\n                        <ion-icon *ngIf=\"currentFilter.id === 'title'\" name=\"document-text-outline\"></ion-icon>\n                        <ion-icon *ngIf=\"currentFilter.id === 'reference'\" name=\"compass-outline\"></ion-icon>\n                        <ion-icon *ngIf=\"currentFilter.id === 'documentId'\" name=\"bookmark-outline\"></ion-icon>\n                        <ion-label>{{ currentFilter.val }}</ion-label>\n                        <ion-icon name=\"close-circle\"></ion-icon>\n                    </ion-chip>\n                    <div *ngIf=\"currentFilter.id === 'workflowStates' && currentFilter.val.length > 0\">\n                        <ion-chip outline *ngFor=\"let item of currentFilter.val\" color=\"primary\"\n                            style=\"background: white;\" [title]=\"'lang.workflowStatesSearch' | translate\"\n                            (click)=\"removeFilter(currentFilter, item.id)\">\n                            <ion-icon name=\"swap-horizontal-outline\"></ion-icon>\n                            <ion-label>{{ item.label | translate}}</ion-label>\n                            <ion-icon name=\"close-circle\"></ion-icon>\n                            \n                        </ion-chip>\n                    </div>\n                    <div *ngIf=\"currentFilter.id === 'workflowUsers' && currentFilter.val.length > 0\">\n                        <ion-chip outline *ngFor=\"let item of currentFilter.val\" color=\"primary\"\n                            style=\"background: white;\" [title]=\"'lang.workflowUsersSearch' | translate\"\n                            (click)=\"removeFilter(currentFilter, item)\">\n                            <ion-icon name=\"person-outline\"></ion-icon>\n                            <ion-label>{{ item.firstname}} {{ item.lastname }}</ion-label>\n                            <ion-icon name=\"close-circle\"></ion-icon>\n                        </ion-chip>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </ion-toolbar>\n</ion-header>\n<ion-content>\n    <ion-list class=\"no-result\" *ngIf=\"ressources.length === 0\">\n        <ion-item lines=\"none\">\n            <ion-label class=\"no-result-label\" color=\"medium\">{{'lang.noResult' | translate}}</ion-label>\n        </ion-item>\n    </ion-list>\n    <ion-list *ngIf=\"ressources.length > 0\">\n        <ion-virtual-scroll [items]=\"ressources\" approxItemHeight=\"165px\">\n            <ion-item *virtualItem=\"let element\">\n                <ion-label>\n                    <ion-toolbar color=\"light\">\n                        <ion-title size=\"small\">\n                            <p\n                                style=\"display: flex;align-items: center;white-space: pre;overflow-x: auto;overflow-y: hidden;\">\n                                <ng-container *ngFor=\"let itemW of element.workflow;let i=index;\">\n                                    <ion-icon *ngIf=\"i>0\" name=\"chevron-forward-outline\"></ion-icon>\n                                    <span class=\"workflow-item success\"\n                                        [class.success]=\"itemW.processDate!==null && itemW.status!=='STOP'\"\n                                        [class.typist-interrupt]=\"itemW.status==='REF'\"\n                                        [class.interrupt]=\"(itemW.processDate===null && itemW.status === 'END') || itemW.status === 'STOP'\"\n                                        [class.current]=\"itemW.current\"\n                                        [class.no-visa]=\"itemW.processDate===null && itemW.status===null && !itemW.current\">{{!this.functionsService.empty(itemW.userDisplay) ? itemW.userDisplay : ('lang.userDeleted' | translate)}}&nbsp;\n                                        <ion-icon\n                                            *ngIf=\"itemW.processDate!==null && itemW.status!=='REF' && itemW.status!=='STOP'\"\n                                            name=\"thumbs-up-outline\"></ion-icon>\n                                        <ion-icon *ngIf=\"itemW.processDate!==null && itemW.status==='REF'\"\n                                            name=\"thumbs-down-outline\"></ion-icon>\n                                        <ion-badge\n                                            *ngIf=\"itemW.processDate===null && (itemW.status===null || ['END','STOP'].indexOf(itemW.status) > -1)\"\n                                            color=\"medium\">{{'lang.' + itemW.mode + 'User' | translate}}</ion-badge>\n                                    </span>\n                                </ng-container>\n                            </p>\n                        </ion-title>\n                    </ion-toolbar>\n                    <ion-item-sliding #slidingItem (ionDrag)=\"onSliding($event, element.id)\">\n                        <ion-item lines=\"none\">\n                            <ion-icon *ngIf=\"element.state == 'PROG'\" color=\"primary\" slot=\"start\"\n                                name=\"hourglass-outline\">\n                            </ion-icon>\n                            <ion-icon *ngIf=\"element.state == 'STOP'\" color=\"danger\" slot=\"start\"\n                                name=\"hand-left-outline\">\n                            </ion-icon>\n                            <ion-icon *ngIf=\"element.state == 'VAL'\" color=\"success\" slot=\"start\"\n                                name=\"thumbs-up-outline\">\n                            </ion-icon>\n                            <ion-icon *ngIf=\"element.state == 'REF'\" color=\"danger\" slot=\"start\"\n                                name=\"thumbs-down-outline\">\n                            </ion-icon>\n                            <ion-label (click)=\"goTo(element.id)\" [title]=\"'lang.accessDocument' | translate\"\n                                style=\"cursor: pointer;\">\n                                <p>{{element.reference}}</p>\n                                <h2>{{element.title}}</h2>\n                                <p *ngIf=\"element.reason.length > 0\" class=\"primary\">\n                                    <ng-container *ngFor=\"let note of element.reason\">\n                                        <ion-icon name=\"chatbox-outline\"></ion-icon> {{note}}\n                                    </ng-container>\n                                </p>\n                            </ion-label>\n                            <ion-buttons slot=\"end\">\n                                <ion-button *ngIf=\"openedLine===element.id\" slot=\"icon-only\" fill=\"clear\" shape=\"round\"\n                                    (click)=\"$event.stopPropagation();toggleSlide(slidingItem, element.id)\">\n                                    <ion-icon color=\"medium\" slot=\"icon-only\" name=\"arrow-forward-outline\"></ion-icon>\n                                </ion-button>\n                                <ion-button *ngIf=\"openedLine!==element.id\" slot=\"icon-only\" fill=\"clear\" shape=\"round\"\n                                    (click)=\"$event.stopPropagation();toggleSlide(slidingItem, element.id)\">\n                                    <ion-icon color=\"medium\" slot=\"icon-only\" name=\"arrow-back-outline\"></ion-icon>\n                                </ion-button>\n                            </ion-buttons>\n                        </ion-item>\n                        <ion-item-options>\n                            <ion-item-option *ngIf=\"element.state !== 'PROG'\" color=\"primary\"\n                                (click)=\"openPromptProof(element)\">\n                                <ion-icon slot=\"bottom\" name=\"ribbon-sharp\"></ion-icon>\n                                {{'lang.download' | translate}}\n                            </ion-item-option>\n                            <ion-item-option color=\"primary\" (click)=\"openActions(element)\">\n                                <ion-icon slot=\"bottom\" name=\"settings-sharp\"></ion-icon>\n                                {{'lang.actions' | translate}}\n                            </ion-item-option>\n                        </ion-item-options>\n                    </ion-item-sliding>\n\n                </ion-label>\n            </ion-item>\n        </ion-virtual-scroll>\n    </ion-list>\n    <ion-infinite-scroll threshold=\"100px\" (ionInfinite)=\"loadData($event)\">\n        <ion-infinite-scroll-content loadingSpinner=\"bubbles\" [loadingText]=\"'lang.loadingMoreData' | translate\">\n        </ion-infinite-scroll-content>\n    </ion-infinite-scroll>\n</ion-content>\n<ng-template #rightContent>\n    <ion-header [translucent]=\"true\">\n        <ion-toolbar color=\"primary\">\n            <ion-buttons slot=\"start\">\n                <ion-back-button></ion-back-button>\n            </ion-buttons>\n            <ion-title class=\"ion-text-center\">{{ 'lang.filters' | translate }}</ion-title>\n        </ion-toolbar>\n    </ion-header>\n    <ion-content>\n        <ion-list *ngFor=\"let filter of filters\">\n            <ng-container *ngIf=\"filter.type === 'text'\">\n                <ion-item>\n                    <ion-label color=\"secondary\" position=\"floating\">{{'lang.' + filter.id + 'Search' | translate}}\n                    </ion-label>\n                    <ion-input [(ngModel)]=\"filter.val\" [value]=\"filter.val\" (keyup.enter)=\"launchSearch()\"\n                        (ionChange)=\"checkInput()\"></ion-input>\n                </ion-item>\n            </ng-container>\n            <ng-container *ngIf=\"filter.type === 'checkbox'\">\n                <ion-list-header>\n                    <ion-label color=\"secondary\">{{'lang.' + filter.id + 'Search' | translate}}</ion-label>\n                </ion-list-header>\n                <ion-item *ngFor=\"let val of filter.values;let i=index;\">\n                    <ion-label>{{val.label | translate}}</ion-label>\n                    <ion-checkbox (ngModelChange)=\"toggleItem(filter, val, !val.selected)\" [(ngModel)]=\"val.selected\" [checked]=\"val.selected\"\n                        slot=\"end\" [value]=\"val.id\" class=\"workflowStates\">\n                    </ion-checkbox>\n                </ion-item>\n            </ng-container>\n            <ng-container *ngIf=\"filter.type === 'autocompleteUsers'\">\n                <ion-list-header>\n                    <ion-label color=\"secondary\">{{'lang.' + filter.id + 'Search' | translate}}</ion-label>\n                </ion-list-header>\n                <plugin-autocomplete [currentItems]=\"filter.val\"></plugin-autocomplete>\n            </ng-container>\n        </ion-list>\n    </ion-content>\n    <ion-footer class=\"ion-no-border\">\n        <div class=\"ion-text-center\" style=\"background: white;\">\n            <ion-button color=\"primary\" shape=\"round\" size=\"large\" fill=\"outline\" (click)=\"onSubmit()\">\n                <ion-label style=\"font-size: 13px;\">{{'lang.search' | translate}}</ion-label>\n            </ion-button>\n        </div>\n    </ion-footer>\n</ng-template>","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { NotificationService } from '../../service/notification.service';\nimport { FormBuilder, FormGroup, Validators, ValidationErrors, AbstractControl, ValidatorFn } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport {SignaturesContentService} from '../../service/signatures.service';\nimport {AuthService} from '../../service/auth.service';\n\n@Component({\n    templateUrl: 'password-modification.component.html',\n    styleUrls: ['password-modification.scss'],\n})\nexport class PasswordModificationComponent implements OnInit {\n\n    config: any = {};\n\n    loading: boolean = false;\n\n    user: any = {};\n    ruleText: string = '';\n    otherRuleText: string;\n    hidePassword: boolean = true;\n    validPassword: boolean = false;\n    firstFormGroup: FormGroup;\n\n    passwordRules: any = {\n        minLength: { enabled: false, value: 0 },\n        complexityUpper: { enabled: false, value: 0 },\n        complexityNumber: { enabled: false, value: 0 },\n        complexitySpecial: { enabled: false, value: 0 },\n        renewal: { enabled: false, value: 0 },\n        historyLastUse: { enabled: false, value: 0 },\n    };\n\n    passwordModel: any = {\n        currentPassword: '',\n        newPassword: '',\n        reNewPassword: '',\n    };\n\n\n    constructor(\n        public http: HttpClient,\n        private notify: NotificationService,\n        private _formBuilder: FormBuilder,\n        public translate: TranslateService,\n        public signaturesService: SignaturesContentService,\n        public authService: AuthService,\n        private router: Router,\n    ) {\n        this.user =  JSON.parse(atob(this.authService.getToken().split('.')[1])).user;\n    }\n\n    ngOnInit(): void {\n        this.http.get('../rest/passwordRules')\n            .subscribe((data: any) => {\n                const valArr: ValidatorFn[] = [];\n                const ruleTextArr: String[] = [];\n                const otherRuleTextArr: String[] = [];\n\n                valArr.push(Validators.required);\n\n                data.rules.forEach((rule: any) => {\n                    if (rule.label === 'minLength') {\n                        this.passwordRules.minLength.enabled = rule.enabled;\n                        this.passwordRules.minLength.value = rule.value;\n                        if (rule.enabled) {\n                            valArr.push(Validators.minLength(this.passwordRules.minLength.value));\n                            ruleTextArr.push(rule.value + ' ' + this.translate.instant('lang.password_' + rule.label));\n                        }\n                    } else if (rule.label === 'complexityUpper') {\n                        this.passwordRules.complexityUpper.enabled = rule.enabled;\n                        this.passwordRules.complexityUpper.value = rule.value;\n                        if (rule.enabled) {\n                            valArr.push(this.regexValidator(new RegExp('[A-Z]'), { 'complexityUpper': '' }));\n                            ruleTextArr.push(this.translate.instant('lang.password_' + rule.label));\n                        }\n                    } else if (rule.label === 'complexityNumber') {\n                        this.passwordRules.complexityNumber.enabled = rule.enabled;\n                        this.passwordRules.complexityNumber.value = rule.value;\n                        if (rule.enabled) {\n                            valArr.push(this.regexValidator(new RegExp('[0-9]'), { 'complexityNumber': '' }));\n                            ruleTextArr.push(this.translate.instant('lang.password_' + rule.label));\n                        }\n                    } else if (rule.label === 'complexitySpecial') {\n                        this.passwordRules.complexitySpecial.enabled = rule.enabled;\n                        this.passwordRules.complexitySpecial.value = rule.value;\n                        if (rule.enabled) {\n                            valArr.push(this.regexValidator(new RegExp('[^A-Za-z0-9]'), { 'complexitySpecial': '' }));\n                            ruleTextArr.push(this.translate.instant('lang.password_' + rule.label));\n                        }\n                    } else if (rule.label === 'renewal') {\n                        this.passwordRules.renewal.enabled = rule.enabled;\n                        this.passwordRules.renewal.value = rule.value;\n                        if (rule.enabled) {\n                            otherRuleTextArr.push(this.translate.instant('lang.password_' + rule.label) + ' <b>' + rule.value + ' ' + this.translate.instant('lang.days') + '</b>. ' + this.translate.instant('lang.password2_' + rule.label) + '.');\n                        }\n                    } else if (rule.label === 'historyLastUse') {\n                        this.passwordRules.historyLastUse.enabled = rule.enabled;\n                        this.passwordRules.historyLastUse.value = rule.value;\n                        if (rule.enabled) {\n                            otherRuleTextArr.push(this.translate.instant('lang.password_historyLastUseDesc') + ' <b>' + rule.value + '</b> ' + this.translate.instant('lang.password_historyLastUseDesc2') + '.');\n                        }\n                    }\n                });\n                this.ruleText = ruleTextArr.join(', ');\n                this.otherRuleText = otherRuleTextArr.join('<br/>');\n                this.firstFormGroup.controls['newPasswordCtrl'].setValidators(valArr);\n            }, (err: any) => {\n                this.notify.error(err.error.errors);\n            });\n\n        this.firstFormGroup = this._formBuilder.group({\n            newPasswordCtrl: [\n                ''\n            ],\n            retypePasswordCtrl: [\n                '',\n                Validators.compose([Validators.required])\n            ],\n            currentPasswordCtrl: [\n                '',\n                Validators.compose([Validators.required])\n            ]\n        }, {\n            validator: this.matchValidator\n        });\n    }\n\n    regexValidator(regex: RegExp, error: ValidationErrors): ValidatorFn {\n        return (control: AbstractControl): { [key: string]: any } => {\n            if (!control.value) {\n                return null;\n            }\n            const valid = regex.test(control.value);\n            return valid ? null : error;\n        };\n    }\n\n    matchValidator(group: FormGroup) {\n        if (group.controls['newPasswordCtrl'].value === group.controls['retypePasswordCtrl'].value) {\n            return false;\n        } else {\n            group.controls['retypePasswordCtrl'].setErrors({ 'mismatch': true });\n            return { 'mismatch': true };\n        }\n    }\n\n    getErrorMessage() {\n        if (this.firstFormGroup.controls['newPasswordCtrl'].value !== this.firstFormGroup.controls['retypePasswordCtrl'].value) {\n            this.firstFormGroup.controls['retypePasswordCtrl'].setErrors({ 'mismatch': true });\n        } else {\n            this.firstFormGroup.controls['retypePasswordCtrl'].setErrors(null);\n        }\n        if (this.firstFormGroup.controls['newPasswordCtrl'].hasError('required')) {\n            return this.translate.instant('lang.requiredField') + ' !';\n        } else if (this.firstFormGroup.controls['newPasswordCtrl'].hasError('minlength') && this.passwordRules.minLength.enabled) {\n            return this.passwordRules.minLength.value + ' ' + this.translate.instant('lang.password_minLength') + ' !';\n        } else if (this.firstFormGroup.controls['newPasswordCtrl'].errors != null && this.firstFormGroup.controls['newPasswordCtrl'].errors.complexityUpper !== undefined && this.passwordRules.complexityUpper.enabled) {\n            return this.translate.instant('lang.password_complexityUpper') + ' !';\n        } else if (this.firstFormGroup.controls['newPasswordCtrl'].errors != null && this.firstFormGroup.controls['newPasswordCtrl'].errors.complexityNumber !== undefined && this.passwordRules.complexityNumber.enabled) {\n            return this.translate.instant('lang.password_complexityNumber') + ' !';\n        } else if (this.firstFormGroup.controls['newPasswordCtrl'].errors != null && this.firstFormGroup.controls['newPasswordCtrl'].errors.complexitySpecial !== undefined && this.passwordRules.complexitySpecial.enabled) {\n            return this.translate.instant('lang.password_complexitySpecial') + ' !';\n        } else {\n            this.firstFormGroup.controls['newPasswordCtrl'].setErrors(null);\n            this.validPassword = true;\n            return '';\n        }\n    }\n\n    onSubmit() {\n        this.passwordModel.currentPassword = this.firstFormGroup.controls['currentPasswordCtrl'].value;\n        this.passwordModel.newPassword = this.firstFormGroup.controls['newPasswordCtrl'].value;\n        this.passwordModel.passwordConfirmation = this.firstFormGroup.controls['retypePasswordCtrl'].value;\n        this.http.put('../rest/users/' + this.user.id + '/password', this.passwordModel)\n            .subscribe(() => {\n                this.notify.success(this.translate.instant('lang.passwordChanged'));\n                if (this.authService.user.picture === undefined) {\n                    this.http.get('../rest/users/' + this.authService.user.id + '/picture')\n                        .subscribe((dataPic: any) => {\n                            this.authService.user.picture = dataPic.picture;\n                        });\n                }\n                this.router.navigate(['/home']);\n            }, (err: any) => {\n                this.notify.handleErrors(err);\n            });\n    }\n\n    logout() {\n        this.authService.logout();\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n        </ion-buttons>\n        <ion-title>{{'lang.passwordModification' | translate}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content #mainContent>\n    <form [formGroup]=\"firstFormGroup\" (ngSubmit)=\"onSubmit()\" style=\"display: contents;\">\n        <ion-grid>\n            <ion-row>\n                <ion-col offset=\"3\" size=\"6\">\n                    <ion-card class=\"info\">\n                        <ion-card-content>\n                            {{'lang.hello' | translate}} <b> {{user.firstname}} {{user.lastname}}</b>, {{'lang.changePasswordInfo' | translate}}.\n                        </ion-card-content>\n                    </ion-card>\n                    <ion-item>\n                        <ion-label color=\"secondary\" position=\"stacked\">{{'lang.typeCurrentPassword' | translate}}</ion-label>\n                        <ion-input placeholder=\"{{'lang.typeCurrentPassword' | translate}}\" formControlName=\"currentPasswordCtrl\" required [type]=\"hidePassword ? 'password' : 'text'\"></ion-input>\n                        <ion-button class=\"showpassButton\" slot=\"end\" color=\"light\"\n                            (click)=\"hidePassword = !hidePassword\">\n                            <ion-icon slot=\"icon-only\" color=\"primary\"\n                                [name]=\"hidePassword ? 'eye-outline' : 'eye-off-outline'\"></ion-icon>\n                        </ion-button>\n                        <ion-note *ngIf=\"firstFormGroup.controls['currentPasswordCtrl'].hasError('required')\" color=\"danger\">{{'lang.requiredField' | translate}}</ion-note>\n                    </ion-item>\n                    <ion-list-header lines=\"full\">\n                        <ion-label color=\"dark\">{{this.ruleText}}</ion-label>\n                    </ion-list-header>\n                    <ion-item>\n                        <ion-label color=\"secondary\" position=\"stacked\">{{'lang.passwordConfirmation' | translate}}\n                        </ion-label>\n                        <ion-input #inputPasswd placeholder=\"{{'lang.passwordConfirmation' | translate}}\" formControlName=\"newPasswordCtrl\" required\n                        [type]=\"hidePassword ? 'password' : 'text'\"></ion-input>\n                        <ion-button class=\"showpassButton\" slot=\"end\" color=\"light\"\n                            (click)=\"hidePassword = !hidePassword\">\n                            <ion-icon slot=\"icon-only\" color=\"primary\"\n                                [name]=\"hidePassword ? 'eye-outline' : 'eye-off-outline'\"></ion-icon>\n                        </ion-button>\n                        <ion-item *ngIf=\"validPassword\" lines=\"none\">\n                            <ion-icon slot=\"start\" color=\"success\" name=\"checkmark-outline\"></ion-icon>\n                            <ion-label color=\"success\">{{'lang.passwordValid' | translate}}</ion-label>\n                        </ion-item>\n                        <ion-note color=\"danger\">{{getErrorMessage()}}</ion-note>\n                    </ion-item>\n                    <ion-item>\n                        <ion-label color=\"secondary\" position=\"stacked\">{{'lang.passwordConfirmation' | translate}}\n                        </ion-label>\n                        <ion-input #inputPasswd2 placeholder=\"{{'lang.passwordConfirmation' | translate}}\" required [type]=\"hidePassword ? 'password' : 'text'\"\n                        formControlName=\"retypePasswordCtrl\"></ion-input>\n                        <ion-button class=\"showpassButton\" slot=\"end\" color=\"light\"\n                            (click)=\"hidePassword = !hidePassword\">\n                            <ion-icon slot=\"icon-only\" color=\"primary\"\n                                [name]=\"hidePassword ? 'eye-outline' : 'eye-off-outline'\"></ion-icon>\n                        </ion-button>\n                        <ion-item *ngIf=\"!firstFormGroup.controls['retypePasswordCtrl'].hasError('mismatch') && firstFormGroup.controls['retypePasswordCtrl'].value != ''\" lines=\"none\">\n                            <ion-icon slot=\"start\" color=\"success\" name=\"checkmark-outline\"></ion-icon>\n                            <ion-label color=\"success\">{{'lang.passwordMatch' | translate}}</ion-label>\n                        </ion-item>\n                        <ion-note color=\"danger\">{{'lang.passwordNotMatch' | translate}}</ion-note>\n                    </ion-item>\n                </ion-col>\n            </ion-row>\n        </ion-grid>\n        <ion-item text-center lines=\"none\" style=\"position: sticky;bottom:0px;z-index:1;\">\n            <div style=\"display: flex;align-items: center;justify-content: center;width: 100%;background: white;\">\n                <ion-button type=\"submit\" shape=\"round\" size=\"large\" fill=\"outline\" color=\"primary\"\n                    [disabled]=\"!firstFormGroup.valid\">\n                    <ion-label style=\"font-size: 13px;\">{{'lang.validate' | translate}}</ion-label>\n                </ion-button>\n                <ion-button type=\"button\" shape=\"round\" size=\"large\" fill=\"outline\" color=\"default\" (click)=\"logout()\">\n                    <ion-label style=\"font-size: 13px;\">{{'lang.logout' | translate}}</ion-label>\n                </ion-button>\n            </div>\n        </ion-item>\n    </form>\n    <ion-item color=\"warning\" *ngIf=\"passwordRules.renewal.enabled || passwordRules.historyLastUse.enabled\" class=\"alert-warning\" role=\"alert\" [innerHTML]=\"otherRuleText\"></ion-item>\n</ion-content>\n","import { Component, ViewChild, Output, EventEmitter } from '@angular/core';\nimport { SignaturePad } from 'angular2-signaturepad';\nimport { Observable } from 'rxjs';\nimport { SignaturesContentService } from '../service/signatures.service';\nimport { HttpClient } from '@angular/common/http';\nimport { NotificationService } from '../service/notification.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { finalize } from 'rxjs/operators';\nimport { AuthService } from '../service/auth.service';\nimport { LocalStorageService } from '../service/local-storage.service';\nimport { ModalController } from '@ionic/angular';\n\ninterface AfterViewInit {\n    ngAfterViewInit(): void;\n}\n@Component({\n    selector: 'app-pad',\n    templateUrl: 'pad.component.html',\n    styleUrls: ['pad.component.scss']\n})\nexport class SignaturePadPageComponent implements AfterViewInit {\n\n    @ViewChild('signaturePad') signaturePad: SignaturePad;\n\n    @Output() reloaded = new EventEmitter<string>();\n\n    penColors = [{ id: 'black' }, { id: '#1a75ff' }, { id: '#FF0000'}];\n    selectedColor: any;\n    haveSigned: any;\n    disableState = false;\n\n    pad$: Observable<boolean>;\n\n    signaturePadOptions: Object = {\n        // passed through to szimek/signature_pad constructor\n        minWidth: 1,\n        maxWidth: 2.5,\n        // dotSize: 0,\n        backgroundColor: 'rgba(255, 255, 255, 0)',\n        canvasWidth: 600,\n        canvasHeight: 400\n    };\n\n    constructor(private translate: TranslateService,\n        public http: HttpClient,\n        public signaturesService: SignaturesContentService,\n        public notificationService: NotificationService,\n        public authService: AuthService,\n        private localStorage: LocalStorageService,\n        public modalController: ModalController\n    ) { }\n\n    ngAfterViewInit() {\n        const signPointsData = this.localStorage.get('signature');\n        if (signPointsData) {\n            // this.signaturePad.fromData( signPointsData );\n        }\n    }\n\n    onColorChange(entry: any) {\n        this.selectedColor = Object.assign({}, this.selectedColor, entry);\n        this.signaturePad.set('penColor', this.selectedColor.id );\n    }\n\n    onDotChange(entry: any) {\n        this.signaturePad.set('minWidth', parseFloat(entry) );\n        this.signaturePad.set('maxWidth', parseFloat(entry) + 2 );\n    }\n\n    drawComplete() {\n        this.localStorage.save('signature', JSON.stringify(this.signaturePad.toData()));\n        this.haveSigned = true;\n    }\n\n    drawClear() {\n        this.signaturePad.clear();\n        this.haveSigned = false;\n    }\n\n    closePad() {\n        this.modalController.dismiss('cancel');\n    }\n\n    saveSignature() {\n        this.disableState = true;\n        this.haveSigned = true;\n        const newEncodedSign = this.signaturePad.toDataURL('image/png').replace('data:image/png;base64,', '');\n        this.localStorage.save('signature', JSON.stringify(newEncodedSign));\n\n        // Save signature in BDD\n        const newSign = {\n            'id': 0,\n            'encodedSignature': newEncodedSign,\n            'format': 'png'\n        };\n\n        this.http.post('../rest/users/' + this.authService.user.id + '/signatures', newSign)\n            .pipe(\n                finalize(() => {\n                    this.disableState = false;\n                })\n            )\n            .subscribe((data: any) => {\n                newSign.id = data.signatureId;\n                this.signaturesService.signaturesList.unshift(\n                    {\n                        id: newSign.id,\n                        encodedSignature: newSign.encodedSignature\n                    }\n                );\n                this.modalController.dismiss('reload');\n                this.notificationService.success('lang.signatureRegistered');\n            });\n\n        // BUG IMAGE CROPPED\n        // this.localStorage.save('signature', JSON.stringify(this.signaturePad.toDataURL('image/svg+xml')));\n    }\n\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-title>{{'lang.createNewSignature' | translate}}</ion-title>\n        <ion-buttons slot=\"end\">\n            <ion-button (click)=\"closePad()\">\n                <ion-icon slot=\"icon-only\" name=\"close-outline\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"light\" class=\"pad\">\n        <section class=\"pad-actions\">\n            <div class=\"pad-actions-boxed\">\n                <ng-container *ngFor=\"let color of penColors\" let idx=\"index\">\n                    <input type=\"radio\" name=\"colors\" [checked]=\"idx === 0\" [value]=\"color.id\" (change)=\"onColorChange(color)\"\n                           class=\"radio\" [ngStyle]=\"{'border-color': color.id, 'background-color': color.id}\">\n                </ng-container>\n            </div>\n            <button (click)=\"drawClear()\" class=\"btn\">{{'lang.erase' | translate}}</button>\n            <div class=\"pad-actions-boxed\">\n                <input type=\"range\" name=\"dot\" min=\"1\" max=\"10\" step=\"1\" value=\"1\" (input)=\"onDotChange($event.target.value)\" class=\"range\">\n            </div>\n        </section>\n    </ion-toolbar>\n</ion-header>\n<ion-content #padContent>\n    <article class=\"pad\">\n        <section class=\"pad-draw\">\n            <signature-pad #signaturePad class=\"padContent\" [options]=\"signaturePadOptions\" (onEndEvent)=\"drawComplete()\"></signature-pad>\n        </section>\n        <div class=\"draw\"></div>\n    </article>\n</ion-content>\n<ion-footer class=\"footer-buttons\">\n    <ion-button color=\"danger\" (click)=\"closePad()\">\n        <ion-label>{{'lang.cancel' | translate}}</ion-label>\n    </ion-button>\n    <ion-button color=\"success\" (click)=\"saveSignature()\">\n        <ion-label>{{'lang.save' | translate}}</ion-label>\n    </ion-button>\n</ion-footer>\n<!--<article class=\"pad\">\n    <section class=\"pad-actions\">\n        <div class=\"pad-actions-boxed\">\n            <ng-container *ngFor=\"let color of penColors\" let idx=\"index\">\n                <input type=\"radio\" name=\"colors\" [checked]=\"idx === 0\" [value]=\"color.id\" (change)=\"onColorChange(color)\"\n                       class=\"radio\" [ngStyle]=\"{'border-color': color.id, 'background-color': color.id}\">\n            </ng-container>\n        </div>\n        <button (click)=\"drawClear()\" class=\"btn\">{{'lang.erase' | translate}}</button>\n        <div class=\"pad-actions-boxed\">\n            <input type=\"range\" name=\"dot\" min=\"1\" max=\"10\" step=\"1\" value=\"1\" (input)=\"onDotChange($event.target.value)\" class=\"range\">\n        </div>\n    </section>\n    <section class=\"pad-draw\">\n        <signature-pad class=\"padContent\" [options]=\"signaturePadOptions\" (onEndEvent)=\"drawComplete()\"></signature-pad>\n    </section>\n    <section class=\"pad-actions\">\n        <button class=\"btn red\" (click)=\"closePad()\"><i class=\"fas fa-times-circle fa-2x\"></i> {{'lang.cancel' | translate}}</button>\n        <button class=\"btn green\" (click)=\"saveSignature()\" [disabled]=\"!haveSigned || disableState\">{{'lang.save' | translate}} <i class=\"fas fa-check-circle fa-2x\"></i></button>\n    </section>\n    <div class=\"draw\"></div>\n</article>-->\n","import { Component, Input, OnInit } from '@angular/core';\nimport { LoadingController, ModalController } from '@ionic/angular';\nimport { catchError, tap } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { NotificationService } from '../notification.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ActionsService } from '../actions.service';\nimport { SignaturesContentService } from '../signatures.service';\nimport { AuthService } from '../auth.service';\nimport { FunctionsService } from '../functions.service';\n\n@Component({\n    selector: 'signature-method-modal',\n    templateUrl: 'signature-method-modal.component.html',\n    styleUrls: ['./signature-method-modal.component.scss']\n})\nexport class SignatureMethodModalComponent implements OnInit {\n\n    @Input() note: string;\n    @Input() signatureMode: string;\n    @Input() idsToProcess: any[];\n\n    filters: any = {\n        //   onlySmartcards: false,\n        expired: false,\n        keyUsage: [],\n        onlyWithPrivateKey: true\n    };\n\n    provider: any = null;\n    cert: any = null;\n    certPem: any = null;\n    privateKey: any = null;\n\n    signatures: any[] = [];\n\n    signature: string;\n    certificate: any;\n    signatureLength: any = null;\n\n    server: any = null;\n\n    constructor(\n        public modalController: ModalController,\n        public http: HttpClient,\n        public translate: TranslateService,\n        public notificationService: NotificationService,\n        public loadingController: LoadingController,\n        public signaturesService: SignaturesContentService,\n        public actionsService: ActionsService,\n        private functionsService: FunctionsService,\n        public authService: AuthService\n    ) { }\n\n    async ngOnInit(): Promise<void> {\n        const signatureModeData = this.authService.signatureRoles.filter((mode: any) => mode.id === this.signatureMode)[0];\n        if (!this.functionsService.empty(signatureModeData.issuer)) {\n            this.filters.issuerDNMatch = new RegExp(signatureModeData.issuer, 'i');\n        }\n        if (!this.functionsService.empty(signatureModeData.subject)) {\n            this.filters.subjectDNMatch = new RegExp(signatureModeData.subject, 'i');\n        }\n        if (!this.functionsService.empty(signatureModeData.keyUsage)) {\n            this.filters.keyUsage.push(signatureModeData.keyUsage);\n        }\n    }\n\n    async certificateChosen(certData: any) {\n        this.loadingController.create({\n            message: this.translate.instant('lang.processing'),\n            spinner: 'dots'\n        }).then(async (load: HTMLIonLoadingElement) => {\n            load.present();\n\n            try {\n                this.server = certData.detail.server;\n                this.checkWebsocketSession();\n                this.provider = await certData.detail.server.getCrypto(certData.detail.providerId);\n                this.checkWebsocketSession();\n                this.cert = await this.provider.certStorage.getItem(certData.detail.certificateId);\n                this.checkWebsocketSession();\n                this.certPem = await this.provider.certStorage.exportCert('pem', this.cert);\n                this.checkWebsocketSession();\n                this.privateKey = await this.provider.keyStorage.getItem(certData.detail.privateKeyId);\n            } catch (e) {\n                this.notificationService.error(e);\n                load.dismiss();\n                this.modalController.dismiss(false);\n                return;\n            }\n\n            this.certificate = {\n                certificate: this.certPem\n            };\n\n            let result: any = false;\n\n            for (let index = 0; index < this.idsToProcess.length; index++) {\n                this.signatures = await this.actionsService.getElementsFromDoc();\n                result = await this.sendAndSign(this.idsToProcess[index]);\n            }\n            load.dismiss();\n            this.modalController.dismiss(result);\n        });\n    }\n\n    async checkWebsocketSession() {\n        // session closed?!\n        while (this.server.client.state !== WebSocket.OPEN) {\n            await this.server.connect();\n            await new Promise(resolve => setTimeout(resolve, 150));\n        }\n    }\n\n    async sendAndSign(idToProcess: number) {\n        let allSignaturesComplete: boolean = false;\n        let res: any = {};\n        while (!allSignaturesComplete) {\n            let signDocComplete: any = false;\n            while (signDocComplete === false) {\n                res = await this.fusionStampAndGenerateSignature(idToProcess, res.tmpUniqueId);\n                if (res === null) {\n                    return false;\n                } else if (res !== false) {\n                    signDocComplete = await this.signDocument(idToProcess, res.hashDocument, res.signatureContentLength, res.signatureFieldName, res.tmpUniqueId);\n                    if (signDocComplete === true) {\n                        this.signatures.shift();\n                        allSignaturesComplete = this.signatures.length === 0;\n                    } else {\n                        return false;\n                    }\n                } else {\n                    return false;\n                }\n            }\n        }\n        return allSignaturesComplete;\n    }\n\n    async fusionStampAndGenerateSignature(idToProcess: number, tmpUniqueId: string = null) {\n        let res: any = {};\n        res = await this.actionsService.sendDocument(idToProcess, null, this.certificate, this.signatureLength, tmpUniqueId, this.signatures);\n        return res;\n    }\n\n    signDocument(idToProcess: number, hashDocument: any, eSignatureLength: any, signatureFieldName: any, tmpUniqueId: string) {\n        return new Promise(async (resolve) => {\n            const alg = {\n                name: this.privateKey.algorithm.name,\n                hash: 'SHA-256',\n            };\n            const hashDocumentHex = this.fromHex(hashDocument);\n\n            let hashSignature: any;\n\n            try {\n                this.checkWebsocketSession();\n                hashSignature = await this.provider.subtle.sign(alg, this.privateKey, hashDocumentHex);\n            } catch (e) {\n                this.notificationService.error(e);\n                resolve(false);\n                return of(false);\n            }\n\n            const note = {\n                note: this.note\n            };\n\n            const objEsign = {\n                signatures : this.signatures,\n                certificate: this.certPem,\n                hashSignature: this.toHex(hashSignature),\n                signatureContentLength: eSignatureLength,\n                signatureFieldName: signatureFieldName,\n                tmpUniqueId: tmpUniqueId,\n            };\n\n            const objToSend = {...note, ...objEsign };\n\n            this.http.put('../rest/documents/' + idToProcess + '/actions/' + this.signaturesService.currentAction, objToSend)\n                .pipe(\n                    tap(() => {\n                        resolve(true);\n                    }),\n                    catchError((err: any) => {\n                        if (err.error.newSignatureLength !== undefined) {\n                            this.signatureLength = err.error.newSignatureLength;\n                            resolve(false);\n                        } else {\n                            this.notificationService.handleErrors(err);\n                            resolve('error');\n                        }\n                        return of(false);\n                    })\n                ).subscribe();\n\n        });\n    }\n\n    cancelSign() {\n        this.modalController.dismiss(false);\n    }\n\n    toHex(buffer: any) {\n        const buf = new Uint8Array(buffer),\n            splitter = '',\n            res = [],\n            len = buf.length;\n\n        for (let i = 0; i < len; i++) {\n            const char = buf[i].toString(16);\n            res.push(char.length === 1 ? '0' + char : char);\n        }\n        return res.join(splitter);\n    }\n\n    fromHex(hexString: any) {\n        const res = new Uint8Array(hexString.length / 2);\n        for (let i = 0; i < hexString.length; i = i + 2) {\n            const c = hexString.slice(i, i + 2);\n            res[i / 2] = parseInt(c, 16);\n        }\n        return res.buffer;\n    }\n}\n","<ion-content>\n    <peculiar-fortify-certificates style=\"height: 100%;width: 100%;\" language=\"fr\" [filters]=\"filters\"\n        (continue)=\"certificateChosen($event)\" (cancel)=\"cancelSign()\" hide-footer></peculiar-fortify-certificates>\n</ion-content>\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { SignaturesContentService } from '../service/signatures.service';\nimport { Router } from '@angular/router';\n\n@Injectable()\nexport class FiltersService {\n\n    currentIndex: number = 0;\n    offset: number = 0;\n    limit: number = 10;\n\n    constructor(\n        public http: HttpClient,\n        public signaturesService: SignaturesContentService,\n        private router: Router\n    ) { }\n\n    resfreshDocuments(redirect: boolean = false) {\n        const limit = this.limit + this.offset;\n\n        this.http.get('../rest/documents?limit=' + limit + '&offset=0' + '&mode=' + this.signaturesService.mode)\n            .subscribe((data: any) => {\n                this.signaturesService.documentsList = data.documents;\n                this.signaturesService.documentsListCount = data.count;\n                if (redirect) {\n                    if (this.signaturesService.documentsList[this.currentIndex] !== undefined) {\n                        this.router.navigate(['/documents/' + this.signaturesService.documentsList[this.currentIndex].id]);\n                    } else if (this.signaturesService.documentsList.length > 0) {\n                        this.router.navigate(['/documents/' + this.signaturesService.documentsList[0].id]);\n                    } else {\n                        this.router.navigate(['/home']);\n                    }\n                }\n            });\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { AuthGuard } from './service/auth.guard';\n\nimport { AdministrationComponent } from './administration/home/administration.component';\nimport { UsersListComponent } from './administration/user/users-list.component';\nimport { UserComponent } from './administration/user/user.component';\nimport { GroupsListComponent } from './administration/group/groups-list.component';\nimport { GroupComponent } from './administration/group/group.component';\nimport { ConnectionComponent } from './administration/connection/connection.component';\nimport { LdapListComponent } from './administration/connection/ldap/ldap-list.component';\nimport { LdapComponent } from './administration/connection/ldap/ldap.component';\nimport { SendmailComponent } from './administration/sendmail/sendmail.component';\nimport { DocumentComponent } from './document/document.component';\nimport { LoginComponent } from './login/login.component';\nimport { ForgotPasswordComponent } from './login/forgotPassword/forgotPassword.component';\nimport { UpdatePasswordComponent } from './login/updatePassword/updatePassword.component';\nimport { SecuritiesAdministrationComponent } from './administration/security/securities-administration.component';\nimport { PasswordModificationComponent } from './login/passwordModification/password-modification.component';\nimport { ProfileComponent } from './profile/profile.component';\nimport { HomeComponent } from './home/home.component';\nimport { IndexationComponent } from './indexation/indexation.component';\nimport { SearchComponent } from './search/search.component';\nimport { HistoryListComponent } from './administration/history/history-list.component';\nimport { CustomizationComponent } from './administration/customization/customization.component';\n\n@NgModule({\n    imports: [\n        RouterModule.forRoot([\n            { path: 'home', canActivate: [AuthGuard], component: HomeComponent },\n            { path: 'indexation', canActivate: [AuthGuard], component: IndexationComponent },\n            { path: 'profile', canActivate: [AuthGuard], component: ProfileComponent },\n            { path: 'search', canActivate: [AuthGuard], component: SearchComponent },\n            { path: 'administration', canActivate: [AuthGuard], component: AdministrationComponent },\n            { path: 'administration/users', canActivate: [AuthGuard], component: UsersListComponent },\n            { path: 'administration/users/new', canActivate: [AuthGuard], component: UserComponent },\n            { path: 'administration/users/:id', canActivate: [AuthGuard], component: UserComponent },\n            { path: 'administration/groups', canActivate: [AuthGuard], component: GroupsListComponent },\n            { path: 'administration/groups/new', canActivate: [AuthGuard], component: GroupComponent },\n            { path: 'administration/groups/:id', canActivate: [AuthGuard], component: GroupComponent },\n            { path: 'administration/connections', canActivate: [AuthGuard], component: ConnectionComponent },\n            { path: 'administration/connections/ldaps', canActivate: [AuthGuard], component: LdapListComponent },\n            { path: 'administration/connections/ldaps/new', canActivate: [AuthGuard], component: LdapComponent },\n            { path: 'administration/connections/ldaps/:id', canActivate: [AuthGuard], component: LdapComponent },\n            { path: 'administration/emailConfiguration', canActivate: [AuthGuard], component: SendmailComponent },\n            { path: 'administration/passwordRules', canActivate: [AuthGuard], component: SecuritiesAdministrationComponent },\n            { path: 'administration/history', canActivate: [AuthGuard], component: HistoryListComponent },\n            { path: 'administration/customization', canActivate: [AuthGuard], component: CustomizationComponent},\n            { path: 'documents/:id', canActivate: [AuthGuard], component: DocumentComponent },\n            { path: 'login', canActivate: [AuthGuard], component: LoginComponent },\n            { path: 'forgot-password', component: ForgotPasswordComponent },\n            { path: 'update-password', component: UpdatePasswordComponent },\n            { path: 'password-modification', component: PasswordModificationComponent },\n            { path: '**', redirectTo: 'login', pathMatch: 'full' },\n        ], { relativeLinkResolution: 'legacy' }),\n    ],\n    exports: [\n        RouterModule\n    ]\n})\nexport class AppRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { SignaturesContentService } from '../../service/signatures.service';\nimport { NotificationService } from '../../service/notification.service';\nimport { HttpClient } from '@angular/common/http';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { finalize } from 'rxjs/operators';\nimport { AuthService } from '../../service/auth.service';\nimport { AlertController } from '@ionic/angular';\n\n\nexport interface Privilege {\n    id: string;\n    icon: string;\n    route: string;\n}\n\nexport interface Connection {\n    id: string;\n    allowed: boolean;\n}\n\n@Component({\n    selector: 'app-administration-connection',\n    templateUrl: 'connection.component.html',\n    styleUrls: ['../administration.scss', 'connection.component.scss'],\n})\n\nexport class ConnectionComponent implements OnInit {\n    loading: boolean = true;\n    privileges: Privilege[] = [\n        {\n            id: 'manage_ldap_configurations',\n            icon: 'server-sharp',\n            route: '/administration/connections/ldaps'\n        }\n    ];\n    id: number = 0;\n    label: string = '';\n    connectionList: Connection[] = [];\n\n    currentConnection: Connection;\n\n    constructor(\n        public http: HttpClient,\n        public signaturesService: SignaturesContentService,\n        public notificationService: NotificationService,\n        public alertController: AlertController,\n        public authService: AuthService\n    ) { }\n\n    ngOnInit(): void {\n        this.loading = true;\n        this.http.get('../rest/configurations',\n            {\n                params: {\n                    identifier: 'connection'\n                }\n            })\n            .pipe(\n                finalize(() => this.loading = false)\n            )\n            .subscribe({\n                next: (data: any) => {\n                    this.label = data.configurations.label;\n                    this.id = data.configurations.id;\n                    this.connectionList = data.configurations.availableConnections;\n                    const activeIndex = this.connectionList.findIndex(conn => conn.id === data.configurations.value);\n                    if (this.connectionList[activeIndex] !== undefined) {\n                        this.currentConnection = this.connectionList[activeIndex];\n                    } else {\n                        this.currentConnection = this.connectionList[0];\n                    }\n                },\n            });\n    }\n\n    async changeConnection(connection: any) {\n        this.http.patch('../rest/configurations/' + this.id, { label: this.label, value: connection })\n            .pipe(\n                finalize(() => this.loading = false)\n            )\n            .subscribe({\n                next: () => {\n                    this.authService.updateUserInfoWithTokenRefresh();\n                    this.notificationService.success('lang.connectionModeUpdated');\n                },\n            });\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-menu-button menu=\"left-menu\"></ion-menu-button>\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n        <ion-title>{{'lang.manage_connections' | translate}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content #mainContent>\n    <ion-item>\n        <ion-label color=\"secondary\">{{'lang.connectionMode' | translate}}</ion-label>\n        <ion-select *ngIf=\"currentConnection\" [value]=\"currentConnection.id\" cancelText=\"{{'lang.cancel' | translate}}\" (ionChange)=\"changeConnection($event.detail.value)\">\n            <ion-select-option *ngFor=\"let connection of connectionList\" [value]=\"connection.id\" \n               [disabled]=\"!connection.allowed\">\n                {{'lang.' + connection.id + 'Connection' | translate}}</ion-select-option>\n        </ion-select>\n    </ion-item>\n    <ion-grid>\n        <ion-row>\n            <ion-col *ngFor=\"let privilege of privileges\">\n                <ion-button [routerLink]=\"privilege.route\" expand=\"block\" size=\"large\" fill=\"outline\" color=\"secondary\"\n                    style=\"height: 200px;\">\n                    <div class=\"admin-content\">\n                        <ion-icon style=\"font-size: 70px;\" [name]=\"privilege.icon\" color=\"primary\"></ion-icon>\n                        <ion-label color=\"primary\" style=\"white-space: normal;\">{{'lang.' + privilege.id | translate}}\n                        </ion-label>\n                        <ion-note style=\"font-size: 8px;white-space: normal;padding: 10px;\">\n                            {{'lang.' + privilege.id + 'Desc' | translate}}</ion-note>\n                    </div>\n                </ion-button>\n            </ion-col>\n        </ion-row>\n    </ion-grid>\n</ion-content>","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { NotificationService } from '../../service/notification.service';\nimport { HttpClient } from '@angular/common/http';\nimport { tap, catchError } from 'rxjs/operators';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AuthService } from '../../service/auth.service';\nimport { of } from 'rxjs';\nimport { NgForm } from '@angular/forms';\nimport { FunctionsService } from '../../service/functions.service';\n\n@Component({\n    templateUrl: 'customization.component.html',\n    styleUrls: ['../administration.scss', 'customization.component.scss'],\n})\n\nexport class CustomizationComponent implements OnInit {\n\n    @ViewChild('customizationForm', { static: false }) customizationForm: NgForm;\n\n    loading: boolean = true;\n    loginMessage: string = '';\n    applicationUrl: string = '';\n\n    watermark = {\n        enabled: false,\n        text: 'Document n°[id]',\n        align: 'R',\n        posY: 10\n    };\n\n    constructor(\n        public http: HttpClient,\n        private translate: TranslateService,\n        public notificationService: NotificationService,\n        public authService: AuthService,\n        private functions: FunctionsService\n    ) { }\n\n    async ngOnInit() {\n        await this.getWatermark();\n        this.loading = false;\n    }\n\n    getWatermark() {\n        return new Promise((resolve) => {\n            this.http.get('../rest/customization/watermark').pipe(\n                tap((data: any) => {\n                    if (!this.functions.empty(data.configuration)) {\n                        this.watermark = data.configuration;\n                    }\n                    resolve(true);\n                }),\n                catchError((err: any) => {\n                    this.notificationService.handleErrors(err);\n                    return of(false);\n                })\n            ).subscribe();\n        });\n    }\n\n    onSubmit() {\n        this.http.put('../rest/customization', { id: this.authService.user.id, watermark: this.watermark }).pipe(\n            tap(() => {\n                this.notificationService.success(this.translate.instant('lang.modificationSaved'));\n            }),\n            catchError((err: any) => {\n                this.notificationService.handleErrors(err);\n                return of(false);\n            })\n        ).subscribe();\n    }\n\n    isNumber(evt: any) {\n        evt = (evt) ? evt : window.event;\n        const charCode = (evt.which) ? evt.which : evt.keyCode;\n        if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n            return false;\n        }\n        return true;\n    }\n\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-menu-button menu=\"left-menu\"></ion-menu-button>\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n        <ion-title>{{'lang.customization' | translate}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<form *ngIf=\"!loading\" style=\"display: contents;\" id=\"customizationForm\" (ngSubmit)=\"onSubmit()\"\n    #customizationForm=\"ngForm\">\n    <ion-content>\n        <ion-list>\n            <ion-list-header>\n                <ion-label color=\"secondary\">\n                    {{ 'lang.watermark' | translate}}\n                </ion-label>\n                <ion-button size=\"small\" color=\"danger\" *ngIf=\"watermark.enabled\" (click)=\"watermark.enabled=false\">\n                    {{ 'lang.disableWatermark' | translate}}</ion-button>\n            </ion-list-header>\n            <ion-item *ngIf=\"!watermark.enabled\">\n                <ion-button size=\"small\" color=\"primary\" (click)=\"watermark.enabled=true\">{{ 'lang.enableWatermark' |\n                    translate}}\n                </ion-button>\n            </ion-item>\n            <ng-container *ngIf=\"watermark.enabled\">\n                <ion-card>\n                    <ion-item color=\"primary\">\n                        <ion-icon name=\"information-circle\" slot=\"start\"></ion-icon>\n                        <ion-label style=\"white-space: initial;\" [innerHTML]=\"'lang.watermarkDesc' | translate\"></ion-label>\n                    </ion-item>\n                </ion-card>\n                <ion-item>\n                    <ion-label color=\"secondary\" position=\"floating\">{{ 'lang.content' | translate}}</ion-label>\n                    <ion-input name=\"watermarkContent\" [(ngModel)]=\"watermark.text\"></ion-input>\n                    <ion-note [innerHTML]=\"'lang.watermarkContentDesc' | translate\"></ion-note>\n                </ion-item>\n                <ion-radio-group [value]=\"watermark.align\" (ionChange)=\"watermark.align=$event.detail.value\">\n                    <ion-list-header>\n                        <ion-label color=\"secondary\">{{ 'lang.alignment' | translate}}</ion-label>\n                    </ion-list-header>\n\n                    <ion-item>\n                        <ion-label>{{ 'lang.left' | translate}}</ion-label>\n                        <ion-radio slot=\"start\" value=\"L\"></ion-radio>\n                    </ion-item>\n\n                    <ion-item>\n                        <ion-label>{{ 'lang.center' | translate}}</ion-label>\n                        <ion-radio slot=\"start\" value=\"C\"></ion-radio>\n                    </ion-item>\n\n                    <ion-item>\n                        <ion-label>{{ 'lang.right' | translate}}</ion-label>\n                        <ion-radio slot=\"start\" value=\"R\"></ion-radio>\n                    </ion-item>\n                </ion-radio-group>\n                <ion-item>\n                    <ion-label color=\"secondary\" position=\"floating\">{{ 'lang.positionY' | translate}}\n                    </ion-label>\n                    <ion-input type=\"number\" name=\"watermarkPosY\" [(ngModel)]=\"watermark.posY\" [min]=\"0\" (keypress)=\"isNumber($event)\"></ion-input>\n                    <ion-note slot=\"end\">px</ion-note>\n                </ion-item>\n            </ng-container>\n        </ion-list>\n        <ion-item text-center lines=\"none\" style=\"position: sticky;bottom:0px;z-index:1;\">\n            <div style=\"display: flex;align-items: center;justify-content: center;width: 100%;background: white;\">\n                <ion-button type=\"submit\" shape=\"round\" size=\"large\" fill=\"outline\" color=\"primary\">\n                    <ion-label style=\"font-size: 13px;\">{{'lang.validate' | translate}}</ion-label>\n                </ion-button>\n            </div>\n        </ion-item>\n    </ion-content>\n</form>\n","import { BrowserModule, HammerModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpClientModule, HttpClient, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { RouteReuseStrategy } from '@angular/router';\n\nimport { IonicModule, IonicRouteStrategy } from '@ionic/angular';\n\nimport localeFr from '@angular/common/locales/fr';\nimport { registerLocaleData } from '@angular/common';\n\nimport { AuthInterceptor } from './service/auth-interceptor.service';\n\n// import ngx-translate and the http loader\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\nimport { NgxExtendedPdfViewerModule } from 'ngx-extended-pdf-viewer';\nimport { DragScrollModule } from 'ngx-drag-scroll';\nimport { AngularDraggableModule } from 'angular2-draggable';\nimport { CookieService } from 'ngx-cookie-service';\nimport { NgPipesModule } from 'ngx-pipes';\nimport { LatinisePipe } from 'ngx-pipes';\n\nimport { AppMaterialModule } from './app-material.module';\nimport { AppRoutingModule } from './app-routing.module';\nimport { DragDropDirective } from './plugins/upload-file-dnd.directive';\n\n\n// COMPONENTS\nimport { AppComponent } from './app.component';\nimport { LoginComponent } from './login/login.component';\nimport { HomeComponent } from './home/home.component';\nimport { IndexationComponent } from './indexation/indexation.component';\nimport { ForgotPasswordComponent } from './login/forgotPassword/forgotPassword.component';\nimport { SignaturesComponent } from './signatures/signatures.component';\nimport { SignaturePadPageComponent } from './pad/pad.component';\nimport { SignaturePadModule } from 'angular2-signaturepad';\nimport { DocumentComponent } from './document/document.component';\nimport { DocumentSignListComponent } from './documentSignList/document-sign-list.component';\nimport { DocumentNoteListComponent } from './documentNoteList/document-note-list.component';\nimport { DocumentNotePadComponent } from './documentNotePad/document-note-pad.component';\nimport { SidebarComponent } from './sidebar/sidebar.component';\nimport { ProfileComponent } from './profile/profile.component';\nimport { ConfirmModalComponent } from './modal/confirm-modal.component';\nimport { WarnModalComponent } from './modal/warn-modal.component';\nimport { SuccessInfoValidBottomSheetComponent } from './modal/success-info-valid.component';\nimport { RejectInfoBottomSheetComponent } from './modal/reject-info.component';\nimport { VisaWorkflowComponent } from './document/visa-workflow/visa-workflow.component';\nimport { DocumentListComponent } from './document/document-list/document-list.component';\nimport { MainDocumentDetailComponent } from './document/main-document-detail/main-document-detail.component';\nimport { AssociatedDocumentsComponent } from './document/associated-documents/associated-documents.component';\nimport { UpdatePasswordComponent } from './login/updatePassword/updatePassword.component';\nimport { PasswordModificationComponent } from './login/passwordModification/password-modification.component';\nimport { VisaWorkflowModelsComponent } from './document/visa-workflow/models/visa-workflow-models.component';\nimport { SearchComponent } from './search/search.component';\nimport { SignaturePositionComponent } from './indexation/signature-position/signature-position.component';\nimport { DevToolComponent } from './service/debug/dev-tool.component';\nimport { DevLangComponent } from './service/debug/dev-lang.component';\nimport { DocumentDateListComponent } from './documentDateList/document-date-list.component';\nimport { DateOptionModalComponent } from './documentDateList/dateOption/date-option-modal.component';\n\n\n// ADMINISTRATION\nimport { AdminSidebarComponent } from './sidebar/administration/admin-sidebar.component';\n\nimport { AdministrationComponent } from './administration/home/administration.component';\nimport { UsersListComponent } from './administration/user/users-list.component';\nimport { UserComponent } from './administration/user/user.component';\nimport { ConnectionComponent } from './administration/connection/connection.component';\nimport { LdapListComponent } from './administration/connection/ldap/ldap-list.component';\nimport { LdapComponent } from './administration/connection/ldap/ldap.component';\nimport { CheckConnectionComponent } from './administration/connection/ldap/check-connection.component';\nimport { SendmailComponent } from './administration/sendmail/sendmail.component';\nimport { CheckEmailConnectionComponent } from './administration/sendmail/check-email-connection.component';\n\nimport { GroupsListComponent } from './administration/group/groups-list.component';\nimport { GroupComponent } from './administration/group/group.component';\nimport { UsersComponent } from './administration/group/list/users.component';\nimport { SecuritiesAdministrationComponent } from './administration/security/securities-administration.component';\nimport { HistoryListComponent } from './administration/history/history-list.component';\nimport { CustomizationComponent } from './administration/customization/customization.component';\n\n\n// SERVICES\nimport { NotificationService } from './service/notification.service';\nimport { SignaturesContentService } from './service/signatures.service';\nimport { FiltersService } from './service/filters.service';\nimport { SignatureMethodModalComponent } from './service/signature-method/signature-method-modal.component';\n\n// OTHERS\nimport { ConfirmComponent } from './plugins/confirm.component';\nimport { AlertComponent } from './plugins/alert.component';\nimport { PluginAutocompleteComponent } from './plugins/autocomplete/autocomplete.component';\nimport { SortPipe } from './plugins/sorting.pipe';\n\nregisterLocaleData(localeFr, 'fr-FR');\n\n@NgModule({\n    declarations: [\n        AppComponent,\n        DragDropDirective,\n        LoginComponent,\n        HomeComponent,\n        ForgotPasswordComponent,\n        UpdatePasswordComponent,\n        SignaturesComponent,\n        SignaturePadPageComponent,\n        DocumentComponent,\n        DocumentSignListComponent,\n        DocumentNoteListComponent,\n        DocumentNotePadComponent,\n        SidebarComponent,\n        WarnModalComponent,\n        ConfirmModalComponent,\n        SuccessInfoValidBottomSheetComponent,\n        RejectInfoBottomSheetComponent,\n        ProfileComponent,\n        VisaWorkflowComponent,\n        DocumentListComponent,\n        MainDocumentDetailComponent,\n        AssociatedDocumentsComponent,\n        AdministrationComponent,\n        UsersListComponent,\n        UserComponent,\n        ConfirmComponent,\n        AlertComponent,\n        AdminSidebarComponent,\n        ConnectionComponent,\n        LdapListComponent,\n        LdapComponent,\n        SendmailComponent,\n        GroupsListComponent,\n        GroupComponent,\n        PluginAutocompleteComponent,\n        SortPipe,\n        SecuritiesAdministrationComponent,\n        PasswordModificationComponent,\n        UsersComponent,\n        CheckConnectionComponent,\n        CheckEmailConnectionComponent,\n        IndexationComponent,\n        VisaWorkflowModelsComponent,\n        SearchComponent,\n        SignaturePositionComponent,\n        DevToolComponent,\n        DevLangComponent,\n        SignatureMethodModalComponent,\n        HistoryListComponent,\n        DocumentDateListComponent,\n        DateOptionModalComponent,\n        CustomizationComponent,\n    ],\n    imports: [\n        FormsModule,\n        ReactiveFormsModule,\n        BrowserModule,\n        BrowserAnimationsModule,\n        HttpClientModule,\n        IonicModule.forRoot({ mode: 'md' }),\n        TranslateModule.forRoot({\n            loader: {\n                provide: TranslateLoader,\n                useFactory: HttpLoaderFactory,\n                deps: [HttpClient]\n            }\n        }),\n        SignaturePadModule,\n        NgxExtendedPdfViewerModule,\n        DragScrollModule,\n        NgPipesModule,\n        AngularDraggableModule,\n        AppMaterialModule,\n        AppRoutingModule,\n        HammerModule,\n    ],\n    entryComponents: [\n        WarnModalComponent,\n        ConfirmModalComponent,\n        SuccessInfoValidBottomSheetComponent,\n        RejectInfoBottomSheetComponent,\n        SignaturesComponent,\n        ConfirmComponent,\n        AlertComponent\n    ],\n    providers: [\n        { provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true },\n        SignaturesContentService,\n        FiltersService,\n        NotificationService,\n        { provide: RouteReuseStrategy, useClass: IonicRouteStrategy },\n        CookieService,\n        LatinisePipe\n    ],\n    bootstrap: [AppComponent],\n    schemas: [ CUSTOM_ELEMENTS_SCHEMA ]\n})\nexport class AppModule { }\n\nexport class TranslateBackendHttpLoader implements TranslateLoader {\n\n    constructor(private http: HttpClient) { }\n\n    /**\n   * Gets the translations from the server\n   * @param lang\n   * @returns {any}\n   */\n    public getTranslation(lang: string): any {\n\n        return this.http.get('../rest/languages/' + lang);\n    }\n}\n\n// For traductions\nexport function HttpLoaderFactory(http: HttpClient) {\n    return new TranslateBackendHttpLoader(http);\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n    templateUrl: 'alert.component.html',\n    styleUrls: ['alert.component.scss']\n})\nexport class AlertComponent {\n\n    constructor(private translate: TranslateService, @Inject(MAT_DIALOG_DATA) public data: any, public dialogRef: MatDialogRef<AlertComponent>) {\n        if (this.data.mode === null) {\n            this.data.mode = '';\n        }\n        if (this.data.msg === null) {\n            this.data.msg = '';\n        }\n    }\n}\n","<div class=\"modalContent {{data.mode}}\">\n  <h1 mat-dialog-title>{{data.title | translate}}</h1>\n  <div mat-dialog-content [innerHTML]=\"data.msg | translate\">\n\n  </div>\n  <div mat-dialog-actions>\n    <button class=\"actions btn red\" mat-button (click)=\"this.dialogRef.close();\">{{'lang.ok' | translate}}</button>\n  </div>\n</div>","import { Component, Input, OnInit, Output, EventEmitter, ViewChild, AfterViewInit } from '@angular/core';\nimport { SignaturesContentService } from '../../service/signatures.service';\nimport { HttpClient } from '@angular/common/http';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { IonSlides, MenuController } from '@ionic/angular';\n\n@Component({\n    selector: 'app-document-list',\n    templateUrl: 'document-list.component.html',\n    styleUrls: ['document-list.component.scss'],\n})\nexport class DocumentListComponent implements OnInit, AfterViewInit {\n\n    @Input() docList: any;\n    @Input() currentDocId: any;\n\n    @Output() triggerEvent = new EventEmitter<string>();\n\n    @ViewChild('slides', { static: false }) slides: IonSlides;\n\n    loading: boolean = true;\n\n    scrolling: boolean = false;\n    slideOpts = {\n        initialSlide: 0,\n        speed: 400,\n        direction: 'vertical'\n    };\n\n    constructor(\n        public http: HttpClient,\n        public signaturesService: SignaturesContentService,\n        private sanitizer: DomSanitizer,\n        private menu: MenuController\n    ) { }\n\n    ngOnInit(): void {\n        this.docList.forEach((element: any, index: number) => {\n            if (element.imgContent[1] === undefined && index > 0) {\n                this.http.get('../rest/attachments/' + element.id + '/thumbnails/1')\n                    .subscribe((data: any) => {\n                        element.imgContent[1] = 'data:image/png;base64,' + data.fileContent;\n                    });\n            }\n        });\n    }\n\n    ngAfterViewInit(): void {\n        this.loading = false;\n    }\n\n    loadDoc(id: string) {\n        this.triggerEvent.emit(id);\n        this.menu.close('right-menu');\n    }\n\n    scroll(ev: any) {\n        if (!this.scrolling) {\n            this.scrolling = true;\n            if (ev.deltaY < 0) {\n                this.slides.slidePrev();\n            } else {\n                this.slides.slideNext();\n            }\n            setTimeout(() => {\n                this.scrolling = false;\n            }, 500);\n        }\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-button disabled>\n                <ion-icon slot=\"icon-only\" name=\"document-outline\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n        <ion-title class=\"ion-text-center\"><b class=\"secondary\">{{docList.length}}</b>&nbsp;{{'lang.attachedElements' | translate}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content (wheel)=\"scroll($event)\">\n    <ion-slides *ngIf=\"!loading\" pager=\"true\" [options]=\"slideOpts\" #slides>\n        <ion-slide *ngFor=\"let doc of docList;let i=index\">\n            <div style=\"height: 90%;width: 100%;position: relative;padding: 10px;\" >\n                <div (click)=\"loadDoc(i)\" [class.current]=\"i == currentDocId\" style=\"cursor:pointer;height: 100%;width: 100%;border-radius: 4px;transition: box-shadow 280ms cubic-bezier(.4,0,.2,1);border: solid 1px #E0E0E0;\" [ngStyle]=\"{'background': 'url(' + doc.imgContent[1] + ') no-repeat scroll center center / contain'}\"></div>\n                        <div class=\"pjToolsContent\">\n                            {{doc.title}}&nbsp;<span class=\"red\" *ngIf=\"i == 0\">({{'lang.mainDocument' | translate}})</span><span class=\"red\" *ngIf=\"i > 0\">({{'lang.attachment' | translate}})</span>\n                        </div>\n                    </div>\n        </ion-slide>\n    </ion-slides>\n</ion-content>","import { Component, OnInit } from '@angular/core';\nimport { SignaturesContentService } from '../../service/signatures.service';\nimport { AuthService } from '../../service/auth.service';\nimport { MenuController } from '@ionic/angular';\n\nexport interface Privilege {\n    id: string;\n    icon: string;\n    route: string;\n}\n\n@Component({\n    selector: 'app-administration',\n    templateUrl: 'administration.component.html',\n    styleUrls: ['../administration.scss', 'administration.component.scss'],\n})\n\nexport class AdministrationComponent implements OnInit {\n\n    constructor(\n        public signaturesService: SignaturesContentService,\n        public authService: AuthService,\n        private menu: MenuController\n    ) { }\n\n    ngOnInit(): void {\n        this.menu.enable(false, 'right-menu');\n    }\n}\n","<ion-header [translucent]=\"true\">\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-menu-button menu=\"left-menu\"></ion-menu-button>\n    </ion-buttons>\n    <ion-title>{{'lang.administration' | translate}}</ion-title>\n  </ion-toolbar>\n</ion-header>\n<ion-content #mainContent>\n  <ion-grid>\n    <ion-row [ngClass]=\"[!signaturesService.mobileMode ? 'repeatRows' : 'repeatRowsMobile']\">\n      <ion-col *ngFor=\"let privilege of authService.user.administrativePrivileges\">\n        <ion-button [routerLink]=\"privilege.route\" expand=\"block\" size=\"large\" fill=\"outline\" color=\"secondary\"\n          style=\"height: 200px;\">\n          <div class=\"admin-content\">\n            <ion-icon style=\"font-size: 70px;\" [name]=\"privilege.icon\" color=\"primary\"></ion-icon>\n            <ion-label color=\"primary\" style=\"white-space: normal;\">{{'lang.' + privilege.id | translate}}</ion-label>\n            <ion-note style=\"font-size: 8px;white-space: normal;padding: 10px;\">\n              {{'lang.' + privilege.id + 'Desc' | translate}}</ion-note>\n          </div>\n        </ion-button>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</ion-content>","import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { SignaturesContentService } from '../service/signatures.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatMenuTrigger } from '@angular/material/menu';\nimport { NotificationService } from '../service/notification.service';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { TranslateService } from '@ngx-translate/core';\nimport { LocalStorageService } from '../service/local-storage.service';\nimport { ConfirmComponent } from '../plugins/confirm.component';\nimport { ModalController, PopoverController } from '@ionic/angular';\n\n@Component({\n    selector: 'app-document-sign-list',\n    templateUrl: 'document-sign-list.component.html',\n    styleUrls: ['document-sign-list.component.scss'],\n})\nexport class DocumentSignListComponent implements OnInit {\n\n    @Input() bounds: any;\n    @ViewChild('menuTrigger') menuSign: MatMenuTrigger;\n    @ViewChild('test') test: any;\n\n    fix = 'auto';\n    today: Date = new Date();\n\n    constructor(private translate: TranslateService,\n        private sanitization: DomSanitizer,\n        public signaturesService: SignaturesContentService,\n        public notificationService: NotificationService,\n        private localStorage: LocalStorageService,\n        public dialog: MatDialog,\n        public popoverController: PopoverController,\n        public modalController: ModalController,\n    ) { }\n\n    ngOnInit(): void { }\n\n    select(ev: any, index: number) {\n        this[ev.detail.value](index);\n    }\n\n    moveSign(event: any, i: number) {\n        const percentx = (event.x * 100) / this.signaturesService.workingAreaWidth;\n        const percenty = (event.y * 100) / this.signaturesService.workingAreaHeight;\n\n        this.signaturesService.signaturesContent[this.signaturesService.currentPage][i].positionX = percentx;\n        this.signaturesService.signaturesContent[this.signaturesService.currentPage][i].positionY = percenty;\n        this.localStorage.save(this.signaturesService.mainDocumentId.toString(), JSON.stringify({ 'date': this.signaturesService.datesContent, 'sign': this.signaturesService.signaturesContent, 'note': this.signaturesService.notesContent }));\n        this.signaturesService.dragging = false;\n    }\n\n    onResizing(event: any, index: number) {\n        this.test.nativeElement.style.height = 'auto';\n    }\n\n    onResizeStop(event: any, index: number) {\n        this.test.nativeElement.style.height = 'auto';\n        this.signaturesService.signaturesContent[this.signaturesService.currentPage][index].width = (event.size.width * 100) / this.signaturesService.workingAreaWidth;\n    }\n\n    cloneSign(i: number) {\n        const dialogRef = this.dialog.open(ConfirmComponent, { autoFocus: false, width: '450px', data: { title: 'lang.wantSignOtherPage', msg: '' } });\n\n        dialogRef.afterClosed().subscribe(result => {\n            if (result === 'yes') {\n                this.signaturesService.signaturesContent[this.signaturesService.currentPage][i].inAllPage = true;\n                this.signaturesService.signaturesContent[this.signaturesService.currentPage][i].token = Math.random().toString(36).substr(2, 9);\n\n                for (let index = 1; index <= this.signaturesService.totalPage; index++) {\n                    if (!this.signaturesService.signaturesContent[index]) {\n                        this.signaturesService.signaturesContent[index] = [];\n                    }\n                    if (index !== this.signaturesService.currentPage) {\n                        this.signaturesService.signaturesContent[index].push(JSON.parse(JSON.stringify(this.signaturesService.signaturesContent[this.signaturesService.currentPage][i])));\n                    }\n                }\n                this.localStorage.save(this.signaturesService.mainDocumentId.toString(), JSON.stringify({ 'sign': this.signaturesService.signaturesContent, 'note': this.signaturesService.notesContent }));\n            }\n        });\n\n        this.menuSign.closeMenu();\n    }\n\n    deleteSignature(i: number) {\n\n        if (this.signaturesService.signaturesContent[this.signaturesService.currentPage][i].inAllPage === true) {\n            const token = this.signaturesService.signaturesContent[this.signaturesService.currentPage][i].token;\n            const r = confirm(this.translate.instant('lang.wantDeleteSignatureOtherPage'));\n\n            if (r) {\n\n                for (let index = 1; index <= this.signaturesService.totalPage; index++) {\n                    if (!this.signaturesService.signaturesContent[index]) {\n                        this.signaturesService.signaturesContent[index] = [];\n                    }\n                    for (let index2 = 0; index2 <= this.signaturesService.signaturesContent[index].length; index2++) {\n                        if (this.signaturesService.signaturesContent[index][index2]) {\n                            if (token === this.signaturesService.signaturesContent[index][index2].token) {\n                                this.signaturesService.signaturesContent[index].splice(index2, 1);\n                            }\n                        }\n                    }\n                }\n            } else {\n                this.signaturesService.signaturesContent[this.signaturesService.currentPage].splice(i, 1);\n            }\n        } else {\n            this.signaturesService.signaturesContent[this.signaturesService.currentPage].splice(i, 1);\n        }\n        if (this.emptySigns()) {\n            this.signaturesService.signaturesContent = [];\n        }\n        this.localStorage.save(this.signaturesService.mainDocumentId.toString(), JSON.stringify({ 'sign': this.signaturesService.signaturesContent, 'note': this.signaturesService.notesContent }));\n    }\n\n    emptySigns() {\n        let state = true;\n        for (let pageNum = 1; pageNum <= this.signaturesService.totalPage; pageNum++) {\n            if (this.signaturesService.signaturesContent[pageNum]) {\n                if (this.signaturesService.signaturesContent[pageNum].length > 0) {\n                    state = false;\n                    break;\n                }\n            }\n        }\n        return state;\n    }\n}\n","<div *ngFor=\"let signature of this.signaturesService.signaturesContent[this.signaturesService.currentPage];let i = index;\"\n    [position]=\"{x: (signature.positionX*this.signaturesService.workingAreaWidth)/100, y:(signature.positionY*this.signaturesService.workingAreaHeight)/100}\"\n    [style.width.%]=\"signature.width\" [ngDraggable]=\"!signaturesService.resizing\" ngResizable [rzAspectRatio]=\"true\"\n    (rzResizing)=\"onResizing($event, i)\" (rzStart)=\"signaturesService.resizing=true\"\n    (movingOffset)=\"signaturesService.dragging=true\" (endOffset)=\"moveSign($event, i);\"\n    (rzStop)=\"onResizeStop($event, i);signaturesService.resizing=false;\" [preventDefaultEvent]=\"false\" [bounds]=\"bounds\"\n    [inBounds]=\"true\"\n    style=\"position:absolute;border: dashed 1px grey;background: rgba(255, 255, 255, 0.6) none repeat scroll 0% 0%;\"\n    [style.height]=\"fix\" #test>\n    <ion-item style=\"position: absolute;--background: none;right: 0;--border-width: 0;\">\n        <ion-select (click)=\"$event.stopPropagation();\" selectedText=\" \" value=\"\" interface=\"popover\"\n            (ionChange)=\"select($event,i)\">\n            <ion-select-option class=\"action-item\" value=\"deleteSignature\">{{'lang.delete' | translate}}\n            </ion-select-option>\n            <ion-select-option class=\"action-item\" [disabled]=\"signature.inAllPage\" value=\"cloneSign\">\n                {{'lang.replicate' | translate}}</ion-select-option>\n        </ion-select>\n    </ion-item>\n    <img class=\"img-content\"\n        [src]=\"sanitization.bypassSecurityTrustUrl('data:image/png;base64,' + signature.encodedSignature)\"\n        [style.width.%]=\"100\">\n</div>","import { Component, Input, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { SignaturesContentService } from '../service/signatures.service';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport * as $ from 'jquery';\nimport { HttpClient } from '@angular/common/http';\nimport { NotificationService } from '../service/notification.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AuthService } from '../service/auth.service';\nimport { LocalStorageService } from '../service/local-storage.service';\nimport { IonSlides, ModalController } from '@ionic/angular';\nimport { SignaturePadPageComponent } from '../pad/pad.component';\n\n@Component({\n    selector: 'app-signatures',\n    templateUrl: 'signatures.component.html',\n    styleUrls: ['signatures.component.scss'],\n})\nexport class SignaturesComponent implements OnInit {\n\n    @Input() currentWorflow: any;\n    @Input() content: any;\n\n    @ViewChild('slides', { static: false }) slides: IonSlides;\n\n    loading: boolean = true;\n    scrolling: boolean = false;\n    signPosMode: boolean = false;\n    datePosMode: boolean = false;\n    title: string = 'lang.signatures';\n    slideOpts = {\n        initialSlide: 0,\n        speed: 400,\n        direction: 'vertical'\n    };\n    signaturesList: any[] = [];\n\n    inAllPage = false;\n    count = 0;\n\n    documentWidth: number;\n    signatureWidth: number;\n\n\n    constructor(private translate: TranslateService,\n        public http: HttpClient,\n        public signaturesService: SignaturesContentService,\n        private bottomSheetRef: MatBottomSheet,\n        private sanitization: DomSanitizer,\n        public notificationService: NotificationService,\n        public authService: AuthService,\n        private localStorage: LocalStorageService,\n        private renderer: Renderer2,\n        public modalController: ModalController\n    ) {\n    }\n\n    dismissModal() {\n        this.modalController.dismiss('cancel');\n    }\n\n    scroll(ev: any) {\n        if (!this.scrolling) {\n            this.scrolling = true;\n            if (ev.deltaY < 0) {\n                this.slides.slidePrev();\n            } else {\n                this.slides.slideNext();\n            }\n            setTimeout(() => {\n                this.scrolling = false;\n            }, 500);\n        }\n    }\n\n    ngOnInit() {\n        this.initSignatures();\n        this.signPosMode = this.currentWorflow.signaturePositions.length > 0 && this.emptySigns();\n    }\n\n    initSignatures() {\n        this.signaturesList = [];\n        let obj: any[] = [];\n        let index = 0;\n        const mergedSign = this.signaturesService.signaturesListSubstituted.concat(this.signaturesService.signaturesList);\n        mergedSign.forEach((element: any) => {\n            if (index === 6) {\n                this.signaturesList.push(obj);\n                obj = [element];\n                index = 0;\n            } else {\n                obj.push(element);\n                index++;\n            }\n        });\n        if (obj.length > 0) {\n            this.signaturesList.push(obj);\n        }\n        this.getImgDimensions(this.signaturesList);\n    }\n\n    ionViewDidEnter() {\n        this.loading = false;\n    }\n\n    async openSignatures() {\n        const modal = await this.modalController.create({\n            component: SignaturePadPageComponent,\n            cssClass: 'my-custom-class'\n        });\n        await modal.present();\n        const { data } = await modal.onWillDismiss();\n        if (data === 'reload') {\n            this.initSignatures();\n        }\n    }\n\n    mustPrePosSignature(signPosCurrentPage: any, signPosOtherPage: any) {\n        return !(!this.signPosMode || (signPosCurrentPage.length === 0 && signPosOtherPage.length === 0));\n    }\n\n    selectSignature(signature: any) {\n        let percentWidth: any;\n        const signatureScaling: any = this.authService.user.preferences.signatureScaling;\n        const signatureWidth: number = this.signatureWidth >= this.documentWidth ? 100 : (this.signatureWidth * 100) / this.documentWidth;        if (signatureScaling === undefined) {\n            percentWidth = 25;\n        } else {\n            percentWidth = signatureScaling === false ? signatureWidth : signatureScaling;\n        }\n        signature.width = percentWidth;\n        const signPosCurrentPage = this.currentWorflow.signaturePositions.filter((item: any) => item.page === this.signaturesService.currentPage);\n        const signPosOtherPage = this.currentWorflow.signaturePositions.filter((item: any) => item.page !== this.signaturesService.currentPage);\n\n        if (!this.mustPrePosSignature(signPosCurrentPage, signPosOtherPage)) {\n            signature.positionX = 60;\n            signature.positionY = 80;\n            this.storeSignature(signature, this.signaturesService.currentPage);\n            this.notificationService.success('lang.signatureInDocAdded');\n            this.modalController.dismiss('success');\n        } else {\n            // set sign block in current page\n            if (signPosCurrentPage.length > 0) {\n                signature.positionX = signPosCurrentPage[0].positionX;\n                signature.positionY = signPosCurrentPage[0].positionY;\n                this.storeSignature(signature, this.signaturesService.currentPage);\n            }\n\n            // set sign block in other page\n            if (signPosOtherPage.length > 0) {\n                signPosOtherPage.forEach((element: { positionX: any; positionY: any; page: number }) => {\n                    signature.positionX = element.positionX;\n                    signature.positionY = element.positionY;\n                    this.storeSignature(signature, element.page);\n                });\n            }\n            if (this.currentWorflow.signaturePositions.length === 1) {\n                this.notificationService.success('lang.signatureInDocAddedAlt');\n            } else {\n                this.translate.get('lang.signaturesInDocAdded', { 0: this.currentWorflow.signaturePositions.map((item: any) => item.page) }).subscribe((res: string) => {\n                    this.notificationService.success(res);\n                });\n            }\n            // if no sign in current page but have sign in other page\n            if (signPosCurrentPage.length === 0 && signPosOtherPage.length > 0) {\n                // go to first page with signature block\n                this.modalController.dismiss({ redirectPage: signPosOtherPage[0].page });\n            } else {\n                this.modalController.dismiss('success');\n            }\n        }\n    }\n\n    addNewDate() {\n        const datePosCurrentPage = this.currentWorflow.datePositions.filter((item: any) => item.page === this.signaturesService.currentPage);\n        const datePosOtherPage = this.currentWorflow.datePositions.filter((item: any) => item.page !== this.signaturesService.currentPage);\n\n        if (datePosCurrentPage.length === 0 && datePosOtherPage.length === 0) {\n            const dateBlock: any = {\n                width: (130 * 100) / this.signaturesService.workingAreaWidth,\n                height: (30 * 100) / this.signaturesService.workingAreaHeight,\n                positionX: 0,\n                positionY: 0,\n                font: 'Arial',\n                size: 15,\n                color: '#666',\n                format: 'd MMMM y'\n            };\n\n            dateBlock.positionX = 60;\n            dateBlock.positionY = 80;\n            this.storeDate(dateBlock, this.signaturesService.currentPage);\n            this.notificationService.success('lang.dateInDocAdded');\n            this.modalController.dismiss('success');\n        } else {\n            if (datePosCurrentPage.length > 0) {\n                const dateBlock: any = {\n                    width: datePosCurrentPage[0].width,\n                    height: datePosCurrentPage[0].height,\n                    positionX: datePosCurrentPage[0].positionX,\n                    positionY: datePosCurrentPage[0].positionY,\n                    font: 'Arial',\n                    size: 15,\n                    color: '#666',\n                    format: 'd MMMM y'\n                };\n                this.storeDate(dateBlock, this.signaturesService.currentPage);\n            }\n            datePosOtherPage.forEach((position: any) => {\n                const dateBlock: any = {\n                    width: position.width,\n                    height: position.height,\n                    positionX: position.positionX,\n                    positionY: position.positionY,\n                    font: 'Arial',\n                    size: 15,\n                    color: '#666',\n                    format: 'd MMMM y'\n                };\n                this.storeDate(dateBlock, position.page);\n            });\n\n            if (this.currentWorflow.signaturePositions.length === 1) {\n                this.notificationService.success('lang.dateInDocAddedAlt');\n            } else {\n                this.translate.get('lang.dateInDocAdded', { 0: this.currentWorflow.signaturePositions.map((item: any) => item.page) }).subscribe((res: string) => {\n                    this.notificationService.success(res);\n                });\n            }\n\n            if (datePosCurrentPage.length === 0 && datePosOtherPage.length > 0) {\n                this.modalController.dismiss({ redirectPage: datePosOtherPage[0].page });\n            } else {\n                this.modalController.dismiss('success');\n            }\n        }\n    }\n\n    storeSignature(signature: any, page: number) {\n        if (!this.signaturesService.signaturesContent[page]) {\n            this.signaturesService.signaturesContent[page] = [];\n        }\n        this.signaturesService.signaturesContent[page].push(JSON.parse(JSON.stringify(signature)));\n        this.localStorage.save(this.signaturesService.mainDocumentId.toString(), JSON.stringify({ 'date': this.signaturesService.datesContent, 'sign': this.signaturesService.signaturesContent, 'note': this.signaturesService.notesContent }));\n    }\n\n    storeDate(date: any, page: number) {\n        if (!this.signaturesService.datesContent[page]) {\n            this.signaturesService.datesContent[page] = [];\n        }\n        this.signaturesService.datesContent[page].push(JSON.parse(JSON.stringify(date)));\n        this.localStorage.save(this.signaturesService.mainDocumentId.toString(), JSON.stringify({ 'date': this.signaturesService.datesContent, 'sign': this.signaturesService.signaturesContent, 'note': this.signaturesService.notesContent }));\n    }\n\n    removeSignature(signature: any) {\n        const r = confirm(this.translate.instant('lang.wantDeleteSignature'));\n\n        if (r) {\n            this.http.delete('../rest/users/' + this.authService.user.id + '/signatures/' + signature.id)\n                .subscribe(() => {\n                    this.signaturesService.signaturesList = this.signaturesService.signaturesList.filter((element) => element.id !== signature.id);\n                    this.notificationService.success('lang.signatureDeleted');\n                    this.initSignatures();\n                }, (err: any) => {\n                    this.notificationService.error(err.error.errors);\n                });\n        }\n    }\n\n    toggleAllPage() {\n        this.inAllPage = !this.inAllPage;\n    }\n\n    tapEvent(signature: any, i: any, mode: string) {\n        this.count++;\n\n        setTimeout(() => {\n            if (this.count === 1) {\n                this.count = 0;\n            } else if (this.count > 1) {\n                this.count = 0;\n                const id = mode === 'substitute' ? ('imgSignSub_' + i) : ('imgSign_' + i);\n                this.selectSignature(signature);\n            }\n        }, 250);\n    }\n\n    handleFileInput(files: FileList) {\n        const fileToUpload = files.item(0);\n\n        if (fileToUpload.size <= 1000000) {\n            if (['image/png', 'image/jpg', 'image/jpeg', 'image/gif'].indexOf(fileToUpload.type) !== -1) {\n                const myReader: FileReader = new FileReader();\n                myReader.onloadend = (e) => {\n\n                    const newEncodedSign = myReader.result.toString().replace('data:' + fileToUpload.type + ';base64,', '');\n                    this.localStorage.save('signature', JSON.stringify(newEncodedSign));\n\n                    // Save signature in BDD\n                    const newSign = {\n                        'id': 0,\n                        'encodedSignature': newEncodedSign,\n                        'format': 'png'\n                    };\n                    this.http.post('../rest/users/' + this.authService.user.id + '/signatures', newSign)\n                        .subscribe((data: any) => {\n                            newSign.id = data.signatureId;\n                            this.signaturesService.signaturesList.unshift(\n                                {\n                                    id: newSign.id,\n                                    encodedSignature: newSign.encodedSignature\n                                }\n                            );\n                            this.initSignatures();\n                            this.notificationService.success('lang.signatureRegistered');\n                        });\n                };\n                myReader.readAsDataURL(fileToUpload);\n            } else {\n                this.notificationService.error('lang.notAnImage');\n            }\n        } else {\n            this.notificationService.error('lang.maxFileSizeReached');\n        }\n    }\n\n    emptySigns() {\n        let state = true;\n        for (let pageNum = 1; pageNum <= this.signaturesService.totalPage; pageNum++) {\n            if (this.signaturesService.signaturesContent[pageNum]) {\n                if (this.signaturesService.signaturesContent[pageNum].length > 0) {\n                    state = false;\n                    break;\n                }\n            }\n        }\n        return state;\n    }\n\n    getImgDimensions(signList: any) {\n        const decodeBase64 = atob(signList.slice(0, 50)).slice(16, 24);\n        const uint8 = Uint8Array.from(decodeBase64, c => c.charCodeAt(0));\n        const dataView = new DataView(uint8.buffer);\n        this.documentWidth = dataView.getInt32(0);\n    }\n\n    setSignatureWidth(event: any) {\n        this.signatureWidth = event.path[0].naturalWidth;\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-title>{{'lang.signatures' | translate}} <small class=\"secondary\" *ngIf=\"signPosMode\">{{this.currentWorflow.signaturePositions.length}} {{'lang.prePositionings' | translate}}</small></ion-title>\n        <ion-buttons slot=\"end\">\n            <ion-button (click)=\"dismissModal()\">\n                <ion-icon slot=\"icon-only\" name=\"close-outline\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-content (wheel)=\"scroll($event)\">\n    <ng-container *ngIf=\"!signaturesService.stampLock; else elseCertified\">\n        <ion-slides *ngIf=\"!loading\" pager=\"true\" [options]=\"slideOpts\" #slides>\n            <ion-slide *ngFor=\"let slide of signaturesList;let i=index\" style=\"display: grid;grid-template-columns: repeat(2, 1fr);\">\n                <div style=\"display: contents;\">\n                    <ion-card *ngFor=\"let sign of slide\" class=\"sign-image\">\n                        <img id=\"imgSign_{{i}}\" (click)=\"selectSignature(sign);\" [src]=\"sanitization.bypassSecurityTrustUrl('data:image/png;base64,' + sign.encodedSignature)\"\n                            style=\"width: 190px;cursor: pointer;\">\n                        <ion-toolbar style=\"position: absolute;top: 0px;\">\n                            <ion-label color=\"secondary\" *ngIf=\"sign.substituted\">{{'lang.substitutedSignature' | translate}}</ion-label>\n                            <ion-buttons slot=\"start\">\n                                <ion-button size=\"small\" color=\"primary\" (click)=\"selectSignature(sign);\" [title]=\"'lang.selectSignature' | translate\">\n                                    <ion-icon slot=\"icon-only\" name=\"arrow-up-circle-outline\"></ion-icon>\n                                </ion-button>\n                            </ion-buttons>\n                            <ion-buttons slot=\"end\">\n                                <ion-button size=\"small\" color=\"danger\" (click)=\"removeSignature(sign);\" [title]=\"'lang.removeSignature' | translate\">\n                                    <ion-icon slot=\"icon-only\" name=\"trash-outline\"></ion-icon>\n                                </ion-button>\n                            </ion-buttons>\n                        </ion-toolbar>\n                    </ion-card>\n                </div>\n            </ion-slide>\n        </ion-slides>\n        <ion-fab horizontal=\"start\" vertical=\"bottom\" slot=\"fixed\">\n            <ion-fab-button color=\"primary\" close-icon=\"chevron-down\">\n              <ion-icon name=\"chevron-up-outline\"></ion-icon>\n            </ion-fab-button>\n            <ion-fab-list side=\"top\">\n                <ion-fab-button color=\"light\" [title]=\"'lang.addNewDate' | translate\" (click)=\"addNewDate()\">\n                    <ion-icon name=\"calendar-outline\"></ion-icon>\n                </ion-fab-button>\n              <ion-fab-button color=\"light\" [title]=\"'lang.importNewSignature' | translate\" (click)=\"uploadFile.click()\">\n                <ion-icon name=\"download-outline\"></ion-icon>\n              </ion-fab-button>\n              <ion-fab-button color=\"light\" [title]=\"'lang.createNewSignature' | translate\" (click)=\"openSignatures()\">\n                <ion-icon name=\"add-outline\"></ion-icon>\n              </ion-fab-button>\n            </ion-fab-list>\n          </ion-fab>\n          <input #uploadFile type=\"file\" style=\"display:none;\" (change)=\"handleFileInput($event.target.files)\">\n    </ng-container>\n    <ng-template #elseCertified>\n        <div class=\"certified-msg\"> \n            <ion-icon slot=\"start\" name=\"ribbon-outline\" color=\"success\" style=\"font-size: 70px;\"></ion-icon>\n            <div>\n                {{'lang.certifiedDocumentMsg' | translate}}\n            </div>\n        </div>\n    </ng-template>\n</ion-content>","import { Component, OnInit } from '@angular/core';\nimport { SignaturesContentService } from '../../service/signatures.service';\nimport { NotificationService } from '../../service/notification.service';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { MatDialog } from '@angular/material/dialog';\nimport {map, finalize, tap, catchError} from 'rxjs/operators';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ConfirmComponent } from '../../plugins/confirm.component';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AuthService } from '../../service/auth.service';\nimport {of} from 'rxjs';\n\n\nexport interface User {\n    id: string;\n    firstname: string;\n    lastname: string;\n    login: string;\n    email: string;\n    picture: string;\n    isRest: boolean;\n    signatureModes: string[];\n}\n\n@Component({\n    selector: 'app-administration-user',\n    templateUrl: 'user.component.html',\n    styleUrls: ['../administration.scss', 'user.component.scss'],\n})\n\nexport class UserComponent implements OnInit {\n\n    creationMode: boolean = true;\n    loading: boolean = true;\n    user: User = {\n        id: '',\n        firstname: '',\n        lastname: '',\n        login: '',\n        email: '',\n        picture: '',\n        isRest: false,\n        signatureModes: ['stamp']\n    };\n    userClone: User;\n    title: string = '';\n    hideCurrentPassword: Boolean = true;\n    hideNewPassword: Boolean = true;\n    hideNewPasswordConfirm: Boolean = true;\n    currentTool = 'info';\n\n    // HANDLE PASSWORD\n    passwordRules: any = {\n        minLength: { enabled: false, value: 0 },\n        complexityUpper: { enabled: false, value: 0 },\n        complexityNumber: { enabled: false, value: 0 },\n        complexitySpecial: { enabled: false, value: 0 },\n        renewal: { enabled: false, value: 0 },\n        historyLastUse: { enabled: false, value: 0 },\n    };\n    passwordRest: any = {\n        newPassword: '',\n        passwordConfirmation: ''\n    };\n\n    ruleText = '';\n    otherRuleText = '';\n\n    showPassword = false;\n    handlePassword: any = {\n        error: false,\n        errorMsg: ''\n    };\n\n    constructor(\n        public http: HttpClient,\n        private translate: TranslateService,\n        private route: ActivatedRoute,\n        private router: Router,\n        public signaturesService: SignaturesContentService,\n        public notificationService: NotificationService,\n        public dialog: MatDialog,\n        public authService: AuthService\n    ) {\n    }\n\n    ngOnInit(): void {\n        this.route.params.subscribe((params: any) => {\n            if (params['id'] === undefined) {\n                this.creationMode = true;\n                this.title = this.translate.instant('lang.userCreation');\n                this.user = {\n                    id: '',\n                    firstname: '',\n                    lastname: '',\n                    login: '',\n                    email: '',\n                    picture: '',\n                    signatureModes: ['stamp'],\n                    isRest: false\n                };\n                this.loading = false;\n            } else {\n                this.creationMode = false;\n                this.http.get('../rest/users/' + params['id'])\n                    .pipe(\n                        map((data: any) => data.user),\n                        finalize(() => this.loading = false)\n                    )\n                    .subscribe({\n                        next: data => {\n                            this.user = data;\n                            this.userClone = JSON.parse(JSON.stringify(this.user));\n                            this.title = this.user.firstname + ' ' + this.user.lastname;\n                            if (this.user.isRest) {\n                                this.getPassRules({ detail: {\n                                    checked: true\n                                } });\n                            }\n                        },\n                    });\n            }\n        });\n    }\n\n    canValidate() {\n        if (this.user.isRest && this.passwordRest.newPassword !== '' && (this.handlePassword.error || this.passwordRest.passwordConfirmation !== this.passwordRest.newPassword)) {\n            return false;\n        } else if (JSON.stringify(this.user) === JSON.stringify(this.userClone) && this.passwordRest.newPassword === '') {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    onSubmit() {\n        if (this.creationMode) {\n            this.createUser();\n        } else {\n            this.modifyUser();\n        }\n    }\n\n    modifyUser() {\n        this.loading = true;\n        this.http.put('../rest/users/' + this.user.id, this.user)\n            .pipe(\n                finalize(() => this.loading = false),\n                tap(() => {\n                    if (this.authService.user.id === this.user.id) {\n                        this.authService.updateUserInfoWithTokenRefresh();\n                    }\n                    if (this.passwordRest.newPassword !== '') {\n                        this.updateRestUser();\n                    }\n                    this.router.navigate(['/administration/users']);\n                    this.notificationService.success('lang.userUpdated');\n                }),\n                catchError((err: any) => {\n                    this.notificationService.handleErrors(err);\n                    return of(false);\n                })\n            )\n            .subscribe();\n    }\n\n    updateRestUser() {\n        const headers = new HttpHeaders({\n            'Authorization': 'Bearer ' + this.authService.getToken()\n        });\n        this.http.put('../rest/users/' + this.user.id + '/password', this.passwordRest, { headers: headers })\n            .subscribe(() => {\n                this.passwordRest.newPassword = '';\n                this.passwordRest.passwordConfirmation = '';\n            }, (err) => {\n                this.notificationService.handleErrors(err);\n            });\n    }\n\n    createUser() {\n        this.loading = true;\n        this.http.post('../rest/users', this.user)\n            .pipe(\n                finalize(() => this.loading = false),\n                tap((data: any) => {\n                    if (this.user.isRest) {\n                        this.user.id = data.id;\n                        this.updateRestUser();\n                    }\n                    this.router.navigate(['/administration/users']);\n                    this.notificationService.success('lang.userAdded');\n                }),\n                catchError((err: any) => {\n                    this.notificationService.handleErrors(err);\n                    return of(false);\n                })\n            )\n            .subscribe();\n    }\n\n    delete() {\n        const dialogRef = this.dialog.open(ConfirmComponent, { autoFocus: false, data: { mode: '', title: 'lang.confirmMsg', msg: '' } });\n\n        dialogRef.afterClosed().subscribe(result => {\n            if (result === 'yes') {\n                this.loading = true;\n                this.http.delete('../rest/users/' + this.user.id)\n                    .pipe(\n                        finalize(() => this.loading = false)\n                    )\n                    .subscribe({\n                        next: () => {\n                            this.router.navigate(['/administration/users']);\n                            this.notificationService.success('lang.userDeleted');\n                        },\n                    });\n            }\n        });\n    }\n\n    cancel() {\n        this.router.navigate(['/administration/users']);\n    }\n\n    getPassRules(ev: any) {\n        if (ev.detail.checked) {\n            this.handlePassword.error = false;\n            this.handlePassword.errorMsg = '';\n\n            this.http.get('../rest/passwordRules')\n                .subscribe((data: any) => {\n                    const ruleTextArr: String[] = [];\n                    const otherRuleTextArr: String[] = [];\n\n                    data.rules.forEach((rule: any) => {\n                        if (rule.label === 'minLength') {\n                            this.passwordRules.minLength.enabled = rule.enabled;\n                            this.passwordRules.minLength.value = rule.value;\n                            if (rule.enabled) {\n                                this.translate.get('lang.minLengthChar', { charLength: rule.value }).subscribe((res: string) => {\n                                    ruleTextArr.push(res);\n                                });\n                            }\n\n                        } else if (rule.label === 'complexityUpper') {\n                            this.passwordRules.complexityUpper.enabled = rule.enabled;\n                            this.passwordRules.complexityUpper.value = rule.value;\n                            if (rule.enabled) {\n                                ruleTextArr.push('lang.upperRequired');\n                            }\n\n                        } else if (rule.label === 'complexityNumber') {\n                            this.passwordRules.complexityNumber.enabled = rule.enabled;\n                            this.passwordRules.complexityNumber.value = rule.value;\n                            if (rule.enabled) {\n                                ruleTextArr.push('lang.numberRequired');\n                            }\n\n                        } else if (rule.label === 'complexitySpecial') {\n                            this.passwordRules.complexitySpecial.enabled = rule.enabled;\n                            this.passwordRules.complexitySpecial.value = rule.value;\n                            if (rule.enabled) {\n                                ruleTextArr.push('lang.specialCharRequired');\n                            }\n                        } else if (rule.label === 'renewal') {\n                            this.passwordRules.renewal.enabled = rule.enabled;\n                            this.passwordRules.renewal.value = rule.value;\n                            if (rule.enabled) {\n                                this.translate.get('lang.renewalInfo', { time: rule.value }).subscribe((res: string) => {\n                                    otherRuleTextArr.push(res);\n                                });\n                            }\n                        } else if (rule.label === 'historyLastUse') {\n                            this.passwordRules.historyLastUse.enabled = rule.enabled;\n                            this.passwordRules.historyLastUse.value = rule.value;\n                            if (rule.enabled) {\n                                this.translate.get('lang.historyUseInfo', { countPwd: rule.value }).subscribe((res: string) => {\n                                    otherRuleTextArr.push(res);\n                                });\n                            }\n                        }\n\n                    });\n                    this.ruleText = ruleTextArr.join(', ');\n                    this.otherRuleText = otherRuleTextArr.join('<br/>');\n                }, (err) => {\n                    this.notificationService.handleErrors(err);\n                });\n        }\n    }\n\n    checkPasswordValidity(password: string) {\n        this.handlePassword.error = true;\n\n        if (!password.match(/[A-Z]/g) && this.passwordRules.complexityUpper.enabled) {\n            this.handlePassword.errorMsg = 'lang.upperRequired';\n        } else if (!password.match(/[0-9]/g) && this.passwordRules.complexityNumber.enabled) {\n            this.handlePassword.errorMsg = 'lang.numberRequired';\n        } else if (!password.match(/[^A-Za-z0-9]/g) && this.passwordRules.complexitySpecial.enabled) {\n            this.handlePassword.errorMsg = 'lang.specialCharRequired';\n        } else if (password.length < this.passwordRules.minLength.value && this.passwordRules.minLength.enabled) {\n            this.translate.get('lang.minLengthChar', { charLength: this.passwordRules.minLength.value }).subscribe((res: string) => {\n                this.handlePassword.errorMsg = res;\n            });\n        } else {\n            this.handlePassword.error = false;\n            this.handlePassword.errorMsg = '';\n        }\n    }\n\n    toggleSignMode(signMode: any, state: boolean) {\n        if (state) {\n            if (this.user.signatureModes.indexOf(signMode.id) === -1) {\n                this.user.signatureModes.push(signMode.id);\n            }\n        } else {\n            this.user.signatureModes = this.user.signatureModes.filter((item: any) => item !== signMode.id);\n        }\n    }\n\n    initTab(val: any) {\n        this.currentTool = val;\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-menu-button menu=\"left-menu\"></ion-menu-button>\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n        <ion-title>{{title}}</ion-title>\n        <ion-avatar slot=\"end\">\n            <img [src]=\"user.picture\">\n        </ion-avatar>\n    </ion-toolbar>\n</ion-header>\n\n<ion-header>\n    <ion-toolbar>\n        <ion-segment [value]=\"currentTool\" (ionChange)=\"initTab($event.detail.value)\">\n            <ion-segment-button value=\"info\">\n                <ion-label>{{'lang.informations' | translate}}</ion-label>\n                <ion-icon name=\"information-circle\"></ion-icon>\n            </ion-segment-button>\n            <ion-segment-button [disabled]=\"creationMode\" value=\"groups\">\n                <ion-label>{{'lang.manage_groups' | translate}}</ion-label>\n                <ion-icon name=\"people-sharp\"></ion-icon>\n            </ion-segment-button>\n        </ion-segment>\n    </ion-toolbar>\n</ion-header>\n\n<ng-container *ngIf=\"currentTool === 'info'\">\n    <form style=\"display: contents;\" id=\"adminForm\" (ngSubmit)=\"onSubmit()\" #adminForm=\"ngForm\">\n        <ion-content>\n            <ion-item>\n                <ion-label color=\"secondary\" position=\"floating\">{{'lang.login' | translate}} *</ion-label>\n                <ion-input name=\"login\" [maxlength]=\"128\" [readonly]=\"!creationMode\" [(ngModel)]=\"user.login\" required pattern=\"^[\\w.@-]*$\">\n                </ion-input>\n            </ion-item>\n            <ion-item>\n                <ion-label color=\"secondary\" position=\"floating\">{{'lang.firstname' | translate}} *</ion-label>\n                <ion-input name=\"firstname\" [maxlength]=\"128\" [(ngModel)]=\"user.firstname\" required></ion-input>\n            </ion-item>\n            <ion-item>\n                <ion-label color=\"secondary\" position=\"floating\">{{'lang.lastname' | translate}} *</ion-label>\n                <ion-input name=\"lastname\" [maxlength]=\"128\" [(ngModel)]=\"user.lastname\" required></ion-input>\n            </ion-item>\n            <ion-item>\n                <ion-label color=\"secondary\" position=\"floating\">{{'lang.email' | translate}} *</ion-label>\n                <ion-input type=\"email\" name=\"email\" [maxlength]=\"128\" [(ngModel)]=\"user.email\" required\n                    pattern=\"(^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$)\"></ion-input>\n            </ion-item>\n            <ion-item>\n                <ion-label>{{'lang.restUser' | translate}}</ion-label>\n                <ion-toggle slot=\"start\" color=\"primary\" [disabled]=\"!creationMode\" name=\"isRest\" [(ngModel)]=\"user.isRest\"\n                    [checked]=\"user.isRest\" (ionChange)=\"getPassRules($event)\"></ion-toggle>\n            </ion-item>\n            <ion-list>\n                <ion-list-header>\n                    <ion-label color=\"secondary\">{{'lang.signatureModes' | translate}}</ion-label>\n                </ion-list-header>\n                <ng-container *ngFor=\"let signMode of authService.signatureRoles\">\n                    <ion-item *ngIf=\"signMode.id !=='visa'\">\n                        <ion-label [style.color]=\"signMode.color\">{{'lang.' + signMode.id | translate}}</ion-label>\n                        <ion-checkbox slot=\"start\" [checked]=\"user.signatureModes.indexOf(signMode.id) > -1\" (ionChange)=\"toggleSignMode(signMode, $event.detail.checked)\" [disabled]=\"signMode.id === 'stamp'\"></ion-checkbox>\n                    </ion-item>\n                </ng-container>\n            </ion-list>\n            <ion-item style=\"align-items: center;\" *ngIf=\"user.isRest\">\n                <ion-button slot=\"end\" fill=\"clear\" color=\"primary\" (click)=\"hideNewPassword = !hideNewPassword\">\n                    <ion-icon color=\"primary\" [name]=\"hideNewPassword ? 'eye-outline' : 'eye-off-outline'\">\n                    </ion-icon>\n                </ion-button>\n                <ion-label color=\"secondary\" position=\"floating\">{{'lang.newPassword' | translate}}</ion-label>\n                <ion-input [type]=\"hideNewPassword ? 'password' : 'text'\" name=\"newPasswordRest\"\n                    [(ngModel)]=\"passwordRest.newPassword\" (ionChange)=\"checkPasswordValidity(passwordRest.newPassword)\">\n                </ion-input>\n                <ion-note color=\"danger\" *ngIf=\"this.handlePassword.error && passwordRest.newPassword.length > 0\"> {{ this.handlePassword.errorMsg | translate}}</ion-note>\n            </ion-item>\n            <ion-item style=\"align-items: center;\" *ngIf=\"user.isRest\">\n                <ion-button slot=\"end\" fill=\"clear\" color=\"primary\"\n                    (click)=\"hideNewPasswordConfirm = !hideNewPasswordConfirm\">\n                    <ion-icon color=\"primary\" [name]=\"hideNewPasswordConfirm ? 'eye-outline' : 'eye-off-outline'\">\n                    </ion-icon>\n                </ion-button>\n                <ion-label color=\"secondary\" position=\"floating\">{{'lang.passwordConfirmation' | translate}}</ion-label>\n                <ion-input [type]=\"hideNewPasswordConfirm ? 'password' : 'text'\" name=\"passwordConfirmation\"\n                    [(ngModel)]=\"passwordRest.passwordConfirmation\"></ion-input>\n                <ion-note color=\"danger\" *ngIf=\"passwordRest.passwordConfirmation !== passwordRest.newPassword && passwordRest.passwordConfirmation.length > 0\">\n                    {{'lang.passwordNotMatch' | translate}}</ion-note>\n                <ion-note color=\"success\"\n                    *ngIf=\"passwordRest.passwordConfirmation === passwordRest.newPassword && passwordRest.newPassword.length > 0 && passwordRest.passwordConfirmation.length> 0 && !this.handlePassword.error\">\n                    {{'lang.samePassword' | translate}}</ion-note>\n            </ion-item>\n            <ion-item text-center lines=\"none\" style=\"position: sticky;bottom:0px;z-index:1;\">\n                <div style=\"display: flex;align-items: center;justify-content: center;width: 100%;background: white;\">\n                    <ion-button type=\"submit\" shape=\"round\" size=\"large\" fill=\"outline\" color=\"primary\"\n                        [disabled]=\"!adminForm.form.valid || !canValidate()\">\n                        <ion-label style=\"font-size: 13px;\">{{'lang.validate' | translate}}</ion-label>\n                    </ion-button>\n                </div>\n            </ion-item>\n        </ion-content>\n    </form>\n</ng-container>\n\n<ng-container *ngIf=\"currentTool === 'groups'\">\n    <ion-content>\n        <ion-list *ngIf=\"user.groups.length > 0\">\n            <ion-item *ngFor=\"let group of user.groups\">\n                <ion-label>{{group.label}}</ion-label>\n            </ion-item>\n        </ion-list>\n        <ion-list class=\"no-result\" *ngIf=\"user.groups.length === 0\">\n            <ion-item lines=\"none\">\n                <ion-label class=\"no-result-label\" color=\"medium\">{{'lang.noAssociatedGroup' | translate}}</ion-label>\n            </ion-item>\n        </ion-list>\n    </ion-content>\n</ng-container>\n","import { Component, ViewChild } from '@angular/core';\nimport { SignaturesContentService } from '../../service/signatures.service';\nimport { NotificationService } from '../../service/notification.service';\nimport { HttpClient } from '@angular/common/http';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort, Sort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { TranslateService } from '@ngx-translate/core';\nimport { map, finalize } from 'rxjs/operators';\nimport { LatinisePipe } from 'ngx-pipes';\nimport { AlertController } from '@ionic/angular';\n\n\nexport interface Group {\n    id: string;\n    label: string;\n}\n\n@Component({\n    selector: 'app-administration-groups-list',\n    templateUrl: 'groups-list.component.html',\n    styleUrls: ['../administration.scss', 'groups-list.component.scss'],\n})\n\nexport class GroupsListComponent {\n\n    @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\n    @ViewChild(MatSort, { static: true }) sort: MatSort;\n\n    groupList: Group[] = [];\n    sortedData: any[];\n    dataSource: MatTableDataSource<Group>;\n    displayedColumns: string[];\n    loading: boolean = true;\n\n    constructor(\n        public http: HttpClient,\n        private translate: TranslateService,\n        private latinisePipe: LatinisePipe,\n        public dialog: MatDialog,\n        public signaturesService: SignaturesContentService,\n        public notificationService: NotificationService,\n        public alertController: AlertController\n    ) {\n        this.displayedColumns = ['label', 'actions'];\n    }\n\n    applyFilter(filterValue: string) {\n        filterValue = this.latinisePipe.transform(filterValue.toLowerCase());\n\n        this.sortedData = this.groupList.filter(\n            (option: any) => {\n                let state = false;\n                this.displayedColumns.forEach(element => {\n                    if (option[element] && this.latinisePipe.transform(option[element].toLowerCase()).includes(filterValue)) {\n                        state = true;\n                    }\n                });\n                return state;\n            }\n        );\n    }\n\n    ionViewWillEnter() {\n        this.http.get('../rest/groups')\n            .pipe(\n                map((data: any) => data.groups),\n                finalize(() => this.loading = false)\n            )\n            .subscribe({\n                next: data => {\n                    this.groupList = data;\n                    this.sortedData = this.groupList.slice();\n                },\n            });\n    }\n\n    async delete(groupToDelete: Group) {\n        const alert = await this.alertController.create({\n            // cssClass: 'custom-alert-danger',\n            header: this.translate.instant('lang.confirmMsg'),\n            buttons: [\n                {\n                    text: this.translate.instant('lang.no'),\n                    role: 'cancel',\n                    cssClass: 'secondary',\n                    handler: () => { }\n                },\n                {\n                    text: this.translate.instant('lang.yes'),\n                    handler: () => {\n                        this.http.delete('../rest/groups/' + groupToDelete.id)\n                            .pipe(\n                                finalize(() => this.loading = false)\n                            )\n                            .subscribe({\n                                next: data => {\n                                    const indexToDelete = this.groupList.findIndex(group => group.id === groupToDelete.id);\n\n                                    this.groupList.splice(indexToDelete, 1);\n\n                                    this.sortedData = this.groupList.slice();\n\n                                    this.notificationService.success('lang.groupDeleted');\n\n                                },\n                            });\n                    }\n                }\n            ]\n        });\n\n        await alert.present();\n    }\n\n    sortData(sort: Sort) {\n        const data = this.groupList.slice();\n        if (!sort.active || sort.direction === '') {\n            this.sortedData = data;\n            return;\n        }\n\n        this.sortedData = data.sort((a, b) => {\n            const isAsc = sort.direction === 'asc';\n            return compare(a[sort.active], b[sort.active], isAsc);\n        });\n    }\n}\n\nfunction compare(a: number | string, b: number | string, isAsc: boolean) {\n    return (a < b ? -1 : 1) * (isAsc ? 1 : -1);\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-menu-button menu=\"left-menu\"></ion-menu-button>\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n        <ion-title>{{'lang.administration' | translate}} {{'lang.manage_groupsAlt' | translate}}</ion-title>\n    </ion-toolbar>\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-button fill=\"outline\" shape=\"round\" routerLink=\"/administration/groups/new\">\n                {{'lang.groupCreation' | translate}}\n            </ion-button>\n        </ion-buttons>\n        <ion-title slot=\"end\" color=\"secondary\">{{groupList.length}} {{'lang.manage_groupsAlt' | translate}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content #mainContent>\n    <ion-list>\n        <ion-item style=\"display: flex;\">\n            <ion-label color=\"primary\" matSort [matSortActive]=\"displayedColumns[0]\" matSortDirection='asc'\n                style=\"display: flex;font-size: 12px;align-items: center;\" (matSortChange)=\"sortData($event)\">\n                <ng-container *ngFor=\"let col of displayedColumns\">\n                    <div [mat-sort-header]=\"col\" disableClear style=\"flex: 1\" *ngIf=\"col!=='actions'\">\n                        {{'lang.' + col | translate}}\n                    </div>\n                </ng-container>\n                <div style=\"flex: 1\" *ngIf=\"displayedColumns.indexOf('actions') > -1\">\n                    <ion-searchbar [placeholder]=\"'lang.filter' | translate\" style=\"padding: 1px;\"\n                        (ionChange)=\"applyFilter($event.detail.value)\"></ion-searchbar>\n                </div>\n            </ion-label>\n            <ion-button slot=\"end\" fill=\"clear\" shape=\"round\" disabled>\n                <ion-icon></ion-icon>\n            </ion-button>\n        </ion-item>\n        <ion-virtual-scroll [items]=\"sortedData\" approxItemHeight=\"50px\">\n            <ion-item *virtualItem=\"let element\" style=\"display: flex;\">\n                <ion-label style=\"display: flex;cursor: pointer;\" routerLink=\"/administration/groups/{{element.id}}\">\n                    <div style=\"flex: 1\" *ngFor=\"let col of displayedColumns\">\n                        {{element[col]}}\n                    </div>\n                </ion-label>\n                <ion-button slot=\"end\" fill=\"clear\" shape=\"round\" (click)=\"$event.stopPropagation();delete(element)\"\n                    title=\"{{'lang.delete' | translate}}\">\n                    <ion-icon color=\"danger\" slot=\"icon-only\" name=\"trash\"></ion-icon>\n                </ion-button>\n            </ion-item>\n        </ion-virtual-scroll>\n    </ion-list>\n</ion-content>","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"MYvV\";","import { Component, OnInit, Input, ElementRef, EventEmitter, Output } from '@angular/core';\nimport { SignaturesContentService } from '../service/signatures.service';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { TranslateService } from '@ngx-translate/core';\n\n\n@Component({\n    selector: 'app-document-note-list',\n    templateUrl: 'document-note-list.component.html',\n})\nexport class DocumentNoteListComponent implements OnInit {\n\n\n    constructor(private translate: TranslateService, private sanitization: DomSanitizer, public signaturesService: SignaturesContentService) { }\n\n    ngOnInit(): void { }\n\n}\n","<ng-container *ngFor=\"let note of this.signaturesService.notesContent[this.signaturesService.currentPage];let i = index;\">\n    <div style=\"top:0;left:0;position: absolute;\" [style.width.px]=\"signaturesService.workingAreaWidth\"\n    [style.height.px]=\"signaturesService.workingAreaHeight\">\n      <img [style.width.%]=\"100\" [src]=\"sanitization.bypassSecurityTrustUrl(note.fullPath)\">\n    </div>\n  </ng-container>","import { Component, Input, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\n\n@Component({\n    templateUrl: 'date-option-modal.component.html',\n    styleUrls: ['date-option-modal.component.scss'],\n})\nexport class DateOptionModalComponent implements OnInit {\n\n    @Input() currentDate: any;\n\n    date: any;\n\n    today: Date = new Date();\n\n    dateformats: any[] = [\n        'dd/MM/y',\n        'dd-MM-y',\n        'dd.MM.y',\n        'd MMM y',\n        'd MMMM y',\n    ];\n\n    datefonts: any[] = [\n        'Arial',\n        'Verdana',\n        'Helvetica',\n        'Tahoma',\n        'Times New Roman',\n        'Courier New',\n    ];\n\n    size = {\n        'Arial': 15,\n        'Verdana': 13,\n        'Helvetica': 13,\n        'Tahoma': 13,\n        'Times New Roman': 15,\n        'Courier New': 13\n    };\n\n    constructor(\n        public modalController: ModalController\n    ) { }\n\n    ngOnInit(): void {\n        this.date = JSON.parse(JSON.stringify(this.currentDate));\n    }\n\n    dismissModal() {\n        this.modalController.dismiss();\n    }\n\n    getFontLabel(label: string) {\n        return label.replace(' ', '_');\n    }\n\n    onSubmit() {\n        this.modalController.dismiss(this.date);\n    }\n\n    select(font: string) {\n        this.date.size = this.size[font];\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-title>{{'lang.options' | translate}}</ion-title>\n        <ion-buttons slot=\"end\">\n            <ion-button (click)=\"dismissModal()\">\n                <ion-icon slot=\"icon-only\" name=\"close-outline\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-content>\n    <ion-toolbar>\n        <ion-title style=\"text-align: center;font-weight: normal;font-size: 50px;padding: 50px;\"\n            [class]=\"getFontLabel(date.font)\" [style.color]=\"date.color\">{{today | date : date.format : undefined : ('lang.langISO' | translate)}}</ion-title>\n    </ion-toolbar>\n    <ion-item>\n        <ion-label color=\"secondary\">{{'lang.format' | translate}}</ion-label>\n        <ion-select [(ngModel)]=\"date.format\" interface=\"popover\">\n            <ion-select-option *ngFor=\"let format of dateformats\" [value]=\"format\">\n                {{today | date : format : undefined : ('lang.langISO' | translate)}}\n            </ion-select-option>\n        </ion-select>\n    </ion-item>\n    <ion-item button lines=\"full\" (click)=\"colorPicker.click()\">\n        <input type=\"color\" #colorPicker [(ngModel)]=\"date.color\" style=\"display: none;\"/>\n        <ion-label color=\"secondary\">{{'lang.color' | translate}}</ion-label>\n        <ion-icon slot=\"end\" name=\"ellipse\" [style.color]=\"date.color\"></ion-icon>\n    </ion-item>\n    <ion-item>\n        <ion-label color=\"secondary\">{{'lang.font' | translate}}</ion-label>\n        <ion-select [(ngModel)]=\"date.font\" (ionChange)=\"select($event.detail.value)\" [interfaceOptions]=\"{cssClass:'selectFormat'}\" [cancelText]=\"'lang.cancel' | translate\">\n            <ion-select-option *ngFor=\"let font of datefonts\" [value]=\"font\" [class]=\"getFontLabel(font)\">\n                {{font}}\n            </ion-select-option>\n        </ion-select>\n    </ion-item>\n</ion-content>\n<ion-footer class=\"ion-no-border\">\n    <ion-toolbar>\n        <ion-buttons class=\"ion-justify-content-center\">\n            <ion-button type=\"submit\" color=\"primary\" (click)=\"onSubmit()\">\n                <ion-label>{{'lang.save' | translate}}</ion-label>\n            </ion-button>\n            <ion-button type=\"button\" (click)=\"dismissModal()\">\n                <ion-label>{{'lang.cancel' | translate}}</ion-label>\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-footer>","import { Component, Input, OnInit } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { HttpClient } from '@angular/common/http';\nimport { NgxExtendedPdfViewerService } from 'ngx-extended-pdf-viewer';\nimport { LoadingController, ModalController } from '@ionic/angular';\nimport { SignaturesContentService } from '../../service/signatures.service';\n\n@Component({\n    templateUrl: 'signature-position.component.html',\n    styleUrls: ['signature-position.component.scss'],\n})\nexport class SignaturePositionComponent implements OnInit {\n\n    @Input() workflow: any = [];\n    @Input() resource: any = [];\n    @Input() pdfContent: any = null;\n\n    loading: boolean = false;\n    dragging: boolean = false;\n\n    pages: number[] = [];\n\n    currentUser: number = 0;\n    currentPage: number = 1;\n    currentSignature: any = {\n        positionX: 0,\n        positionY: 0\n    };\n\n    workingAreaWidth: number = 0;\n    workingAreaHeight: number = 0;\n    signList: any[] = [];\n\n    imgContent: any = null;\n    load: HTMLIonLoadingElement = null;\n\n    pagesLoaded: boolean = false;\n\n    constructor(\n        public translate: TranslateService,\n        public http: HttpClient,\n        public signaturesService: SignaturesContentService,\n        private pdfViewerService: NgxExtendedPdfViewerService,\n        public modalController: ModalController,\n        public loadingController: LoadingController,\n    ) { }\n\n    ngOnInit(): void {\n        this.loadingController.create({\n            message: this.translate.instant('lang.processing'),\n            spinner: 'dots'\n        }).then((load: HTMLIonLoadingElement) => {\n            this.load = load;\n            this.load.present();\n        });\n        if (this.resource.signPos) {\n            this.initSignPos();\n        }\n    }\n\n    initSignPos() {\n        this.workflow.forEach((user: any, index: number) => {\n            if (user.signaturePositions?.length > 0) {\n                this.signList = this.signList.concat(user.signaturePositions.filter((pos: any) => pos.mainDocument === this.resource.mainDocument).map((pos: any) => ({\n                    ...pos,\n                    sequence : index\n                })));\n            }\n        });\n    }\n\n    onSubmit() {\n        this.modalController.dismiss(this.formatData());\n    }\n\n    async onPagesLoaded(ev: any) {\n        this.pages = Array.from({ length: ev.pagesCount }).map((_, i) => i + 1);\n        this.changePage(1);\n    }\n\n    public async exportAsImage(): Promise<void> {\n        const scale = { width: 1000 };\n        const data = await this.pdfViewerService.getPageAsImage(this.currentPage, scale);\n        this.getImageDimensions(data);\n        this.imgContent = data;\n        this.pagesLoaded = true;\n    }\n\n    getImageDimensions(imgContent: any): void {\n        const img = new Image();\n        img.onload = (data: any) => {\n            this.workingAreaWidth = data.target.naturalWidth;\n            this.workingAreaHeight = data.target.naturalHeight;\n        };\n        img.src = imgContent;\n    }\n\n    changePage(page: number) {\n        this.currentPage = page;\n        this.exportAsImage();\n    }\n\n    moveSign(event: any, i: number) {\n        const percentx = (event.x * 100) / this.workingAreaWidth;\n        const percenty = (event.y * 100) / this.workingAreaHeight;\n        this.signList.filter((item: any) => item.sequence === this.currentUser && item.page === this.currentPage)[0].position.positionX = percentx;\n        this.signList.filter((item: any) => item.sequence === this.currentUser && item.page === this.currentPage)[0].position.positionY = percenty;\n        this.dragging = false;\n    }\n\n    emptySign() {\n        return this.signList.filter((item: any) => item.sequence === this.currentUser && item.page === this.currentPage).length === 0;\n    }\n\n    initSign() {\n        this.signList.push(\n            {\n                sequence: this.currentUser,\n                page: this.currentPage,\n                position: {\n                    positionX: 75,\n                    positionY: 90\n                }\n            }\n        );\n        let indexOfElement: number = 0;\n        const element: any[] = Array.from(document.getElementsByClassName('drag-scroll-content'));\n        element.forEach((item: any, index: number) => {\n            if (item.offsetParent !== null) {\n                indexOfElement = index;\n                return true;\n            }\n        });\n        document.getElementsByClassName('drag-scroll-content')[indexOfElement].scrollTop = this.workingAreaHeight;\n    }\n\n    getUserSignPosPage(workflowIndex: number) {\n        return this.signList.filter((item: any) => item.sequence === workflowIndex);\n    }\n\n    selectUser(workflowIndex: string) {\n        this.currentUser = +workflowIndex;\n    }\n\n    getUserName(workflowIndex: number) {\n        return this.workflow[workflowIndex].userDisplay;\n    }\n\n    goToSignUserPage(workflowIndex: number, page: number) {\n        this.currentUser = workflowIndex;\n        this.currentPage = page;\n        this.exportAsImage();\n    }\n\n    deleteSign(index: number) {\n        this.signList.splice(index, 1);\n    }\n\n    formatData() {\n        let objToSend: any[] = [];\n        this.workflow.forEach((element: any, index: number) => {\n            if (this.signList.filter((item: any) => item.sequence === index).length > 0) {\n                objToSend = objToSend.concat(this.signList.filter((item: any) => item.sequence === index));\n            }\n        });\n        return objToSend;\n    }\n\n    imageLoaded(ev: any) {\n        this.load.dismiss();\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-title>{{'lang.adminSignaturesPositions' | translate}}</ion-title>\n    </ion-toolbar>\n    <ion-toolbar color=\"primary\">\n        <ion-segment color=\"warning\" scrollable [value]=\"currentUser\" (ionChange)=\"selectUser($event.detail.value)\"\n            style=\"justify-content: center;\">\n            <ion-segment-button *ngFor=\"let user of workflow;let i=index\" [value]=\"i\" layout=\"icon-start\">\n                <ion-label>\n                    <h2>{{user.userDisplay}}</h2>\n                    <p class=\"chip-item-content\">\n                        <ng-container *ngFor=\"let sign of signList\">\n                            <ion-chip class=\"chip-item\" *ngIf=\"sign.sequence == i\" outline\n                                [title]=\"('lang.accessToPage' | translate) + ' ' + sign.page\"\n                                [color]=\"(i=== currentUser && sign.page === currentPage) ? 'primary' : 'medium'\"\n                                (click)=\"goToSignUserPage(i,sign.page)\">\n                                <ion-label>{{sign.page}}</ion-label>\n                            </ion-chip>\n                        </ng-container>\n                    </p>\n                </ion-label>\n                <ion-icon [name]=\"user.mode === 'sign' ? 'pencil-outline' : 'checkmark-done-outline'\"></ion-icon>\n            </ion-segment-button>\n        </ion-segment>\n    </ion-toolbar>\n</ion-header>\n<ion-content>\n    <drag-scroll style=\"overflow:auto;height: 100%;width: 100%;margin: auto;\"\n        [drag-disabled]=\"dragging && !signaturesService.mobileMode\"\n        [drag-scroll-disabled]=\"dragging && signaturesService.mobileMode\">\n        <div id=\"myBounds\" #myBounds style=\"margin:auto;position: relative;box-shadow: 0px 0px 5px 0px #656565;\"\n            [style.width.px]=\"workingAreaWidth\" [style.height.px]=\"workingAreaHeight\">\n            <ng-container *ngFor=\"let sign of signList;let indexSign=index;\">\n                <div *ngIf=\"sign.page === currentPage\" [class.signDisabled]=\"currentUser!==sign.sequence\"\n                    [position]=\"{x: (sign.position.positionX*workingAreaWidth)/100, y:(sign.position.positionY*workingAreaHeight)/100}\"\n                    [style.width.%]=\"25\" [ngDraggable]=\"currentUser===sign.sequence\" (movingOffset)=\"dragging=true\"\n                    (endOffset)=\"moveSign($event, i);\" [preventDefaultEvent]=\"false\" [bounds]=\"myBounds\"\n                    [inBounds]=\"true\" class=\"signature\" [class.hide]=\"!pagesLoaded\"\n                    (click)=\"currentUser!=sign.sequence ? goToSignUserPage(sign.sequence, currentPage) : false\">\n                    <ion-buttons style=\"position: absolute;top: -50px;right: 0px;\">\n                        <ion-button fill=\"clear\" slot=\"icon-only\" shape=\"round\" size=\"small\" color=\"danger\"\n                            [title]=\"'lang.delete' | translate\" (click)=\"deleteSign(indexSign)\">\n                            <ion-icon slot=\"icon-only\" name=\"trash-outline\"></ion-icon>\n                        </ion-button>\n                    </ion-buttons>\n                    <span class=\"signUserName\">{{getUserName(sign.sequence)}}</span>\n                    {{'lang.signature' | translate | uppercase}}\n                </div>\n            </ng-container>\n            <ion-img class=\"img-content\" [src]=\"imgContent\" (ionImgDidLoad)=\"imageLoaded($event)\"></ion-img>\n            <ion-button color=\"primary\" *ngIf=\"emptySign()\" (click)=\"initSign()\"\n                style=\"position: fixed;top: 50%;left: 50%;transform: translate(-50%,-50%);font-size:20px;\">\n                {{'lang.createSignaturePosition' | translate}}</ion-button>\n        </div>\n    </drag-scroll>\n    <ngx-extended-pdf-viewer style=\"display: none;\" [src]=\"pdfContent\" [useBrowserLocale]=\"true\" [textLayer]=\"false\"\n        (pdfLoaded)=\"onPagesLoaded($event)\">\n    </ngx-extended-pdf-viewer>\n    <section class=\"page-info\">\n        <div class=\"page-info-doc\">{{resource.title}}</div>\n        <div class=\"page-info-page\" (click)=\"pages.length > 1 ? pagesList.open() : false\">{{'lang.page' | translate}} {{ currentPage }} / {{ pages.length }}</div>\n        <ion-select [cancelText]=\"'lang.cancel' | translate\" style=\"max-height: 30%;\" interface=\"action-sheet\" #pagesList (ionChange)=\"changePage($event.target.value)\" hidden=\"true\">\n            <ion-select-option  *ngFor=\"let page of pages;let i=index\" [value]=\"page\">{{ i + 1 }}</ion-select-option>\n        </ion-select>\n    </section>\n    <ng-container *ngIf=\"pages.length > 1\">\n        <ion-fab-button *ngIf=\"currentPage > 1\" (click)=\"changePage(currentPage-1)\" class=\"paginate-left\">\n            <ion-icon name=\"chevron-back-outline\"></ion-icon>\n        </ion-fab-button>\n        <ion-fab-button *ngIf=\"currentPage < pages.length\" (click)=\"changePage(currentPage+1)\" \n            class=\"paginate-right\">\n            <ion-icon name=\"chevron-forward-outline\"></ion-icon>\n        </ion-fab-button>\n    </ng-container>\n</ion-content>\n<ion-footer class=\"ion-no-border footer-buttons\">\n    <div>\n        <ion-button type=\"button\" color=\"primary\" fill=\"outline\" shape=\"round\" size=\"large\" (click)=\"onSubmit()\">\n            <ion-label>{{'lang.save' | translate}}</ion-label>\n        </ion-button>\n        <ion-button type=\"button\" color=\"medium\" fill=\"outline\" shape=\"round\" size=\"large\"\n            (click)=\"modalController.dismiss()\">\n            <ion-label>{{'lang.cancel' | translate}}</ion-label>\n        </ion-button>\n    </div>\n</ion-footer>\n","import { MatPaginatorIntl } from '@angular/material/paginator';\n\n\nconst frenchRangeLabel = (page: number, pageSize: number, length: number) => {\n    if (length === 0 || pageSize === 0) {\n        return '';\n    }\n\n    length = Math.max(length, 0);\n\n    const startIndex = page * pageSize;\n\n    // If the start index exceeds the list length, do not try and fix the end index to the end.\n    const endIndex = startIndex < length ?\n        Math.min(startIndex + pageSize, length) :\n        startIndex + pageSize;\n\n    const nbPage = Math.ceil(length / pageSize);\n    return `${page + 1} / ${nbPage}`;\n};\n\nexport function getFrenchPaginatorIntl() {\n    const paginatorIntl = new MatPaginatorIntl();\n    paginatorIntl.itemsPerPageLabel = 'Afficher:';\n    paginatorIntl.nextPageLabel = 'Page suivante';\n    paginatorIntl.previousPageLabel = 'Page précédente';\n    paginatorIntl.getRangeLabel = frenchRangeLabel;\n\n    return paginatorIntl;\n}\n","import { Component, OnInit } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { Input, EventEmitter, Output, ViewChild } from '@angular/core';\nimport { of } from 'rxjs';\nimport { tap, catchError } from 'rxjs/operators';\nimport { HttpClient } from '@angular/common/http';\nimport { NotificationService } from '../../service/notification.service';\n\n@Component({\n    selector: 'plugin-autocomplete',\n    templateUrl: 'autocomplete.component.html',\n    styleUrls: ['autocomplete.component.scss'],\n})\nexport class PluginAutocompleteComponent implements OnInit {\n\n    @Input() currentItems: any[] = [];\n    @Input() singleMode: boolean;\n    @Input() required: boolean;\n    @Input('datas') options: any;\n    @Input() routeDatas: string[];\n    @Input('labelPlaceholder') placeholder: string;\n    @Input('targetSearchKey') key: string[];\n    @Input() subInfoKey: string;\n\n    @Output('triggerEvent') selectedOpt = new EventEmitter();\n\n    @ViewChild('searchInput', { static: false }) searchInput: any;\n\n    myControl = new FormControl();\n    loading = false;\n\n    searchValue: string = '';\n\n    listInfo: string;\n\n    editMode: boolean = false;\n\n    itemList: any[] = [];\n\n    constructor(\n        public http: HttpClient,\n        public notificationService: NotificationService,\n    ) { }\n\n    ngOnInit() { }\n\n    getDatas(ev: any) {\n        if (ev.detail.value === '') {\n            this.itemList = [];\n        } else {\n            this.http.get('../rest/autocomplete/users?search=' + ev.detail.value).pipe(\n                tap((res: any) => {\n                    this.itemList = res;\n                }),\n                catchError(err => {\n                    this.notificationService.handleErrors(err);\n                    return of(false);\n                })\n            ).subscribe();\n        }\n    }\n\n    selectItem(item: any) {\n        this.currentItems.push(item);\n        this.searchValue = '';\n        this.itemList = [];\n        this.editMode = false;\n        this.selectedOpt.emit(item);\n    }\n\n    removeItem(index: number) {\n        this.currentItems.splice(index, 1);\n    }\n\n    toggleEdit() {\n        this.editMode = !this.editMode;\n        if (this.editMode) {\n            setTimeout(() => {\n                this.searchInput.setFocus();\n            }, 0);\n        }\n    }\n}\n","<ion-searchbar *ngIf=\"editMode\" #searchInput [(ngModel)]=\"searchValue\" (ionChange)=\"getDatas($event)\" [placeholder]=\"'lang.search' | translate\"></ion-searchbar>\n<ion-list *ngIf=\"itemList.length > 0\" class=\"item-list\">\n    <ion-item *ngFor=\"let item of itemList\">\n        <ion-checkbox color=\"primary\" slot=\"start\" [value]=\"item\"\n            (ionChange)=\"selectItem($event.detail.value)\"></ion-checkbox>\n        <ion-label>{{ item.firstname }} {{ item.lastname }}</ion-label>\n        <ion-note slot=\"end\">{{ item.email }}</ion-note>\n    </ion-item>\n</ion-list>\n<ion-list>\n    <ion-item lines=\"none\">\n        <ion-label *ngIf=\"currentItems.length === 0\" color=\"medium\" style=\"font-style: italic;\">{{ 'lang.noItem' | translate }}</ion-label>\n        <p>\n            <ion-chip *ngFor=\"let item of currentItems;let i=index\" (click)=\"removeItem(i)\" style=\"height: auto;\">\n                <ion-label class=\"ion-text-wrap\">{{ item.firstname }} {{ item.lastname }}</ion-label>\n                <ion-icon name=\"close-circle\"></ion-icon>\n            </ion-chip>\n        </p>\n        <ion-buttons slot=\"end\" *ngIf=\"!editMode\">\n            <ion-button size=\"small\" (click)=\"toggleEdit()\">\n                <ion-label color=\"medium\">{{'lang.edit' | translate}}</ion-label>\n            </ion-button>\n        </ion-buttons>\n    </ion-item>\n</ion-list>","import { Component, OnInit } from '@angular/core';\nimport { MenuController, ModalController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { SignaturesContentService } from '../service/signatures.service';\n\n@Component({\n    templateUrl: 'home.component.html',\n    styleUrls: ['home.component.scss'],\n})\nexport class HomeComponent implements OnInit {\n\n    loading: boolean = false;\n\n    constructor(\n        public signaturesService: SignaturesContentService,\n        public translate: TranslateService,\n        public menu: MenuController,\n        public modalController: ModalController,\n    ) { }\n\n    ngOnInit(): void {\n        this.menu.enable(true, 'left-menu');\n        this.menu.enable(false, 'right-menu');\n        this.menu.open('left-menu');\n    }\n}\n","<ion-content color=\"primary\">\n    <mat-icon svgIcon=\"maarchLogo\" class=\"maarchLogo\"></mat-icon>\n    <ion-button *ngIf=\"signaturesService.mobileMode\" class=\"menu-button\" color=\"light\" fill=\"outline\" size=\"large\" (click)=\"menu.open('left-menu')\">\n        {{'lang.accessMenu' | translate}}\n    </ion-button>\n</ion-content>\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { SignaturesContentService } from '../../service/signatures.service';\nimport { NotificationService } from '../../service/notification.service';\nimport { HttpClient } from '@angular/common/http';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort, Sort } from '@angular/material/sort';\nimport { map, finalize } from 'rxjs/operators';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AuthService } from '../../service/auth.service';\nimport { AlertController, ModalController, PopoverController } from '@ionic/angular';\nimport { UsersComponent } from './list/users.component';\n\n\nexport interface Group {\n    id: string;\n    label: string;\n    users: any[];\n    privileges: any[];\n}\n\n@Component({\n    selector: 'app-administration-group',\n    templateUrl: 'group.component.html',\n    styleUrls: ['../administration.scss', 'group.component.scss'],\n})\n\nexport class GroupComponent implements OnInit {\n\n    @ViewChild(MatPaginator) paginator: MatPaginator;\n    @ViewChild(MatSort) sort: MatSort;\n\n    creationMode: boolean = true;\n    loading: boolean = true;\n    group: Group;\n    groupClone: Group;\n    title: string = '';\n    displayedColumns: string[];\n    usersList: any[];\n    sortedData: any[];\n\n    constructor(\n        public http: HttpClient,\n        private translate: TranslateService,\n        private route: ActivatedRoute,\n        private router: Router,\n        public signaturesService: SignaturesContentService,\n        public notificationService: NotificationService,\n        public dialog: MatDialog,\n        public authService: AuthService,\n        public popoverController: PopoverController,\n        public modalController: ModalController,\n        public alertController: AlertController\n    ) {\n        this.displayedColumns = ['firstname', 'lastname', 'actions'];\n        this.group = {\n            id: '',\n            label: '',\n            users: [],\n            privileges: []\n        };\n        this.groupClone = JSON.parse(JSON.stringify(this.group));\n    }\n\n    ngOnInit(): void {\n        this.route.params.subscribe((params: any) => {\n            if (params['id'] === undefined) {\n                this.creationMode = true;\n                this.title = this.translate.instant('lang.groupCreation');\n                this.loading = false;\n                this.groupClone = JSON.parse(JSON.stringify(this.group));\n            } else {\n                this.creationMode = false;\n                this.usersList = [];\n\n                this.http.get('../rest/groups/' + params['id'])\n                    .pipe(\n                        map((data: any) => data.group),\n                        finalize(() => {\n                            this.loading = false;\n                        })\n                    )\n                    .subscribe({\n                        next: data => {\n                            this.group = data;\n                            this.groupClone = JSON.parse(JSON.stringify(this.group));\n                            this.title = this.group.label;\n                            this.updateDataTable();\n                        },\n                    });\n\n                this.http.get('../rest/users?mode=all')\n                    .pipe(\n                        map((data: any) => data.users)\n                    )\n                    .subscribe({\n                        next: data => {\n                            this.usersList = data;\n                        }\n                    });\n            }\n        });\n    }\n\n    updateDataTable() {\n        this.sortedData = this.group.users.slice();\n    }\n\n    async openUserList(ev: any) {\n        const modal = await this.modalController.create({\n            component: UsersComponent,\n            componentProps: {\n                'users': this.group.users\n            }\n        });\n        await modal.present();\n        const { data } = await modal.onWillDismiss();\n        if (data !== undefined) {\n            this.linkUser(data);\n        }\n    }\n\n    canValidate() {\n        if (this.group.label === this.groupClone.label) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    onSubmit() {\n        if (this.creationMode) {\n            this.createGroup();\n        } else {\n            this.modifyGroup();\n        }\n    }\n\n    linkUser(user: any) {\n        this.http.put('../rest/groups/' + this.group.id + '/users', { userId: user.id })\n            .subscribe({\n                next: () => {\n                    this.group.users.push(user);\n                    this.updateDataTable();\n                    this.notificationService.success('lang.userAdded');\n                },\n            });\n    }\n\n    async unlinkUser(userToDelete: any) {\n        if (userToDelete.id === this.authService.user.id) {\n            const alert = await this.alertController.create({\n                // cssClass: 'custom-alert-danger',\n                header: this.translate.instant('lang.confirmMsg'),\n                buttons: [\n                    {\n                        text: this.translate.instant('lang.no'),\n                        role: 'cancel',\n                        cssClass: 'secondary',\n                        handler: () => { }\n                    },\n                    {\n                        text: this.translate.instant('lang.yes'),\n                        handler: () => {\n                            this.deleteUser(userToDelete);\n                        }\n                    }\n                ]\n            });\n\n            await alert.present();\n\n        } else {\n            this.deleteUser(userToDelete);\n        }\n    }\n\n\n    deleteUser(userToDelete: any) {\n        this.http.delete('../rest/groups/' + this.group.id + '/users/' + userToDelete.id, {})\n            .subscribe({\n                next: () => {\n                    const indexToDelete = this.group.users.findIndex((user: any) => user.id === userToDelete.id);\n                    this.group.users.splice(indexToDelete, 1);\n                    this.updateDataTable();\n                    this.notificationService.success('lang.userDeleted');\n                },\n            });\n    }\n\n    modifyGroup() {\n        this.loading = true;\n        this.http.put('../rest/groups/' + this.group.id, this.group)\n            .subscribe({\n                next: () => {\n                    this.router.navigate(['/administration/groups']);\n                    this.notificationService.success('lang.groupUpdated');\n                },\n            });\n    }\n\n    createGroup() {\n        this.loading = true;\n        this.http.post('../rest/groups', this.group)\n            .subscribe({\n                next: (data: any) => {\n                    this.router.navigate(['/administration/groups/' + data.id]);\n                    this.notificationService.success('lang.groupAdded');\n                },\n            });\n    }\n\n    async deleteGroup() {\n        const alert = await this.alertController.create({\n            // cssClass: 'custom-alert-danger',\n            header: this.translate.instant('lang.confirmMsg'),\n            buttons: [\n                {\n                    text: this.translate.instant('lang.no'),\n                    role: 'cancel',\n                    cssClass: 'secondary',\n                    handler: () => { }\n                },\n                {\n                    text: this.translate.instant('lang.yes'),\n                    handler: () => {\n                        this.http.delete('../rest/groups/' + this.group.id)\n                            .subscribe({\n                                next: () => {\n                                    this.router.navigate(['/administration/groups']);\n                                    this.notificationService.success('lang.groupDeleted');\n                                },\n                            });\n                    }\n                }\n            ]\n        });\n\n        await alert.present();\n    }\n\n    async togglePrivilege(privilege: any, toggle: boolean) {\n        if (privilege.id === 'manage_groups' && privilege.checked) {\n            if (!toggle) {\n                privilege.checked = !privilege.checked;\n            }\n            const alert = await this.alertController.create({\n                header: this.translate.instant('lang.confirmMsg'),\n                message: this.translate.instant('lang.groupWarnMsg'),\n                buttons: [\n                    {\n                        text: this.translate.instant('lang.no'),\n                        role: 'cancel',\n                        cssClass: 'secondary',\n                        handler: () => {\n                            privilege.checked = !privilege.checked;\n                        }\n                    },\n                    {\n                        text: this.translate.instant('lang.yes'),\n                        handler: () => {\n                            this.updatePrivilege(privilege);\n                        }\n                    }\n                ]\n            });\n            await alert.present();\n        } else {\n            if (!toggle) {\n                privilege.checked = !privilege.checked;\n            }\n            setTimeout(() => {\n                this.updatePrivilege(privilege);\n            }, 200);\n        }\n    }\n\n    updatePrivilege(privilege: any) {\n        this.http.put('../rest/groups/' + this.group.id + '/privilege/' + privilege.id, { checked: privilege.checked })\n            .subscribe({\n                next: () => {\n                    this.notificationService.success('lang.privilegeUpdated');\n                    this.authService.updateUserInfoWithTokenRefresh();\n                },\n            });\n    }\n\n    cancel() {\n        this.router.navigate(['/administration/groups']);\n    }\n\n    sortData(sort: Sort) {\n        const data = this.group.users.slice();\n        if (!sort.active || sort.direction === '') {\n            this.sortedData = data;\n            return;\n        }\n\n        this.sortedData = data.sort((a, b) => {\n            const isAsc = sort.direction === 'asc';\n            return compare(a[sort.active], b[sort.active], isAsc);\n        });\n    }\n}\n\nfunction compare(a: number | string, b: number | string, isAsc: boolean) {\n    return (a < b ? -1 : 1) * (isAsc ? 1 : -1);\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-menu-button menu=\"left-menu\"></ion-menu-button>\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n        <ion-title>{{title}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<form style=\"display: contents;\" id=\"adminForm\" (ngSubmit)=\"onSubmit()\" #adminForm=\"ngForm\">\n    <ion-content>\n        <ion-item>\n            <ion-label color=\"secondary\" position=\"floating\">{{'lang.label' | translate}} *</ion-label>\n            <ion-input name=\"label\" [maxlength]=\"128\" [(ngModel)]=\"group.label\" required>\n            </ion-input>\n        </ion-item>\n        <ion-item lines=\"none\" *ngIf=\"!creationMode\">\n            <ion-label color=\"secondary\">{{'lang.privileges' | translate}} :</ion-label>\n        </ion-item>\n        <div style=\"display: grid;grid-gap: 10px;\" [class.grid-2-col]=\"signaturesService.mobileMode\" [class.grid-3-col]=\"!signaturesService.mobileMode\">\n            <ion-item  style=\"cursor: pointer\" *ngFor=\"let privilege of group.privileges\">\n                <ion-toggle slot=\"start\" [name]=\"privilege.id\" color=\"primary\" [checked]=\"privilege.checked\"\n                    [(ngModel)]=\"privilege.checked\" (click)=\"togglePrivilege(privilege, true)\"></ion-toggle>\n                <ion-label (click)=\"togglePrivilege(privilege, false)\">{{'lang.' + privilege.id + 'Admin' | translate}}</ion-label>\n            </ion-item>\n        </div>\n        <ion-item lines=\"none\" *ngIf=\"!creationMode\">\n            <ion-label color=\"secondary\">{{'lang.linkedUsers' | translate}} :</ion-label>\n        </ion-item>\n        <ion-card *ngIf=\"!creationMode\" style=\"height: 400px; overflow-y: auto;\">\n            <ion-list>\n                <ion-item style=\"position: sticky;top:0px;z-index:1;\">\n                    <ng-container style=\"display: flex;align-items: center;justify-content: center;width: 100%;background: white;\">\n                        <ion-label color=\"primary\" matSort [matSortActive]=\"displayedColumns[1]\" matSortDirection='asc'\n                        style=\"display: flex;font-size: 12px;align-items: center;\" (matSortChange)=\"sortData($event)\">\n                        <ng-container *ngFor=\"let col of displayedColumns\">\n                            <div [mat-sort-header]=\"col\" disableClear style=\"flex: 1\" *ngIf=\"col!=='actions'\">\n                                {{'lang.' + col | translate}}\n                            </div>\n                        </ng-container>\n                        <div style=\"flex: 1;text-align: right;\" *ngIf=\"displayedColumns.indexOf('actions') > -1\">\n                            <ion-button slot=\"end\" color=\"primary\" fille=\"outline\" shape=\"round\" (click)=\"openUserList()\">\n                                {{'lang.add' | translate}}\n                            </ion-button>\n                        </div>\n                        </ion-label>\n                        <ion-button slot=\"end\" fill=\"clear\" shape=\"round\" disabled>\n                            <ion-icon></ion-icon>\n                        </ion-button>\n                    </ng-container>\n                </ion-item>\n                <ion-virtual-scroll [items]=\"sortedData\" approxItemHeight=\"50px\">\n                    <ion-item *virtualItem=\"let element\" style=\"display: flex;\">\n                        <ion-label style=\"display: flex;cursor: pointer;\"\n                            routerLink=\"/administration/users/{{element.id}}\">\n                            <div style=\"flex: 1\" *ngFor=\"let col of displayedColumns\">\n                                {{element[col]}}\n                            </div>\n                        </ion-label>\n                        <ion-button slot=\"end\" fill=\"clear\" shape=\"round\"\n                            (click)=\"$event.stopPropagation();unlinkUser(element)\"\n                            title=\"{{'lang.unlinkUser' | translate}}\">\n                            <ion-icon color=\"danger\" slot=\"icon-only\" name=\"close-outline\"></ion-icon>\n                        </ion-button>\n                    </ion-item>\n                </ion-virtual-scroll>\n            </ion-list>\n        </ion-card>\n        <ion-item text-center lines=\"none\" style=\"position: sticky;bottom:0px;z-index:1;\">\n            <div style=\"display: flex;align-items: center;justify-content: center;width: 100%;background: white;\">\n                <ion-button type=\"submit\" shape=\"round\" size=\"large\" fill=\"outline\" color=\"primary\"\n                    [disabled]=\"!adminForm.form.valid || !canValidate()\">\n                    <ion-label style=\"font-size: 13px;\">{{'lang.validate' | translate}}</ion-label>\n                </ion-button>\n                <ion-button *ngIf=\"!creationMode\" type=\"button\" shape=\"round\" size=\"large\" fill=\"outline\" color=\"danger\"\n                    (click)=\"deleteGroup()\">\n                    <ion-label style=\"font-size: 13px;\">{{'lang.delete' | translate}}</ion-label>\n                </ion-button>\n            </div>\n        </ion-item>\n    </ion-content>\n</form>","import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { LatinisePipe } from 'ngx-pipes';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class FunctionsService {\n\n    constructor(\n        public translate: TranslateService,\n        private latinisePipe: LatinisePipe,\n    ) { }\n\n    empty(value: any) {\n        if (value === null || value === undefined || value === false) {\n            return true;\n\n        } else if (Array.isArray(value)) {\n            if (value.length > 0) {\n                return false;\n            } else {\n                return true;\n            }\n        } else if (String(value) !== '') {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    isDate(value: any) {\n        return value instanceof Date && !isNaN(value.valueOf());\n    }\n\n    formatFrenchDateToTechnicalDate(date: string) {\n        if (!this.empty(date)) {\n            let arrDate = date.split('-');\n            arrDate = arrDate.concat(arrDate[arrDate.length - 1].split(' '));\n            arrDate.splice(2, 1);\n\n            if (this.empty(arrDate[3])) {\n                arrDate[3] = '00:00:00';\n            }\n\n            const formatDate = `${arrDate[2]}-${arrDate[1]}-${arrDate[0]} ${arrDate[3]}`;\n\n            return formatDate;\n        } else {\n            return date;\n        }\n    }\n\n    formatFrenchDateToObjectDate(date: string, delimiter: string = '-') {\n        if (!this.empty(date)) {\n            let arrDate = date.split(delimiter);\n            arrDate = arrDate.concat(arrDate[arrDate.length - 1].split(' '));\n            arrDate.splice(2, 1);\n\n            if (this.empty(arrDate[3])) {\n                arrDate[3] = '00:00:00';\n            }\n\n            const formatDate = `${arrDate[2]}-${arrDate[1]}-${arrDate[0]} ${arrDate[3]}`;\n\n            return new Date(formatDate);\n        } else {\n            return date;\n        }\n    }\n\n    formatDateObjectToDateString(date: Date, limitMode: boolean = false, format: string = 'dd-mm-yyyy') {\n        if (date !== null) {\n            const formatDate: any[] = [];\n            format.split('-').forEach((element: any) => {\n                if (element === 'dd') {\n                    let day: any = date.getDate();\n                    day = ('00' + day).slice(-2);\n                    formatDate.push(day);\n                } else if (element === 'mm') {\n                    let month: any = date.getMonth() + 1;\n                    month = ('00' + month).slice(-2);\n                    formatDate.push(month);\n                } else if (element === 'yyyy') {\n                    const year: any = date.getFullYear();\n                    formatDate.push(year);\n                }\n            });\n\n            let limit = '';\n            if (limitMode) {\n                limit = ' 23:59:59';\n            }\n            return `${formatDate.join('-')}${limit}`;\n        } else {\n            return date;\n        }\n    }\n\n    formatSerializedDateToDateString(date: string) {\n        return this.formatDateObjectToDateString(new Date(date));\n    }\n\n    listSortingDataAccessor(data: any, sortHeaderId: any) {\n        if (typeof data[sortHeaderId] === 'string') {\n            return data[sortHeaderId].toLowerCase();\n        }\n        return data[sortHeaderId];\n    }\n\n    filterUnSensitive(template: any, filter: string, filteredColumns: any) {\n        let filterReturn = false;\n        filter = this.latinisePipe.transform(filter);\n        filteredColumns.forEach((column: any) => {\n            let val = template[column];\n            if (typeof template[column] !== 'string') {\n                val = val === undefined || null ? '' : JSON.stringify(val);\n            }\n            filterReturn = filterReturn || this.latinisePipe.transform(val.toLowerCase()).includes(filter);\n        });\n        return filterReturn;\n    }\n\n    formatBytes(bytes: number, decimals = 2) {\n        if (typeof bytes === 'number') {\n            if (bytes === 0) {\n                return '0 Octet';\n            }\n\n            const k = 1024;\n            const dm = decimals < 0 ? 0 : decimals;\n            const sizes = ['Octets', 'KO', 'MO', 'GO', 'TO', 'PO', 'EO', 'ZO', 'YO'];\n\n            const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n            return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n        } else {\n            return bytes;\n        }\n    }\n}\n","import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { SignaturesContentService } from '../../service/signatures.service';\nimport { HttpClient } from '@angular/common/http';\nimport { AuthService } from '../../service/auth.service';\nimport { catchError, tap } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport { NotificationService } from '../../service/notification.service';\nimport { IonReorderGroup, PopoverController } from '@ionic/angular';\nimport { VisaWorkflowModelsComponent } from './models/visa-workflow-models.component';\nimport { ItemReorderEventDetail } from '@ionic/core';\n\n@Component({\n    selector: 'app-visa-workflow',\n    templateUrl: 'visa-workflow.component.html',\n    styleUrls: ['visa-workflow.component.scss'],\n})\nexport class VisaWorkflowComponent implements OnInit {\n\n    @Input() editMode: boolean = false;\n    @Input() visaWorkflow: any = [];\n    @ViewChild(IonReorderGroup) reorderGroup: IonReorderGroup;\n\n    loading: boolean = false;\n\n    visaUsersSearchVal: string = '';\n    visaUsersList: any = [];\n    showVisaUsersList: boolean = false;\n    customPopoverOptions = {\n        header: 'Roles'\n    };\n    roles: any[] = [];\n\n    constructor(\n        public http: HttpClient,\n        public signaturesService: SignaturesContentService,\n        public authService: AuthService,\n        public notificationService: NotificationService,\n        public popoverController: PopoverController\n    ) { }\n\n    ngOnInit(): void {\n        this.visaWorkflow.forEach((element: any, index: number) => {\n            this.getAvatarUser(index);\n        });\n    }\n\n    doReorder(ev: CustomEvent<ItemReorderEventDetail>) {\n        if (this.canMoveUser(ev)) {\n            this.visaWorkflow = ev.detail.complete(this.visaWorkflow);\n        } else {\n            this.notificationService.error('lang.errorUserSignType');\n            ev.detail.complete(false);\n        }\n    }\n\n    canMoveUser(ev: CustomEvent<ItemReorderEventDetail>) {\n        const newWorkflow = this.array_move(this.visaWorkflow.slice(), ev.detail.from, ev.detail.to);\n        const res = this.isValidWorkflow(newWorkflow);\n        return res;\n    }\n\n    isValidWorkflow(workflow: any = this.visaWorkflow) {\n        let res: boolean = true;\n        workflow.forEach((item: any, indexUserRgs: number) => {\n            if (['visa', 'stamp'].indexOf(item.role) === -1) {\n                if (workflow.filter((itemUserStamp: any, indexUserStamp: number) => indexUserStamp > indexUserRgs && itemUserStamp.role === 'stamp').length > 0) {\n                    res = false;\n                }\n            }\n        });\n        return res;\n    }\n\n    array_move(arr: any, old_index: number, new_index: number) {\n        if (new_index >= arr.length) {\n            let k = new_index - arr.length + 1;\n            while (k--) {\n                arr.push(undefined);\n            }\n        }\n        arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);\n        return arr; // for testing\n    }\n\n    getVisaUsers(ev: any) {\n        this.showVisaUsersList = true;\n        if (ev.detail.value === '') {\n            this.resetVisaUsersList();\n        } else if (ev.detail.value.length >= 3) {\n            this.http.get('../rest/autocomplete/users?search=' + ev.detail.value).pipe(\n                tap((res: any) => {\n                    this.visaUsersList = res;\n                }),\n                catchError(err => {\n                    this.notificationService.handleErrors(err);\n                    return of(false);\n                })\n            ).subscribe();\n        }\n    }\n\n    addUser(user: any, searchInput: any) {\n        this.resetVisaUsersList();\n\n        user.signatureModes.unshift('visa');\n\n        const userObj: any = {\n            'userId': user.id,\n            'userDisplay': `${user.firstname} ${user.lastname}`,\n            'role': user.signatureModes[user.signatureModes.length - 1],\n            'processDate': null,\n            'current': false,\n            'modes': user.signatureModes\n        };\n        this.visaWorkflow.push(userObj);\n        if (!this.isValidWorkflow()) {\n            this.visaWorkflow[this.visaWorkflow.length - 1].role = 'visa';\n        }\n        this.getAvatarUser(this.visaWorkflow.length - 1);\n        this.visaUsersSearchVal = '';\n        searchInput.setFocus();\n    }\n\n    removeUser(index: number) {\n        this.visaWorkflow.splice(index, 1);\n    }\n\n    getAvatarUser(index: number) {\n        if (this.visaWorkflow[index].userPicture === undefined && this.visaWorkflow[index].userDisplay !== '') {\n            this.http.get('../rest/users/' + this.visaWorkflow[index].userId + '/picture').pipe(\n                tap((data: any) => {\n                    this.visaWorkflow[index].userPicture = data.picture;\n                }),\n                catchError(err => {\n                    this.notificationService.handleErrors(err);\n                    return of(false);\n                })\n            ).subscribe();\n        }\n    }\n\n    resetVisaUsersList() {\n        this.visaUsersList = [];\n    }\n\n    async openVisaWorkflowModels(ev: any) {\n        const popover = await this.popoverController.create({\n            component: VisaWorkflowModelsComponent,\n            componentProps: { currentWorkflow: this.visaWorkflow },\n            event: ev,\n        });\n        await popover.present();\n\n        popover.onDidDismiss()\n            .then((result: any) => {\n                if (result.role !== 'backdrop') {\n                    this.visaWorkflow = this.visaWorkflow.concat(result.data);\n                    this.visaWorkflow.forEach((element: any, index: number) => {\n                        this.getAvatarUser(index);\n                    });\n                }\n            });\n    }\n\n    getCurrentWorkflow() {\n        return this.visaWorkflow;\n    }\n\n    getRole(id: string) {\n        return this.authService.signatureRoles.filter((mode: any) => mode.id === id)[0];\n    }\n\n    loadWorkflow(workflow: any) {\n        this.visaWorkflow = workflow;\n        const length = this.visaWorkflow.length;\n        for (let index = 0; index < length; index++) {\n            this.getAvatarUser(index);\n        }\n\n    }\n\n    isValidRole(indexWorkflow: any, role: string, currentRole: string) {\n        if (this.visaWorkflow.filter((item: any, index: any) => index > indexWorkflow && ['stamp'].indexOf(item.role) > -1).length > 0 && ['visa', 'stamp'].indexOf(currentRole) > -1 && ['visa', 'stamp'].indexOf(role) === -1) {\n            return false;\n        } else if (this.visaWorkflow.filter((item: any, index: any) => index < indexWorkflow && ['visa', 'stamp'].indexOf(item.role) === -1).length > 0 && role === 'stamp') {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    setPositionsWorkfow(resource: any, positions: any[]) {\n        this.clearPositionsFromResource(resource);\n        if (positions.length > 0) {\n            Object.keys(positions).forEach(key => {\n                const objPos = {\n                    ...positions[key],\n                    mainDocument : resource.mainDocument,\n                };\n                this.visaWorkflow[positions[key].sequence].signaturePositions = this.visaWorkflow[positions[key].sequence].signaturePositions.filter((pos: any) => pos.mainDocument !== resource.mainDocument);\n                this.visaWorkflow[positions[key].sequence].signaturePositions.push(objPos);\n            });\n        }\n    }\n\n    clearPositionsFromResource(resource: any) {\n        this.visaWorkflow.forEach((user: any) => {\n            user.signaturePositions = user.signaturePositions.filter((pos: any) => pos.mainDocument !== resource.mainDocument);\n        });\n    }\n\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-button disabled>\n                <ion-icon slot=\"icon-only\" name=\"list-outline\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n        <ion-title class=\"ion-text-center\">{{'lang.circuit' | translate}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content (click)=\"resetVisaUsersList();\">\n    <ng-container *ngIf=\"editMode\">\n        <ion-item lines=\"none\">\n            <ion-searchbar #searchInput [(ngModel)]=\"visaUsersSearchVal\" [placeholder]=\"'lang.searchUser' | translate\"\n                (ionChange)=\"getVisaUsers($event)\" (ionFocus)=\"visaUsersSearchVal=''\"></ion-searchbar>\n            <ion-buttons slot=\"end\">\n                <ion-button fill=\"clear\" slot=\"icon-only\" shape=\"round\" color=\"primary\"\n                    (click)=\"openVisaWorkflowModels($event)\" [title]=\"'lang.circuitModels' | translate\">\n                    <ion-icon slot=\"icon-only\" name=\"albums-outline\"></ion-icon>\n                </ion-button>\n            </ion-buttons>\n        </ion-item>\n        <ion-list *ngIf=\"visaUsersList.length > 0\"\n            style=\"position: absolute;z-index: 2;width: 100%;box-shadow: 0 4px 2px -2px gray;\">\n            <ion-item *ngFor=\"let user of visaUsersList\">\n                <ion-checkbox color=\"primary\" slot=\"start\" [value]=\"user\"\n                    (ionChange)=\"addUser($event.detail.value, searchInput)\"></ion-checkbox>\n                <ion-label>{{ user.firstname }} {{ user.lastname }}</ion-label>\n                <ion-note slot=\"end\">{{ user.email }}</ion-note>\n            </ion-item>\n        </ion-list>\n    </ng-container>\n    <ion-list *ngIf=\"visaWorkflow.length === 0\">\n        <ion-item lines=\"none\">\n            <ion-label class=\"ion-text-center\" color=\"medium\">{{'lang.noUserInWorkflow' | translate}}</ion-label>\n        </ion-item>\n    </ion-list>\n    <ion-reorder-group (ionItemReorder)=\"doReorder($event)\" [disabled]=\"!editMode\">\n        <ion-item class=\"no-ripple\" *ngFor=\"let diffusion of visaWorkflow;let i=index\"\n            [class.current]=\"diffusion.current\">\n            <ion-reorder slot=\"start\">\n                <ion-icon [title]=\"'lang.reorder' | translate\" name=\"reorder-three\" style=\"font-size: 30px;\"></ion-icon>\n            </ion-reorder>\n            <ion-avatar slot=\"start\" class=\"avatar-user\" style=\"cursor: grab;\"\n                (click)=\"$event.stopPropagation();\">\n                <img [src]=\"diffusion.userPicture\">\n            </ion-avatar>\n            <ion-label>\n                <p class=\"secondary\" *ngIf=\"diffusion.current && diffusion.userId !== authService.user.id\">\n                    {{'lang.substituteMsg' | translate}}</p>\n                <h2 [title]=\"diffusion.userDisplay\" *ngIf=\"diffusion.userDisplay !== ''\">{{diffusion.userDisplay}}</h2>\n                <h2 [title]=\"diffusion.userDisplay\" class=\"danger\" *ngIf=\"diffusion.userDisplay === ''\">\n                    {{'lang.userDeleted' | translate}}</h2>\n                <p *ngIf=\"diffusion.processDate === null\" style=\"display: flex;justify-content: start;\">\n                    <ion-select [(ngModel)]=\"diffusion.role\" [title]=\"'lang.' + diffusion.role + 'User' | translate\"\n                        interface=\"popover\" [interfaceOptions]=\"customPopoverOptions\"\n                        [style.color]=\"getRole(diffusion.role)?.color\" [disabled]=\"!editMode\"\n                        style=\"width: auto;max-width: 100%;padding-left:0px;\">\n                        <ion-select-option [value]=\"mode\" *ngFor=\"let mode of diffusion.modes\" [disabled]=\"!isValidRole(i,mode, diffusion.role)\">\n                            {{'lang.' + mode + 'User' | translate}}\n                        </ion-select-option>\n                    </ion-select>\n                </p>\n                <p *ngIf=\"diffusion.processDate !== null\" [title]=\"diffusion.processDate\">\n                    <ion-note *ngIf=\"diffusion.status === 'VAL'\" class=\"valProcess\">\n                        {{'lang.'+diffusion.mode+'ProcessInfo' | translate}}\n                        {{diffusion.processDate}}\n                    </ion-note>\n                    <ion-note *ngIf=\"diffusion.status === 'REF'\" class=\"refProcess\">\n                        {{'lang.refProcessInfo' | translate}}\n                        {{diffusion.processDate}}\n                    </ion-note>\n                    <ion-note *ngIf=\"diffusion.status === 'STOP'\" class=\"stopProcess\">\n                        {{'lang.stopProcessInfo' | translate}}\n                        {{diffusion.processDate}}\n                    </ion-note>\n                </p>\n            </ion-label>\n            <ion-icon *ngIf=\"!editMode && diffusion.current\" color=\"success\" slot=\"end\" name=\"caret-back-outline\">\n            </ion-icon>\n            <ion-buttons slot=\"end\">\n                <ion-button style=\"z-index: 9999\" *ngIf=\"editMode\" fill=\"clear\" slot=\"icon-only\" shape=\"round\"\n                    color=\"danger\" (click)=\"$event.stopPropagation();removeUser(i)\">\n                    <ion-icon slot=\"icon-only\" name=\"trash-outline\"></ion-icon>\n                </ion-button>\n            </ion-buttons>\n        </ion-item>\n    </ion-reorder-group>\n</ion-content>","import { Component, Input, OnInit, ViewChild } from '@angular/core';\nimport { SignaturesContentService } from '../service/signatures.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatMenuTrigger } from '@angular/material/menu';\nimport { NotificationService } from '../service/notification.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { LocalStorageService } from '../service/local-storage.service';\nimport { ModalController, PopoverController } from '@ionic/angular';\nimport { DateOptionModalComponent } from './dateOption/date-option-modal.component';\n\n@Component({\n    selector: 'app-document-date-list',\n    templateUrl: 'document-date-list.component.html',\n    styleUrls: ['document-date-list.component.scss'],\n})\nexport class DocumentDateListComponent implements OnInit {\n\n    @Input() bounds: any;\n    @ViewChild('menuTrigger') menuSign: MatMenuTrigger;\n    @ViewChild('test2') test2: any;\n\n    fix = 'auto';\n    today: Date = new Date();\n\n    constructor(private translate: TranslateService,\n        public signaturesService: SignaturesContentService,\n        public notificationService: NotificationService,\n        private localStorage: LocalStorageService,\n        public dialog: MatDialog,\n        public popoverController: PopoverController,\n        public modalController: ModalController,\n    ) { }\n\n    ngOnInit(): void { }\n\n    moveDate(event: any, i: number) {\n        const percentx = (event.x * 100) / this.signaturesService.workingAreaWidth;\n        const percenty = (event.y * 100) / this.signaturesService.workingAreaHeight;\n\n        this.signaturesService.datesContent[this.signaturesService.currentPage][i].positionX = percentx;\n        this.signaturesService.datesContent[this.signaturesService.currentPage][i].positionY = percenty;\n        this.localStorage.save(this.signaturesService.mainDocumentId.toString(), JSON.stringify({ 'date': this.signaturesService.datesContent, 'sign': this.signaturesService.signaturesContent, 'note': this.signaturesService.notesContent }));\n        this.signaturesService.dragging = false;\n    }\n\n    onResizingDate(event: any, index: number) {\n        this.test2.nativeElement.style.height = 'auto';\n    }\n\n    onResizeDateStop(event: any, index: number) {\n        this.test2.nativeElement.style.height = 'auto';\n        this.signaturesService.datesContent[this.signaturesService.currentPage][index].height = (event.size.height * 100) / this.signaturesService.workingAreaHeight;\n        this.signaturesService.datesContent[this.signaturesService.currentPage][index].width = (event.size.width * 100) / this.signaturesService.workingAreaWidth;\n    }\n\n    deleteDate(i: number) {\n        this.signaturesService.datesContent[this.signaturesService.currentPage].splice(i, 1);\n        this.localStorage.save(this.signaturesService.mainDocumentId.toString(), JSON.stringify({ 'date': this.signaturesService.datesContent, 'sign': this.signaturesService.signaturesContent, 'note': this.signaturesService.notesContent }));\n    }\n\n    async openDateSettings(index: number) {\n        const modal = await this.modalController.create({\n            component: DateOptionModalComponent,\n            componentProps: {\n                'currentDate': this.signaturesService.datesContent[this.signaturesService.currentPage][index],\n            }\n        });\n        await modal.present();\n\n        const { data } = await modal.onWillDismiss();\n        if (data !== undefined) {\n            this.signaturesService.datesContent[this.signaturesService.currentPage][index] = data;\n        }\n    }\n}\n","<div *ngFor=\"let date of this.signaturesService.datesContent[this.signaturesService.currentPage];let i = index;\"\n    class=\"test\" [id]=\"'dateDiv_'+ i\"\n    [position]=\"{x: (date.positionX*this.signaturesService.workingAreaWidth)/100, y:(date.positionY*this.signaturesService.workingAreaHeight)/100}\"\n    [style.width.%]=\"date.width\" [style.height.%]=\"date.height\" [ngDraggable]=\"!signaturesService.resizing\" ngResizable\n    (rzResizing)=\"onResizingDate($event, i)\"\n    [rzAspectRatio]=\"true\" (rzStart)=\"signaturesService.resizing=true\" (movingOffset)=\"signaturesService.dragging=true\"\n    (endOffset)=\"moveDate($event, i);\" (rzStop)=\"onResizeDateStop($event, i);signaturesService.resizing=false;\"\n    [preventDefaultEvent]=\"false\" [bounds]=\"bounds\" [inBounds]=\"true\" (click)=\"$event.stopPropagation();\" [style.height]=\"fix\" #test2>\n    <ion-buttons style=\"position:absolute;top: -30px;right: 0px;\">\n        <ion-button slot=\"icon-only\" shape=\"round\" [matMenuTriggerFor]=\"menu\" color=\"secondary\">\n          <ion-icon name=\"ellipsis-vertical\"></ion-icon>\n        </ion-button>\n      </ion-buttons>\n    <mat-menu #menu=\"matMenu\">\n        <button mat-menu-item (click)=\"openDateSettings(i)\">{{'lang.options' | translate}}</button>\n        <button mat-menu-item (click)=\"deleteDate(i)\">{{'lang.delete' | translate}}</button>\n      </mat-menu>\n    <svg [id]=\"'testSVG_'+ i\" viewBox=\"0 0 130 30\" preserveAspectRatio=\"xMinYMin meet\">\n        <text y=\"21\" [attr.font-size]=\"date.size\" [style.font-family]=\"date.font\" [style.fill]=\"date.color\">{{today | date : date.format : undefined : ('lang.langISO' | translate)}}</text>\n    </svg>\n</div>","import { Injectable } from '@angular/core';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class LocalStorageService {\n    appSession: any;\n\n    constructor() {}\n\n    setAppSession(id: string) {\n        this.appSession = id;\n    }\n\n    getAppSession(): string {\n        return this.appSession;\n    }\n\n    save(id: string, content: any) {\n        localStorage.setItem(id + '_' + this.getAppSession(), content);\n    }\n\n    get(id: string) {\n        return localStorage.getItem(id + '_' + this.getAppSession());\n    }\n\n    remove(id: string) {\n        localStorage.removeItem(id + '_' + this.getAppSession());\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { MatIconRegistry } from '@angular/material/icon';\nimport { HttpClient } from '@angular/common/http';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { NotificationService } from '../../service/notification.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { finalize } from 'rxjs/operators';\nimport { MenuController } from '@ionic/angular';\n\n@Component({\n    templateUrl: 'updatePassword.component.html',\n    styleUrls: ['updatePassword.component.scss'],\n})\nexport class UpdatePasswordComponent implements OnInit {\n\n    loadingForm: boolean = false;\n    loading: boolean = false;\n\n    token: string = '';\n\n    password: any = {\n        newPassword: '',\n        passwordConfirmation: ''\n    };\n    labelButton: string = 'lang.update';\n\n    hideNewPassword: Boolean = true;\n    hideNewPasswordConfirm: Boolean = true;\n\n    // HANDLE PASSWORD\n    passwordRules: any = {\n        minLength: { enabled: false, value: 0 },\n        complexityUpper: { enabled: false, value: 0 },\n        complexityNumber: { enabled: false, value: 0 },\n        complexitySpecial: { enabled: false, value: 0 },\n        renewal: { enabled: false, value: 0 },\n        historyLastUse: { enabled: false, value: 0 },\n    };\n\n    handlePassword: any = {\n        error: false,\n        errorMsg: ''\n    };\n\n    ruleText = '';\n    otherRuleText = '';\n\n\n    constructor(\n        private translate: TranslateService,\n        private router: Router,\n        private route: ActivatedRoute,\n        public http: HttpClient,\n        iconReg: MatIconRegistry,\n        sanitizer: DomSanitizer,\n        public notificationService: NotificationService,\n        private menu: MenuController,\n    ) {\n        iconReg.addSvgIcon('maarchLogo', sanitizer.bypassSecurityTrustResourceUrl('../src/frontend/assets/logo_white.svg'));\n        this.route.queryParams\n            .subscribe(params => {\n                this.token = params.token;\n            });\n    }\n\n    ngOnInit(): void {\n        this.getPassRules();\n    }\n\n    ionViewWillEnter() {\n        this.menu.enable(false, 'left-menu');\n        this.menu.enable(false, 'right-menu');\n    }\n\n    updatePassword() {\n        this.labelButton = 'lang.sending';\n        this.loading = true;\n\n        this.http.put('../rest/password', { 'token': this.token, 'password': this.password.newPassword })\n            .pipe(\n                finalize(() => {\n                    this.labelButton = 'lang.update';\n                    this.loading = false;\n                })\n            )\n            .subscribe((data: any) => {\n                this.loadingForm = true;\n                this.notificationService.success('lang.passwordChanged');\n                this.router.navigate(['/login']);\n            }, (err: any) => {\n                this.notificationService.handleErrors(err);\n            });\n    }\n\n    checkPasswordValidity(password: string) {\n        this.handlePassword.error = true;\n\n        if (!password.match(/[A-Z]/g) && this.passwordRules.complexityUpper.enabled) {\n            this.handlePassword.errorMsg = 'lang.upperRequired';\n        } else if (!password.match(/[0-9]/g) && this.passwordRules.complexityNumber.enabled) {\n            this.handlePassword.errorMsg = 'lang.numberRequired';\n        } else if (!password.match(/[^A-Za-z0-9]/g) && this.passwordRules.complexitySpecial.enabled) {\n            this.handlePassword.errorMsg = 'lang.specialCharRequired';\n        } else if (password.length < this.passwordRules.minLength.value && this.passwordRules.minLength.enabled) {\n            this.translate.get('lang.minLengthChar', { charLength: this.passwordRules.minLength.value }).subscribe((res: string) => {\n                this.handlePassword.errorMsg = res;\n            });\n        } else {\n            this.handlePassword.error = false;\n            this.handlePassword.errorMsg = '';\n        }\n    }\n\n    getPassRules() {\n        this.handlePassword.error = false;\n        this.handlePassword.errorMsg = '';\n\n        this.http.get('../rest/passwordRules')\n            .subscribe((data: any) => {\n                const ruleTextArr: String[] = [];\n                const otherRuleTextArr: String[] = [];\n\n                data.rules.forEach((rule: any) => {\n                    if (rule.label === 'minLength') {\n                        this.passwordRules.minLength.enabled = rule.enabled;\n                        this.passwordRules.minLength.value = rule.value;\n                        if (rule.enabled) {\n                            this.translate.get('lang.minLengthChar', { charLength: rule.value }).subscribe((res: string) => {\n                                ruleTextArr.push(res);\n                            });\n                        }\n\n                    } else if (rule.label === 'complexityUpper') {\n                        this.passwordRules.complexityUpper.enabled = rule.enabled;\n                        this.passwordRules.complexityUpper.value = rule.value;\n                        if (rule.enabled) {\n                            ruleTextArr.push('lang.upperRequired');\n                        }\n\n                    } else if (rule.label === 'complexityNumber') {\n                        this.passwordRules.complexityNumber.enabled = rule.enabled;\n                        this.passwordRules.complexityNumber.value = rule.value;\n                        if (rule.enabled) {\n                            ruleTextArr.push('lang.numberRequired');\n                        }\n\n                    } else if (rule.label === 'complexitySpecial') {\n                        this.passwordRules.complexitySpecial.enabled = rule.enabled;\n                        this.passwordRules.complexitySpecial.value = rule.value;\n                        if (rule.enabled) {\n                            ruleTextArr.push('lang.specialCharRequired');\n                        }\n                    } else if (rule.label === 'renewal') {\n                        this.passwordRules.renewal.enabled = rule.enabled;\n                        this.passwordRules.renewal.value = rule.value;\n                        if (rule.enabled) {\n                            this.translate.get('lang.renewalInfo', { time: rule.value }).subscribe((res: string) => {\n                                otherRuleTextArr.push(res);\n                            });\n                        }\n                    } else if (rule.label === 'historyLastUse') {\n                        this.passwordRules.historyLastUse.enabled = rule.enabled;\n                        this.passwordRules.historyLastUse.value = rule.value;\n                        if (rule.enabled) {\n                            this.translate.get('lang.historyUseInfo', { countPwd: rule.value }).subscribe((res: string) => {\n                                otherRuleTextArr.push(res);\n                            });\n                        }\n                    }\n                });\n                this.ruleText = ruleTextArr.join(', ');\n                this.otherRuleText = otherRuleTextArr.join('<br/>');\n            }, (err) => {\n                this.notificationService.handleErrors(err);\n            });\n    }\n\n    allowValidate() {\n        if ((this.handlePassword.error || this.password.newPassword !== this.password.passwordConfirmation || this.password.newPassword.length === 0 || this.password.passwordConfirmation.length === 0)) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n        <ion-title>{{'lang.newPassword' | translate}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content #mainContent>\n    <form style=\"display: contents;\" id=\"passForm\" (ngSubmit)=\"updatePassword()\" #passForm=\"ngForm\">\n        <ion-grid>\n            <ion-row>\n                <ion-col offset=\"3\" size=\"6\">\n                    <ion-card class=\"info\">\n                        <ion-card-content [innerHTML]=\"'lang.logInOncePasswordChanged' | translate\">\n                        </ion-card-content>\n                    </ion-card>\n                    <ion-item>\n                        <ion-label color=\"secondary\" position=\"stacked\">{{'lang.newPassword' | translate}}</ion-label>\n                        <ion-input name=\"newPassword\" [(ngModel)]=\"password.newPassword\"\n                            placeholder=\"{{'lang.newPassword' | translate}}\"\n                            [type]=\"hideNewPassword ? 'password' : 'text'\"\n                            (keyup)=\"checkPasswordValidity(password.newPassword)\"></ion-input>\n                        <ion-button class=\"showpassButton\" slot=\"end\" color=\"light\"\n                            (click)=\"hideNewPassword = !hideNewPassword\">\n                            <ion-icon slot=\"icon-only\" color=\"primary\"\n                                [name]=\"hideNewPassword ? 'eye-outline' : 'eye-off-outline'\"></ion-icon>\n                        </ion-button>\n                        <ion-note color=\"danger\" *ngIf=\"this.handlePassword.error\"> {{ this.handlePassword.errorMsg | translate}}</ion-note>\n                    </ion-item>\n                    <ion-item>\n                        <ion-label color=\"secondary\" position=\"stacked\">{{'lang.passwordConfirmation' | translate}}\n                        </ion-label>\n                        <ion-input name=\"passwordConfirmation\" [(ngModel)]=\"password.passwordConfirmation\"\n                            placeholder=\"{{'lang.passwordConfirmation' | translate}}\"\n                            [type]=\"hideNewPasswordConfirm ? 'password' : 'text'\"></ion-input>\n                        <ion-button class=\"showpassButton\" slot=\"end\" color=\"light\"\n                            (click)=\"hideNewPasswordConfirm = !hideNewPasswordConfirm\">\n                            <ion-icon slot=\"icon-only\" color=\"primary\"\n                                [name]=\"hideNewPasswordConfirm ? 'eye-outline' : 'eye-off-outline'\"></ion-icon>\n                        </ion-button>\n                    </ion-item>\n                    <ion-item lines=\"none\">\n                        <ion-note color=\"success\"\n                            *ngIf=\"password.passwordConfirmation === password.newPassword && password.newPassword.length > 0 && password.passwordConfirmation.length> 0\">\n                            {{'lang.samePassword' | translate}}</ion-note>\n                        <ion-note color=\"danger\" *ngIf=\"password.passwordConfirmation !== password.newPassword\">\n                            {{'lang.passwordNotMatch' | translate}}</ion-note>\n                    </ion-item>\n                </ion-col>\n            </ion-row>\n        </ion-grid>\n        <ion-item text-center lines=\"none\" style=\"position: sticky;bottom:0px;z-index:1;\">\n            <div style=\"display: flex;align-items: center;justify-content: center;width: 100%;background: white;\">\n                <ion-button type=\"submit\" shape=\"round\" size=\"large\" fill=\"outline\" color=\"primary\"\n                    [disabled]=\"allowValidate() || loading\">\n                    <ion-label style=\"font-size: 13px;\">{{labelButton | translate}}</ion-label>\n                </ion-button>\n                <ion-button type=\"button\" shape=\"round\" size=\"large\" fill=\"outline\" color=\"medium\"\n                    routerLink=\"/login\">\n                    <ion-label style=\"font-size: 13px;\">{{'lang.cancel' | translate}}</ion-label>\n                </ion-button>\n            </div>\n        </ion-item>\n    </form>\n</ion-content>\n","import { Injectable } from '@angular/core';\nimport { HttpHandler, HttpInterceptor, HttpRequest, HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { catchError, filter, switchMap, take } from 'rxjs/operators';\nimport { NotificationService } from './notification.service';\nimport { SignaturesContentService } from './signatures.service';\nimport { AuthService } from './auth.service';\n\n@Injectable()\nexport class AuthInterceptor implements HttpInterceptor {\n\n    excludeUrls: string[] = ['../rest/authenticate', '../rest/authenticate/token', '../rest/authenticationInformations', '../rest/password', '../rest/passwordRules', '../rest/languages/fr', '../rest/languages/en'];\n    frontUrl: string[] = ['../rest/documents/', '../rest/users/', '../rest/groups/', '../rest/configurations/'];\n\n    byPassHandleErrors: any[] = [\n        {\n            route: '/password',\n            method: ['PUT']\n        }, {\n            route: '/logout',\n            method: ['GET']\n        }\n    ];\n\n    private isRefreshing = false;\n    private refreshTokenSubject: BehaviorSubject<any> = new BehaviorSubject<any>(\n        null\n    );\n\n    constructor(\n        public http: HttpClient,\n        private router: Router,\n        public notificationService: NotificationService,\n        public signaturesService: SignaturesContentService,\n        public authService: AuthService\n    ) { }\n\n    addAuthHeader(request: HttpRequest<any>) {\n\n        const authHeader = this.authService.getToken();\n\n        return request.clone({\n            setHeaders: {\n                'Authorization': 'Bearer ' + authHeader\n            }\n        });\n    }\n\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<any> {\n        // We don't want to intercept some routes\n        if ((this.excludeUrls.indexOf(request.url) > -1 || request.url.indexOf('/password') > -1) && request.url.indexOf('/passwordRules') === -1 && request.method.indexOf('PUT') === -1) {\n            return next.handle(request);\n        } else {\n            // Add current token in header request\n            request = this.addAuthHeader(request);\n\n            // Handle response\n            return next.handle(request).pipe(\n                /* map((data: any) => {\n                  console.log('can modify datas for each response');\n                  return data;\n                }\n                ),*/\n                catchError(error => {\n                    // Disconnect user if bad token process\n                    if (this.byPassHandleErrors.filter(url => request.url.indexOf(url.route) > -1 && url.method.indexOf(request.method) > -1).length > 0) {\n                        return next.handle(request);\n                    } else if (error.status === 401) {\n                        return this.handle401Error(request, next);\n                    } else if (error.error.errors === 'Password expired : User must change his password') {\n                        return this.router.navigate(['/password-modification']);\n                    } else {\n                        let response: any;\n                        if (request.method === 'GET') {\n                            this.frontUrl.forEach(element => {\n                                if (request.url.indexOf(element) > -1) {\n                                    if (element === '../rest/documents/') {\n                                        this.signaturesService.mainDocumentId = null;\n                                    }\n                                    // this.router.navigate(['/documents']);\n                                    response = new HttpErrorResponse({\n                                        error: error.error,\n                                        status: error.status,\n                                        statusText: error.statusText,\n                                        headers: error.headers,\n                                        url: error.url,\n                                    });\n                                    return Promise.reject(response);\n                                }\n                            });\n                        }\n                        response = new HttpErrorResponse({\n                            error: error.error,\n                            status: error.status,\n                            statusText: error.statusText,\n                            headers: error.headers,\n                            url: error.url,\n                        });\n                        return Promise.reject(response);\n                    }\n                })\n            );\n        }\n    }\n\n    private handle401Error(request: HttpRequest<any>, next: HttpHandler) {\n        if (!this.isRefreshing) {\n            this.isRefreshing = true;\n            this.refreshTokenSubject.next(null);\n\n            return this.authService.refreshToken().pipe(\n                switchMap((data: any) => {\n                    this.isRefreshing = false;\n                    this.refreshTokenSubject.next(data.token);\n                    request = this.addAuthHeader(request);\n                    return next.handle(request);\n                })\n            );\n        } else {\n            return this.refreshTokenSubject.pipe(\n                filter((token) => token != null),\n                take(1),\n                switchMap(() => {\n                    request = this.addAuthHeader(request);\n                    return next.handle(request);\n                })\n            );\n        }\n    }\n}\n","import { Component, OnInit, Input, ViewChild, Renderer2, ElementRef } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { MatExpansionPanel } from '@angular/material/expansion';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { SignaturesContentService } from '../service/signatures.service';\nimport { NotificationService } from '../service/notification.service';\nimport { CookieService } from 'ngx-cookie-service';\nimport * as EXIF from 'exif-js';\nimport { TranslateService } from '@ngx-translate/core';\nimport { FiltersService } from '../service/filters.service';\nimport { Router } from '@angular/router';\nimport { tap, exhaustMap, filter, catchError, finalize, switchMap } from 'rxjs/operators';\nimport { AuthService } from '../service/auth.service';\nimport { Observable, of } from 'rxjs';\nimport { ModalController } from '@ionic/angular';\n\n@Component({\n    selector: 'app-my-profile',\n    templateUrl: 'profile.component.html',\n    styleUrls: ['profile.component.scss'],\n})\n\nexport class ProfileComponent implements OnInit {\n\n    @ViewChild('passwordContent') passwordContent: MatExpansionPanel;\n    currentTool = 'info';\n    profileInfo: any = {\n        substitute: null,\n        preferences: []\n    };\n    preferenceInfo: any = {};\n    avatarInfo: any = {\n        picture: '',\n        pictureOrientation: ''\n    };\n    hideCurrentPassword: Boolean = true;\n    hideNewPassword: Boolean = true;\n    hideNewPasswordConfirm: Boolean = true;\n\n    // HANDLE PASSWORD\n    passwordRules: any = {\n        minLength: { enabled: false, value: 0 },\n        complexityUpper: { enabled: false, value: 0 },\n        complexityNumber: { enabled: false, value: 0 },\n        complexitySpecial: { enabled: false, value: 0 },\n        renewal: { enabled: false, value: 0 },\n        historyLastUse: { enabled: false, value: 0 },\n    };\n    password: any = {\n        currentPassword: '',\n        newPassword: '',\n        passwordConfirmation: ''\n    };\n    handlePassword: any = {\n        error: false,\n        errorMsg: ''\n    };\n\n    usersList: any = [];\n\n    ruleText = '';\n    otherRuleText = '';\n\n    disableState = false;\n    msgButton = 'lang.validate';\n    loading: boolean = false;\n\n    slideOpts = {\n        initialSlide: 0,\n        speed: 400\n    };\n    showHideContent = false;\n    userList: any[] = [];\n\n    signatureScaling: any = 25;\n    originalSize: boolean = false;\n\n    constructor(private translate: TranslateService,\n        public http: HttpClient,\n        private router: Router,\n        public sanitizer: DomSanitizer,\n        public notificationService: NotificationService,\n        public signaturesService: SignaturesContentService,\n        public authService: AuthService,\n        private cookieService: CookieService,\n        public filtersService: FiltersService,\n        private renderer: Renderer2,\n        public modalController: ModalController\n    ) { }\n\n    ngOnInit(): void {\n        this.initProfileInfo();\n        this.getPassRules();\n    }\n\n    dismissModal() {\n        this.modalController.dismiss('cancel');\n    }\n\n    test(ev: any) {\n        if (ev.detail.value === '') {\n            this.userList = [];\n        } else if (ev.detail.value.length >= 3) {\n            this.http.get('../rest/autocomplete/users?search=' + ev.detail.value).pipe(\n                tap((res: any) => {\n                    this.userList = res.filter((item: any) => item.id !== this.profileInfo.id);\n                }),\n                catchError(err => {\n                    this.notificationService.handleErrors(err);\n                    return of(false);\n                })\n            ).subscribe();\n        }\n    }\n\n    initProfileInfo() {\n        this.profileInfo = JSON.parse(JSON.stringify(this.authService.user));\n        this.preferenceInfo = this.profileInfo.preferences;\n        this.avatarInfo.picture = this.profileInfo.picture;\n        if (this.preferenceInfo.signatureScaling !== undefined) {\n            if (this.preferenceInfo.signatureScaling === false) {\n                this.originalSize = true;\n            } else {\n                this.signatureScaling = this.preferenceInfo.signatureScaling;\n            }\n        }\n        delete this.profileInfo.picture;\n        delete this.profileInfo.preferences;\n    }\n\n    initTab(val: any) {\n        this.currentTool = val;\n        if (val === 'pref') {\n            setTimeout(() => {\n                this.drawSample();\n            }, 200);\n        }\n    }\n\n    closeProfile() {\n        setTimeout(() => {\n            this.initProfileInfo();\n        }, 200);\n        this.dismissModal();\n    }\n\n    getPassRules() {\n        this.handlePassword.error = false;\n        this.handlePassword.errorMsg = '';\n\n        this.http.get('../rest/passwordRules')\n            .subscribe((data: any) => {\n                const ruleTextArr: String[] = [];\n                const otherRuleTextArr: String[] = [];\n\n                data.rules.forEach((rule: any) => {\n                    if (rule.label === 'minLength') {\n                        this.passwordRules.minLength.enabled = rule.enabled;\n                        this.passwordRules.minLength.value = rule.value;\n                        if (rule.enabled) {\n                            this.translate.get('lang.minLengthChar', { charLength: rule.value }).subscribe((res: string) => {\n                                ruleTextArr.push(res);\n                            });\n                        }\n\n                    } else if (rule.label === 'complexityUpper') {\n                        this.passwordRules.complexityUpper.enabled = rule.enabled;\n                        this.passwordRules.complexityUpper.value = rule.value;\n                        if (rule.enabled) {\n                            ruleTextArr.push('lang.upperRequired');\n                        }\n\n                    } else if (rule.label === 'complexityNumber') {\n                        this.passwordRules.complexityNumber.enabled = rule.enabled;\n                        this.passwordRules.complexityNumber.value = rule.value;\n                        if (rule.enabled) {\n                            ruleTextArr.push('lang.numberRequired');\n                        }\n\n                    } else if (rule.label === 'complexitySpecial') {\n                        this.passwordRules.complexitySpecial.enabled = rule.enabled;\n                        this.passwordRules.complexitySpecial.value = rule.value;\n                        if (rule.enabled) {\n                            ruleTextArr.push('lang.specialCharRequired');\n                        }\n                    } else if (rule.label === 'renewal') {\n                        this.passwordRules.renewal.enabled = rule.enabled;\n                        this.passwordRules.renewal.value = rule.value;\n                        if (rule.enabled) {\n                            this.translate.get('lang.renewalInfo', { time: rule.value }).subscribe((res: string) => {\n                                otherRuleTextArr.push(res);\n                            });\n                        }\n                    } else if (rule.label === 'historyLastUse') {\n                        this.passwordRules.historyLastUse.enabled = rule.enabled;\n                        this.passwordRules.historyLastUse.value = rule.value;\n                        if (rule.enabled) {\n                            this.translate.get('lang.historyUseInfo', { countPwd: rule.value }).subscribe((res: string) => {\n                                otherRuleTextArr.push(res);\n                            });\n                        }\n                    }\n\n                });\n                this.ruleText = ruleTextArr.join(', ');\n                this.otherRuleText = otherRuleTextArr.join('<br/>');\n            }, (err) => {\n                this.notificationService.handleErrors(err);\n            });\n    }\n\n    checkPasswordValidity(password: string) {\n        this.handlePassword.error = true;\n\n        if (!password.match(/[A-Z]/g) && this.passwordRules.complexityUpper.enabled) {\n            this.handlePassword.errorMsg = 'lang.upperRequired';\n        } else if (!password.match(/[0-9]/g) && this.passwordRules.complexityNumber.enabled) {\n            this.handlePassword.errorMsg = 'lang.numberRequired';\n        } else if (!password.match(/[^A-Za-z0-9]/g) && this.passwordRules.complexitySpecial.enabled) {\n            this.handlePassword.errorMsg = 'lang.specialCharRequired';\n        } else if (password.length < this.passwordRules.minLength.value && this.passwordRules.minLength.enabled) {\n            this.translate.get('lang.minLengthChar', { charLength: this.passwordRules.minLength.value }).subscribe((res: string) => {\n                this.handlePassword.errorMsg = res;\n            });\n        } else {\n            this.handlePassword.error = false;\n            this.handlePassword.errorMsg = '';\n        }\n    }\n\n    allowValidate() {\n        if (this.disableState) {\n            return true;\n        } else if (this.password.newPassword !== '' && (this.handlePassword.error || this.password.newPassword !== this.password.passwordConfirmation || this.password.currentPassword.length === 0 || this.password.newPassword.length === 0 || this.password.passwordConfirmation.length === 0)) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    async submitProfile() {\n        this.disableState = true;\n        this.msgButton = 'lang.sending';\n        this.preferenceInfo = {\n            ... this.preferenceInfo,\n            signatureScaling: !this.originalSize ? this.signatureScaling : false\n        };\n\n        this.http.put('../rest/users/' + this.authService.user.id + '/preferences', this.preferenceInfo).pipe(\n            tap(() => {\n                this.disableState = false;\n                this.msgButton = 'lang.validate';\n                this.setLang(this.preferenceInfo.lang);\n                this.cookieService.set('maarchParapheurLang', this.preferenceInfo.lang);\n            }),\n            exhaustMap(() => this.authService.authMode === 'default' ? this.http.put('../rest/users/' + this.authService.user.id, this.profileInfo) :  new Promise(resolve => {\n                resolve(true);\n            })),\n            exhaustMap(() => {\n                this.authService.updateUserInfoWithTokenRefresh();\n\n                if (this.password.newPassword === '') {\n                    this.closeProfile();\n                    this.notificationService.success('lang.profileUpdated');\n                    return of(false);\n                } else if (this.authService.authMode === 'default') {\n                    const headers = new HttpHeaders({\n                        'Authorization': 'Bearer ' + this.authService.getToken()\n                    });\n                    return this.http.put('../rest/users/' + this.authService.user.id + '/password', this.password, { observe: 'response', headers: headers });\n                } else {\n                    return of(false);\n                }\n            }),\n            filter(data => !!data),\n            tap((dataPass: any) => {\n                this.authService.saveTokens(dataPass.headers.get('Token'), dataPass.headers.get('Refresh-Token'));\n                this.password.newPassword = '';\n                this.password.passwordConfirmation = '';\n                this.password.currentPassword = '';\n                this.notificationService.success('lang.profileUpdated');\n            }),\n            catchError(err => {\n                if (err.status === 401) {\n                    this.notificationService.error('lang.wrongPassword');\n                } else {\n                    this.notificationService.handleErrors(err);\n                }\n                return of(false);\n            })\n        ).subscribe();\n    }\n\n    changePicture() {\n        this.msgButton = 'lang.sending';\n        this.disableState = true;\n        this.http.put('../rest/users/' + this.authService.user.id + '/picture', this.avatarInfo).pipe(\n            tap(() => {\n                this.authService.user.picture = this.avatarInfo.picture;\n                this.notificationService.success('lang.profileUpdated');\n            }),\n            finalize(() => {\n                this.msgButton = 'lang.validate';\n                this.disableState = false;\n            })\n        ).subscribe();\n    }\n\n    selectSubstitute(newUserSubtituted: any) {\n        this.userList = [];\n        this.http.put('../rest/users/' + this.authService.user.id + '/substitute', { substitute: newUserSubtituted.id })\n            .subscribe(() => {\n                this.authService.updateUserInfoWithTokenRefresh();\n                this.filtersService.resfreshDocuments();\n                if (this.signaturesService.documentsList.length > 0 && this.signaturesService.documentsList[this.signaturesService.indexDocumentsList].owner === false) {\n                    this.router.navigate(['/documents']);\n                }\n                this.notificationService.success('lang.substituteEnabled');\n            });\n    }\n\n    deleteSubstitute() {\n        const r = confirm(this.translate.instant('lang.deleteSubstitution') + ' ?');\n\n        if (r) {\n            this.profileInfo.substitute = null;\n\n            this.http.put('../rest/users/' + this.authService.user.id + '/substitute', { substitute: this.profileInfo.substitute })\n                .subscribe(() => {\n                    this.authService.updateUserInfoWithTokenRefresh();\n                    this.filtersService.resfreshDocuments();\n                    if (this.signaturesService.documentsList.length > 0 && this.signaturesService.documentsList[this.signaturesService.indexDocumentsList].owner === false) {\n                        this.router.navigate(['/documents']);\n                    }\n                    this.notificationService.success('lang.substitutionDeleted');\n                });\n        }\n    }\n\n    handleFileInput(files: FileList) {\n        if (this.passwordContent) {\n            this.passwordContent.close();\n        }\n        const fileToUpload = files.item(0);\n\n        if (fileToUpload.size <= 5000000) {\n            if (['image/png', 'image/jpg', 'image/jpeg', 'image/gif'].indexOf(fileToUpload.type) !== -1) {\n                const myReader: FileReader = new FileReader();\n                myReader.onloadend = (e) => {\n                    const image = new Image();\n                    image.src = myReader.result.toString();\n                    this.avatarInfo.picture = myReader.result;\n                    image.onload = () => this.fixImgOrientation(image);\n                };\n                myReader.readAsDataURL(fileToUpload);\n            } else {\n                this.notificationService.error('lang.notAnImage');\n            }\n        } else {\n            this.notificationService.error('lang.imageTooBig');\n        }\n    }\n\n    fixImgOrientation(image: any) {\n        EXIF.getData((image as any), () => {\n            let deg = 0;\n            const orientation = EXIF.getTag(image, 'Orientation');\n            switch (orientation) {\n                case 3:\n                    deg = 180;\n                    break;\n                case 6:\n                    deg = 90;\n                    break;\n                case 8:\n                    deg = -90;\n                    break;\n            }\n            this.avatarInfo.pictureOrientation = deg;\n            this.changePicture();\n        });\n    }\n\n    drawSample() {\n        const c = document.getElementById('sampleNote');\n        const ctx = (<HTMLCanvasElement>c).getContext('2d');\n        ctx.clearRect(0, 0, 100, 100);\n        ctx.beginPath();\n        ctx.lineWidth = this.preferenceInfo.writingSize;\n        ctx.moveTo(0, 0);\n        ctx.lineTo(100, 100);\n        ctx.moveTo(100, 0);\n        ctx.lineTo(0, 100);\n        ctx.stroke();\n    }\n\n    initProfileTab(e: any) {\n        if (e.index === 1) {\n            this.drawSample();\n        }\n    }\n\n    counter(i: number) {\n        return new Array(i);\n    }\n\n    setLang(lang: any) {\n        this.translate.use(lang);\n    }\n\n    toggleSignature(i: number) {\n        this.http.patch('../rest/users/' + this.authService.user.id + '/signatures/' + this.signaturesService.signaturesList[i].id + '/substituted', { 'substituted': !this.signaturesService.signaturesList[i].substituted })\n            .subscribe(() => {\n                this.signaturesService.signaturesList[i].substituted = !this.signaturesService.signaturesList[i].substituted;\n                this.notificationService.success('lang.modificationSaved');\n            });\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-title>{{'lang.myProfil' | translate}}</ion-title>\n        <ion-buttons slot=\"end\">\n            <ion-button (click)=\"dismissModal()\">\n                <ion-icon slot=\"icon-only\" name=\"close-outline\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-header>\n    <ion-toolbar>\n        <ion-segment [value]=\"currentTool\" (ionChange)=\"initTab($event.detail.value)\">\n            <ion-segment-button value=\"info\">\n                <ion-label>{{'lang.informations' | translate}}</ion-label>\n                <ion-icon name=\"information-circle\"></ion-icon>\n            </ion-segment-button>\n            <ion-segment-button value=\"pref\">\n                <ion-label>{{'lang.preferences' | translate}}</ion-label>\n                <ion-icon name=\"brush-outline\"></ion-icon>\n            </ion-segment-button>\n            <ion-segment-button value=\"deleg\">\n                <ion-label>{{'lang.substitute' | translate}}</ion-label>\n                <ion-icon name=\"hand-left-outline\"></ion-icon>\n            </ion-segment-button>\n        </ion-segment>\n    </ion-toolbar>\n</ion-header>\n<form (ngSubmit)=\"submitProfile()\" style=\"display: contents;\" #profileForm=\"ngForm\">\n    <ion-content>\n        <ng-container *ngIf=\"currentTool === 'info'\">\n            <ion-list lines=\"full\" class=\"ion-no-margin\">\n                <ion-item>\n                    <ion-avatar slot=\"start\" style=\"cursor: pointer;\" (click)=\"uploadFile.click();\">\n                        <img [src]=\"avatarInfo.picture\">\n                      </ion-avatar>\n                    <ion-label color=\"secondary\" position=\"floating\">{{'lang.login' | translate}}</ion-label>\n                    <ion-input name=\"login\" [maxlength]=\"128\" [(ngModel)]=\"profileInfo.login\" readonly required></ion-input>\n                    <input #uploadFile type=\"file\" style=\"display:none;\" (change)=\"handleFileInput($event.target.files)\">\n                </ion-item>\n                <ion-item>\n                    <ion-label color=\"secondary\" position=\"floating\">{{'lang.email' | translate}}</ion-label>\n                    <ion-input name=\"email\" [maxlength]=\"128\" [(ngModel)]=\"profileInfo.email\"\n                        pattern=\"(^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$)\" [readonly]=\"authService.authMode !== 'default'\" required></ion-input>\n                </ion-item>\n                <ion-item>\n                    <ion-label color=\"secondary\" position=\"floating\">{{'lang.firstname' | translate}}</ion-label>\n                    <ion-input name=\"firstname\" [maxlength]=\"128\" [(ngModel)]=\"profileInfo.firstname\" [readonly]=\"authService.authMode !== 'default'\" required></ion-input>\n                </ion-item>\n                <ion-item>\n                    <ion-label color=\"secondary\" position=\"floating\">{{'lang.lastname' | translate}}</ion-label>\n                    <ion-input name=\"lastname\" [maxlength]=\"128\" [(ngModel)]=\"profileInfo.lastname\" [readonly]=\"authService.authMode !== 'default'\" required></ion-input>\n                </ion-item>\n                <div *ngIf=\"authService.authMode === 'default'\">\n                    <ion-list-header lines=\"none\">\n                        <ion-label color=\"primary\">{{'lang.changePassword' | translate}}</ion-label>\n                    </ion-list-header>\n                    <ion-item>\n                        <ion-label color=\"secondary\" position=\"stacked\">{{'lang.currentPassword' | translate}}</ion-label>\n                        <ion-input name=\"currentPassword\" [(ngModel)]=\"password.currentPassword\"\n                            placeholder=\"{{'lang.currentPassword' | translate}}\"\n                            [type]=\"hideCurrentPassword ? 'password' : 'text'\"></ion-input>\n                        <ion-button class=\"showpassButton\" slot=\"end\" color=\"light\"\n                            (click)=\"hideCurrentPassword = !hideCurrentPassword\">\n                            <ion-icon slot=\"icon-only\" color=\"primary\"\n                                [name]=\"hideCurrentPassword ? 'eye-outline' : 'eye-off-outline'\"></ion-icon>\n                        </ion-button>\n                    </ion-item>\n                    <ion-item>\n                        <ion-label color=\"secondary\" position=\"stacked\">{{'lang.newPassword' | translate}}</ion-label>\n                        <ion-input name=\"newPassword\" [(ngModel)]=\"password.newPassword\"\n                            placeholder=\"{{'lang.newPassword' | translate}}\" [type]=\"hideNewPassword ? 'password' : 'text'\"\n                            (keyup)=\"checkPasswordValidity(password.newPassword)\"></ion-input>\n                        <ion-button class=\"showpassButton\" slot=\"end\" color=\"light\"\n                            (click)=\"hideNewPassword = !hideNewPassword\">\n                            <ion-icon slot=\"icon-only\" color=\"primary\"\n                                [name]=\"hideNewPassword ? 'eye-outline' : 'eye-off-outline'\"></ion-icon>\n                        </ion-button>\n                        <ion-note color=\"danger\" *ngIf=\"this.handlePassword.error\"> {{ this.handlePassword.errorMsg | translate}}</ion-note>\n                    </ion-item>\n                    <ion-item>\n                        <ion-label color=\"secondary\" position=\"stacked\">{{'lang.passwordConfirmation' | translate}}\n                        </ion-label>\n                        <ion-input name=\"passwordConfirmation\" [(ngModel)]=\"password.passwordConfirmation\"\n                            placeholder=\"{{'lang.passwordConfirmation' | translate}}\"\n                            [type]=\"hideNewPasswordConfirm ? 'password' : 'text'\"></ion-input>\n                        <ion-button class=\"showpassButton\" slot=\"end\" color=\"light\"\n                            (click)=\"hideNewPasswordConfirm = !hideNewPasswordConfirm\">\n                            <ion-icon slot=\"icon-only\" color=\"primary\"\n                                [name]=\"hideNewPasswordConfirm ? 'eye-outline' : 'eye-off-outline'\"></ion-icon>\n                        </ion-button>\n                    </ion-item>\n                </div>\n                <ion-item lines=\"none\">\n                    <ion-note color=\"success\"\n                        *ngIf=\"password.passwordConfirmation === password.newPassword && password.newPassword.length > 0 && password.passwordConfirmation.length> 0\">\n                        {{'lang.samePassword' | translate}}</ion-note>\n                    <ion-note color=\"danger\" *ngIf=\"password.passwordConfirmation !== password.newPassword\">\n                        {{'lang.passwordNotMatch' | translate}}</ion-note>\n                </ion-item>\n            </ion-list>\n        </ng-container>\n        <ng-container *ngIf=\"currentTool === 'pref'\">\n            <ion-list lines=\"full\" class=\"ion-no-margin\">\n                <ion-item>\n                    <ion-label>{{'lang.receiveNotif' | translate}}</ion-label>\n                    <ion-toggle slot=\"start\" [checked]=\"preferenceInfo.notifications\"\n                        (ionChange)=\"preferenceInfo.notifications=!preferenceInfo.notifications\"></ion-toggle>\n                </ion-item>\n                <ion-list>\n                    <ion-item>\n                        <ion-label position=\"floating\" color=\"secondary\">{{'lang.language' | translate}}</ion-label>\n                        <ion-select name=\"langUser\" [(ngModel)]=\"preferenceInfo.lang\">\n                            <ion-select-option *ngFor=\"let lang of this.profileInfo['availableLanguages']\"\n                                [value]=\"lang\">{{'lang.'+lang | translate }}</ion-select-option>\n                        </ion-select>\n                    </ion-item>\n                </ion-list>\n                <ion-list>\n                    <ion-item>\n                        <ion-label position=\"floating\" color=\"secondary\">{{'lang.annotationMode' | translate}}\n                        </ion-label>\n                        <ion-select name=\"writingMode\" [(ngModel)]=\"this.preferenceInfo.writingMode\">\n                            <ion-select-option value=\"direct\">{{'lang.free' | translate}}</ion-select-option>\n                            <ion-select-option value=\"stylus\">{{'lang.appleStylus' | translate}} <i\n                                    class=\"fab fa-apple\"></i></ion-select-option>\n                        </ion-select>\n                        <ion-note *ngIf=\"this.preferenceInfo.writingMode === 'stylus'\"\n                            [innerHTML]=\"'lang.freeModeInfo' | translate\"></ion-note>\n                        <ion-note *ngIf=\"this.preferenceInfo.writingMode === 'direct'\"\n                            [innerHTML]=\"'lang.standardModeInfo' | translate\"></ion-note>\n                    </ion-item>\n                </ion-list>\n                <ion-list>\n                    <ion-item>\n                        <ion-label position=\"floating\" color=\"secondary\">{{'lang.stylusWidh' | translate}}</ion-label>\n                        <ion-select name=\"writingSize\" [(ngModel)]=\"this.preferenceInfo.writingSize\"\n                            (ionChange)=\"drawSample()\">\n                            <ion-select-option *ngFor='let in of counter(10) ;let i = index' [value]=\"i+1\">{{i+1}}\n                            </ion-select-option>\n                        </ion-select>\n                        <ion-note slot=\"end\"><canvas id=\"sampleNote\" width=\"100\" height=\"100\"></canvas></ion-note>\n                    </ion-item>\n                </ion-list>\n                <ion-list>\n                    <ion-item>\n                        <ion-label position=\"floating\" color=\"secondary\">{{'lang.defaultColor' | translate}}</ion-label>\n                        <ion-select name=\"writingColor\" [(ngModel)]=\"preferenceInfo.writingColor\">\n                            <ion-select-option value=\"#000000\">{{'lang.black' | translate}}</ion-select-option>\n                            <ion-select-option value=\"#1a75ff\">{{'lang.blue' | translate}}</ion-select-option>\n                            <ion-select-option value=\"#FF0000\">{{'lang.red' | translate}}</ion-select-option>\n                        </ion-select>\n                        <ion-note slot=\"end\">\n                            <div style=\"height: 25px;width: 25px;border-radius: 20px;\"\n                                [style.backgroundColor]=\"this.preferenceInfo.writingColor\">\n                            </div>\n                        </ion-note>\n                    </ion-item>\n                </ion-list>\n                <ion-list>\n                    <ion-row>\n                        <iotn-item>\n                            <ion-label color=\"secondary\" style=\"opacity: 1; margin-left: 15px;\">{{'lang.signatureScaling' | translate}}</ion-label>\n                        </iotn-item>\n                    </ion-row>\n                    <ion-row>\n                        <ion-col size=\"7\">\n                            <ion-item lines=\"none\" style=\"margin-left: -10px;\">\n                                <ion-range min=\"10\" max=\"50\" pin color=\"primary\" name=\"signatureScaling\" [disabled]=\"originalSize\" [(ngModel)]=\"signatureScaling\">\n                                    <ion-icon slot=\"start\" size=\"small\" name=\"scan-circle-outline\"></ion-icon>\n                                    <ion-icon slot=\"end\" name=\"scan-outline\"></ion-icon>\n                                </ion-range>\n                            </ion-item>\n                            <ion-note *ngIf=\"!originalSize\" style=\"margin-left: 20px; font-size: 14px;\" [innerHTML]=\"'lang.scalingDocWith' | translate: {value : signatureScaling}\"></ion-note>\n                        </ion-col>\n                        <ion-col size=\"5\">\n                            <ion-item lines=\"none\" style=\" margin-top: 22px; margin-left: 10px;\">\n                                <ion-label>{{'lang.originalSize' | translate}}</ion-label>\n                                <ion-toggle slot=\"start\" name=\"originalSize\" color=\"primary\" style=\"cursor: pointer\"\n                                    [checked]=\"originalSize\" (ionChange)=\"originalSize = !originalSize\">\n                                </ion-toggle>\n                            </ion-item>\n                        </ion-col>\n                    </ion-row>\n                </ion-list>\n            </ion-list>\n        </ng-container>\n        <ng-container *ngIf=\"currentTool === 'deleg'\">\n            <ion-list *ngIf=\"authService.user.substitute !== null\">\n                <ion-item>\n                    <ion-input readonly [value]=\"authService.user.substituteUser\"></ion-input>\n                    <ion-button slot=\"end\" color=\"danger\" (click)=\"deleteSubstitute()\">\n                        <ion-icon name=\"close-outline\"></ion-icon>\n                    </ion-button>\n                </ion-item>\n            </ion-list>\n            <ion-list *ngIf=\"authService.user.substitute === null\">\n                <ion-item>\n                    <ion-searchbar [placeholder]=\"'lang.chooseSubstitute' | translate\" (ionChange)=\"test($event)\"></ion-searchbar>\n                </ion-item>\n            </ion-list>\n            <ion-list *ngIf=\"authService.user.substitute === null\">\n                <ion-item *ngFor=\"let user of userList\">\n                    <ion-checkbox [disabled]=\"user.substitute\" color=\"primary\" slot=\"start\" [value]=\"user\" (ionChange)=\"selectSubstitute($event.detail.value)\"></ion-checkbox>\n                    <ion-label>{{ user.firstname }} {{ user.lastname }}</ion-label>\n                    <ion-note *ngIf=\"!user.substitute\" slot=\"end\">{{ user.email }}</ion-note>\n                    <ion-note *ngIf=\"user.substitute\" slot=\"end\" color=\"danger\">{{ 'lang.delegatedUser' | translate }}</ion-note>\n                </ion-item>\n            </ion-list>\n            <ng-container *ngIf=\"authService.user.substitute != null && signaturesService.signaturesList.length > 0\">\n                <ion-item lines=\"none\">\n                    <ion-label color=\"secondary\">\n                        {{'lang.signSubstituted' | translate}} :\n                    </ion-label>\n                </ion-item>\n                <div style=\"display: grid;grid-template-columns: repeat(2, 1fr);\">\n                    <button type=\"button\" class=\"signListButton\" mat-stroked-button\n                        *ngFor=\"let signature of signaturesService.signaturesList; let i=index\" (click)=\"toggleSignature(i)\"\n                        [class.selected]=\"signature.substituted\">\n                        <img style=\"width: 190px;\"\n                            [src]=\"sanitizer.bypassSecurityTrustUrl('data:image/png;base64,' + signature.encodedSignature)\" />\n                    </button>\n                </div>\n            </ng-container>\n        </ng-container>\n    </ion-content>\n</form>\n<ion-footer class=\"ion-no-border\" *ngIf=\"['info','pref'].indexOf(currentTool) > -1\">\n    <ion-toolbar>\n        <ion-buttons class=\"ion-justify-content-center\">\n            <ion-button type=\"submit\" color=\"primary\" (click)=\"submitProfile()\"\n                [disabled]=\"allowValidate() || !profileForm.form.valid\">\n                <ion-label>{{'lang.save' | translate}}</ion-label>\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-footer>\n","import { Directive, Output, EventEmitter, HostBinding, HostListener, Input } from '@angular/core';\n\n@Directive({\n    selector: '[appUploadFileDragDrop]'\n})\nexport class DragDropDirective {\n\n    @Output() fileDropped = new EventEmitter<any>();\n\n    @Input() disabled: boolean = false;\n\n    @HostBinding('style.background-color') private background = 'none';\n    @HostBinding('style.opacity') private opacity = '1';\n\n    // Dragover listener\n    @HostListener('dragover', ['$event']) onDragOver(evt: any) {\n        if (!this.disabled) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            this.background = '#9ecbec';\n            this.opacity = '0.8';\n        }\n\n    }\n\n    // Dragleave listener\n    @HostListener('dragleave', ['$event']) public onDragLeave(evt: any) {\n        if (!this.disabled) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            this.background = 'rgba(255,255,255,0)';\n            this.opacity = '1';\n        }\n\n    }\n\n    // Drop listener\n    @HostListener('drop', ['$event']) public ondrop(evt: any) {\n        if (!this.disabled) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            this.background = 'rgba(255,255,255,0)';\n            this.opacity = '1';\n            const files = evt.dataTransfer.files;\n            if (files.length > 0) {\n                this.fileDropped.emit(files);\n            }\n        }\n\n    }\n\n}\n","import { NgModule } from '@angular/core';\n\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatBadgeModule } from '@angular/material/badge';\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatRippleModule } from '@angular/material/core';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatListModule } from '@angular/material/list';\nimport { MatPaginatorModule, MatPaginatorIntl } from '@angular/material/paginator';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatSortModule } from '@angular/material/sort';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatTabsModule } from '@angular/material/tabs';\n\nimport { MatMenuModule } from '@angular/material/menu';\n\nimport { DragDropModule } from '@angular/cdk/drag-drop';\n\nimport { getFrenchPaginatorIntl } from './plugins/paginator-fr-intl';\n\n@NgModule({\n    imports: [\n        MatSidenavModule,\n        MatListModule,\n        MatDialogModule,\n        MatBottomSheetModule,\n        MatRippleModule,\n        DragDropModule,\n        MatSnackBarModule,\n        MatButtonModule,\n        MatIconModule,\n        MatProgressSpinnerModule,\n        MatCardModule,\n        MatInputModule,\n        MatExpansionModule,\n        MatMenuModule,\n        MatTabsModule,\n        MatSliderModule,\n        MatSelectModule,\n        MatSlideToggleModule,\n        MatBadgeModule,\n        MatTableModule,\n        MatPaginatorModule,\n        MatSortModule,\n        MatAutocompleteModule,\n        MatCheckboxModule\n    ],\n    exports: [\n        MatSidenavModule,\n        MatListModule,\n        MatDialogModule,\n        MatBottomSheetModule,\n        MatRippleModule,\n        DragDropModule,\n        MatSnackBarModule,\n        MatButtonModule,\n        MatIconModule,\n        MatProgressSpinnerModule,\n        MatCardModule,\n        MatInputModule,\n        MatExpansionModule,\n        MatMenuModule,\n        MatTabsModule,\n        MatSliderModule,\n        MatSelectModule,\n        MatSlideToggleModule,\n        MatBadgeModule,\n        MatTableModule,\n        MatPaginatorModule,\n        MatSortModule,\n        MatAutocompleteModule,\n        MatCheckboxModule\n    ],\n    providers: [\n        { provide: MatPaginatorIntl, useValue: getFrenchPaginatorIntl() },\n    ]\n})\nexport class AppMaterialModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { SignaturesContentService } from '../../../service/signatures.service';\nimport { NotificationService } from '../../../service/notification.service';\nimport { HttpClient } from '@angular/common/http';\nimport { MatDialog } from '@angular/material/dialog';\nimport { TranslateService } from '@ngx-translate/core';\nimport { finalize } from 'rxjs/operators';\nimport { LatinisePipe } from 'ngx-pipes';\nimport { AuthService } from '../../../service/auth.service';\nimport { AlertController } from '@ionic/angular';\nimport { Sort } from '@angular/material/sort';\n\n\nexport interface Ldap {\n    id: number;\n    label: string;\n}\n\n@Component({\n    selector: 'app-administration-ldap-list',\n    templateUrl: 'ldap-list.component.html',\n    styleUrls: ['../../administration.scss', 'ldap-list.component.scss'],\n})\n\nexport class LdapListComponent implements OnInit {\n\n    ldapList: Ldap[] = [];\n    sortedData: any[];\n    displayedColumns: string[];\n    loading: boolean = true;\n\n    constructor(\n        public http: HttpClient,\n        private translate: TranslateService,\n        private latinisePipe: LatinisePipe,\n        public dialog: MatDialog,\n        public signaturesService: SignaturesContentService,\n        public notificationService: NotificationService,\n        public authService: AuthService,\n        public alertController: AlertController\n    ) {\n\n        this.displayedColumns = ['label', 'actions'];\n    }\n\n    updateDataTable() {\n        this.sortedData = this.ldapList.slice();\n    }\n\n    applyFilter(filterValue: string) {\n        filterValue = this.latinisePipe.transform(filterValue.toLowerCase());\n\n        this.sortedData = this.ldapList.filter(\n            (option: any) => {\n                let state = false;\n                this.displayedColumns.forEach(element => {\n                    if (option[element] && this.latinisePipe.transform(option[element].toLowerCase()).includes(filterValue)) {\n                        state = true;\n                    }\n                });\n                return state;\n            }\n        );\n    }\n\n    ngOnInit(): void { }\n\n    ionViewWillEnter() {\n        this.http.get('../rest/configurations',\n            {\n                params: {\n                    identifier: 'ldapServer'\n                }\n            })\n            .pipe(\n                finalize(() => this.loading = false)\n            )\n            .subscribe({\n                next: (data: any) => {\n                    this.ldapList = data.configurations;\n                    this.updateDataTable();\n                },\n            });\n    }\n\n\n    async delete(ldapToDelete: Ldap) {\n        const alert = await this.alertController.create({\n            // cssClass: 'custom-alert-danger',\n            header: this.translate.instant('lang.confirmMsg'),\n            buttons: [\n                {\n                    text: this.translate.instant('lang.no'),\n                    role: 'cancel',\n                    cssClass: 'secondary',\n                    handler: () => { }\n                },\n                {\n                    text: this.translate.instant('lang.yes'),\n                    handler: () => {\n                        this.http.delete('../rest/configurations/' + ldapToDelete.id)\n                            .pipe(\n                                finalize(() => this.loading = false)\n                            )\n                            .subscribe({\n                                next: () => {\n                                    const indexToDelete = this.ldapList.findIndex(ldap => ldap.id === ldapToDelete.id);\n\n                                    this.ldapList.splice(indexToDelete, 1);\n\n                                    this.updateDataTable();\n\n                                    this.notificationService.success('lang.ldapDeleted');\n\n                                },\n                            });\n                    }\n                }\n            ]\n        });\n        await alert.present();\n    }\n\n    sortData(sort: Sort) {\n        const data = this.ldapList.slice();\n        if (!sort.active || sort.direction === '') {\n            this.sortedData = data;\n            return;\n        }\n\n        this.sortedData = data.sort((a, b) => {\n            const isAsc = sort.direction === 'asc';\n            return compare(a[sort.active], b[sort.active], isAsc);\n        });\n    }\n}\n\nfunction compare(a: number | string, b: number | string, isAsc: boolean) {\n    return (a < b ? -1 : 1) * (isAsc ? 1 : -1);\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-menu-button menu=\"left-menu\"></ion-menu-button>\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n        <ion-title>{{'lang.administration' | translate}} {{'lang.manage_ldap_configurationsAlt' | translate}}\n        </ion-title>\n    </ion-toolbar>\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-button fill=\"outline\" shape=\"round\" routerLink=\"/administration/connections/ldaps/new\">\n                {{'lang.ldapCreation' | translate}}\n            </ion-button>\n        </ion-buttons>\n        <ion-title slot=\"end\" color=\"secondary\">{{ldapList.length}} {{'lang.manage_ldap_configurationsAlt' | translate}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content #mainContent>\n    <ion-list>\n        <ion-item style=\"display: flex;\">\n            <ion-label color=\"primary\" matSort [matSortActive]=\"displayedColumns[0]\" matSortDirection='asc'\n                style=\"display: flex;font-size: 12px;align-items: center;\" (matSortChange)=\"sortData($event)\">\n                <ng-container *ngFor=\"let col of displayedColumns\">\n                    <div [mat-sort-header]=\"col\" disableClear style=\"flex: 1\" *ngIf=\"col!=='actions'\">\n                        {{'lang.' + col | translate}}\n                    </div>\n                </ng-container>\n                <div style=\"flex: 1\" *ngIf=\"displayedColumns.indexOf('actions') > -1\">\n                    <ion-searchbar [placeholder] = \"'lang.filter' | translate\" style=\"padding: 1px;\"\n                        (ionChange)=\"applyFilter($event.detail.value)\"></ion-searchbar>\n                </div>\n            </ion-label>\n            <ion-button slot=\"end\" fill=\"clear\" shape=\"round\" disabled>\n                <ion-icon></ion-icon>\n            </ion-button>\n        </ion-item>\n        <ion-virtual-scroll [items]=\"sortedData\" approxItemHeight=\"50px\">\n            <ion-item *virtualItem=\"let element\" style=\"display: flex;\">\n                <ion-label style=\"display: flex;cursor: pointer;\"\n                    routerLink=\"/administration/connections/ldaps/{{element.id}}\">\n                    <div style=\"flex: 1\" *ngFor=\"let col of displayedColumns\">\n                        {{element[col]}}\n                    </div>\n                </ion-label>\n                <ion-button slot=\"end\" fill=\"clear\" shape=\"round\" (click)=\"$event.stopPropagation();delete(element)\"\n                    title=\"{{'lang.delete' | translate}}\">\n                    <ion-icon color=\"danger\" slot=\"icon-only\" name=\"trash\"></ion-icon>\n                </ion-button>\n            </ion-item>\n        </ion-virtual-scroll>\n    </ion-list>\n</ion-content>","import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\nimport { SignaturesContentService } from '../../service/signatures.service';\nimport { NotificationService } from '../../service/notification.service';\nimport { HttpClient } from '@angular/common/http';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSort, Sort } from '@angular/material/sort';\nimport { TranslateService } from '@ngx-translate/core';\nimport { map, finalize } from 'rxjs/operators';\nimport { LatinisePipe } from 'ngx-pipes';\nimport { AuthService } from '../../service/auth.service';\nimport { AlertController } from '@ionic/angular';\n\n\nexport interface User {\n    id: string;\n    firstname: string;\n    lastname: string;\n    login: string;\n    email: string;\n    subtitute: boolean;\n}\n\n@Component({\n    selector: 'app-administration-users-list',\n    templateUrl: 'users-list.component.html',\n    styleUrls: ['../administration.scss', 'users-list.component.scss'],\n})\n\nexport class UsersListComponent {\n\n    userList: User[] = [];\n    sortedData: any[];\n    displayedColumns: string[];\n    loading: boolean = true;\n\n    constructor(\n        public http: HttpClient,\n        private translate: TranslateService,\n        private latinisePipe: LatinisePipe,\n        public dialog: MatDialog,\n        public signaturesService: SignaturesContentService,\n        public notificationService: NotificationService,\n        public authService: AuthService,\n        public alertController: AlertController\n    ) {\n\n        if (this.signaturesService.mobileMode) {\n            this.displayedColumns = ['firstname', 'lastname', 'email'];\n        } else {\n            this.displayedColumns = ['firstname', 'lastname', 'email', 'actions'];\n        }\n    }\n\n    applyFilter(filterValue: string) {\n        filterValue = this.latinisePipe.transform(filterValue.toLowerCase());\n\n        this.sortedData = this.userList.filter(\n            (option: any) => {\n                let state = false;\n                this.displayedColumns.forEach(element => {\n                    if (option[element] && this.latinisePipe.transform(option[element].toLowerCase()).includes(filterValue)) {\n                        state = true;\n                    }\n                });\n                return state;\n            }\n        );\n    }\n\n    ionViewWillEnter() {\n        this.http.get('../rest/users' + '?mode=all')\n            .pipe(\n                map((data: any) => data.users),\n                finalize(() => this.loading = false)\n            )\n            .subscribe({\n                next: data => {\n                    this.userList = data;\n                    this.sortedData = this.userList.slice();\n                },\n            });\n    }\n\n\n    async delete(userToDelete: User) {\n        const alert = await this.alertController.create({\n            // cssClass: 'custom-alert-danger',\n            header: this.translate.instant('lang.confirmMsg'),\n            buttons: [\n                {\n                    text: this.translate.instant('lang.no'),\n                    role: 'cancel',\n                    cssClass: 'secondary',\n                    handler: () => { }\n                },\n                {\n                    text: this.translate.instant('lang.yes'),\n                    handler: () => {\n                        this.http.delete('../rest/users/' + userToDelete.id)\n                            .pipe(\n                                finalize(() => this.loading = false)\n                            )\n                            .subscribe({\n                                next: data => {\n                                    const indexToDelete = this.userList.findIndex(user => user.id === userToDelete.id);\n\n                                    this.userList.splice(indexToDelete, 1);\n                                    this.sortedData = this.userList.slice();\n                                    this.notificationService.success('lang.userDeleted');\n                                },\n                                error: err => {\n                                    this.notificationService.handleErrors(err);\n                                }\n                            });\n                    }\n                }\n            ]\n        });\n\n        await alert.present();\n    }\n\n    sortData(sort: Sort) {\n        const data = this.userList.slice();\n        if (!sort.active || sort.direction === '') {\n            this.sortedData = data;\n            return;\n        }\n\n        this.sortedData = data.sort((a, b) => {\n            const isAsc = sort.direction === 'asc';\n            return compare(a[sort.active], b[sort.active], isAsc);\n        });\n    }\n\n\n}\n\nfunction compare(a: number | string, b: number | string, isAsc: boolean) {\n    return (a < b ? -1 : 1) * (isAsc ? 1 : -1);\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-menu-button menu=\"left-menu\"></ion-menu-button>\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n        <ion-title>{{'lang.administration' | translate}} {{'lang.manage_usersAlt' | translate}}</ion-title>\n    </ion-toolbar>\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-button fill=\"outline\" shape=\"round\" routerLink=\"/administration/users/new\">\n                {{'lang.userCreation' | translate}}\n            </ion-button>\n        </ion-buttons>\n        <ion-title slot=\"end\" color=\"secondary\">{{userList.length}} {{'lang.manage_usersAlt' | translate}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content #mainContent>\n    <ion-list>\n        <ion-item style=\"display: flex;\">\n            <ion-label color=\"primary\" matSort [matSortActive]=\"displayedColumns[1]\" matSortDirection='asc'\n                style=\"display: flex;font-size: 12px;align-items: center;\" (matSortChange)=\"sortData($event)\">\n                <ng-container *ngFor=\"let col of displayedColumns\">\n                    <div [mat-sort-header]=\"col\" disableClear style=\"flex: 1\" *ngIf=\"col!=='actions'\">\n                        {{'lang.' + col | translate}}\n                    </div>\n                </ng-container>\n                <div style=\"flex: 1\" *ngIf=\"displayedColumns.indexOf('actions') > -1\">\n                    <ion-searchbar [placeholder]=\"'lang.filter' | translate\" style=\"padding: 1px;\"\n                        (ionChange)=\"applyFilter($event.detail.value)\"></ion-searchbar>\n                </div>\n            </ion-label>\n            <ion-button slot=\"end\" fill=\"clear\" shape=\"round\" disabled>\n                <ion-icon></ion-icon>\n            </ion-button>\n        </ion-item>\n        <ion-virtual-scroll [items]=\"sortedData\" approxItemHeight=\"50px\">\n            <ion-item *virtualItem=\"let element\" style=\"display: flex;\">\n                <ion-label style=\"display: flex;cursor: pointer;\" routerLink=\"/administration/users/{{element.id}}\">\n                    <div style=\"flex: 1\" *ngFor=\"let col of displayedColumns\">\n                        {{element[col]}}\n                    </div>\n                </ion-label>\n                <ion-button slot=\"end\" fill=\"clear\" shape=\"round\" [disabled]=\"element.id === authService.user.id\"\n                    (click)=\"$event.stopPropagation();delete(element)\" title=\"{{'lang.delete' | translate}}\">\n                    <ion-icon color=\"danger\" slot=\"icon-only\" name=\"trash\"></ion-icon>\n                </ion-button>\n            </ion-item>\n        </ion-virtual-scroll>\n    </ion-list>\n</ion-content>","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n    production: false,\n    VERSION: require('../../../../package.json').version + ' (development mode)',\n    AUTHOR: require('../../../../package.json').author\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { DatePipe } from '@angular/common';\nimport { HttpClient } from '@angular/common/http';\nimport { Component, ElementRef, OnInit, TemplateRef, ViewChild, ViewContainerRef } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController, LoadingController, MenuController, ModalController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { of } from 'rxjs';\nimport { catchError, finalize, tap } from 'rxjs/operators';\nimport { VisaWorkflowComponent } from '../document/visa-workflow/visa-workflow.component';\nimport { AuthService } from '../service/auth.service';\nimport { NotificationService } from '../service/notification.service';\nimport { SignaturesContentService } from '../service/signatures.service';\nimport { SignaturePositionComponent } from './signature-position/signature-position.component';\n\n@Component({\n    templateUrl: 'indexation.component.html',\n    styleUrls: ['indexation.component.scss'],\n    providers: [DatePipe]\n})\nexport class IndexationComponent implements OnInit {\n\n    @ViewChild('appVisaWorkflow', { static: false }) appVisaWorkflow: VisaWorkflowComponent;\n    @ViewChild('rightContent', { static: true }) rightContent: TemplateRef<any>;\n    @ViewChild('docToUpload') fileImport: ElementRef;\n\n    loading: boolean = false;\n    filesToUpload: any[] = [];\n    errors: any[] = [];\n    fromDocument: number = null;\n\n    constructor(\n        public http: HttpClient,\n        private translate: TranslateService,\n        public router: Router,\n        private menu: MenuController,\n        public signaturesService: SignaturesContentService,\n        public viewContainerRef: ViewContainerRef,\n        public notificationService: NotificationService,\n        public authService: AuthService,\n        public loadingController: LoadingController,\n        public alertController: AlertController,\n        public datePipe: DatePipe,\n        public modalController: ModalController\n    ) { }\n\n    ngOnInit(): void { }\n\n    ionViewWillEnter() {\n        this.menu.enable(true, 'left-menu');\n        this.menu.enable(true, 'right-menu');\n\n        this.filesToUpload = [];\n        this.signaturesService.initTemplate(this.rightContent, this.viewContainerRef, 'rightContent');\n\n        if (window.history.state.documentId !== undefined) {\n            this.fromDocument = window.history.state.documentId;\n            this.getDocumentData(this.fromDocument);\n        }\n    }\n\n    getDocumentData(resId: number) {\n        return new Promise((resolve) => {\n            this.http.get(`../rest/documents/${resId}`).pipe(\n                tap((data: any) => {\n                    let ref = '';\n                    let arrRef = data.document.reference.split('/');\n                    arrRef = arrRef.slice(3, arrRef.length);\n\n                    if (arrRef.length > 0) {\n                        ref = arrRef.join('/');\n                    }\n\n                    this.filesToUpload.push({\n                        title: data.document.title,\n                        reference: ref,\n                        mainDocument: true,\n                        content: '',\n                        linkId: data.document.linkId,\n                        metadata: data.document.metadata,\n                    });\n                    this.getDocumentContent(resId);\n                    this.appVisaWorkflow.loadWorkflow(data.document.workflow.map((item: any) => {\n                        item.userSignatureModes.unshift('visa');\n                        return {\n                            ...item,\n                            'processDate': null,\n                            'current': false,\n                            'role': item.mode === 'visa' ? 'visa' : item.signatureMode,\n                            'modes': item.userSignatureModes\n                        };\n                    }));\n                    for (let index = 0; index < data.document.attachments.length; index++) {\n                        this.getAttachment(data.document.attachments[index].id);\n                    }\n                    resolve(true);\n                }),\n                catchError((err: any) => {\n                    this.notificationService.handleErrors(err);\n                    return of(false);\n                })\n            ).subscribe();\n        });\n    }\n\n    getDocumentContent(resId: number) {\n        return new Promise((resolve) => {\n            this.http.get(`../rest/documents/${resId}/content?type=original`).pipe(\n                tap((data: any) => {\n                    this.filesToUpload[0].content = data.encodedDocument;\n                    resolve(true);\n                }),\n                catchError((err: any) => {\n                    this.notificationService.handleErrors(err);\n                    return of(false);\n                })\n            ).subscribe();\n        });\n    }\n\n    getAttachment(attachId: number) {\n        return new Promise((resolve) => {\n            this.http.get(`../rest/attachments/${attachId}`).pipe(\n                tap((data: any) => {\n                    this.filesToUpload.push({\n                        title: data.attachment.title,\n                        mainDocument: false,\n                        content: data.attachment.encodedDocument\n                    });\n                    resolve(true);\n                }),\n                catchError((err: any) => {\n                    this.notificationService.handleErrors(err);\n                    return of(false);\n                })\n            ).subscribe();\n        });\n    }\n\n    ionViewWillLeave() {\n        this.signaturesService.detachTemplate('rightContent');\n    }\n\n    onSubmit() {\n        if (this.isValid()) {\n            this.promptSaveDoc();\n        }\n    }\n\n    async promptSaveDoc() {\n        const alert = await this.alertController.create({\n            cssClass: 'alert-info-no-msg',\n            header: this.translate.instant('lang.areYouSure'),\n            inputs: [\n                {\n                    name: 'note',\n                    id: 'note',\n                    type: 'textarea',\n                    placeholder: this.translate.instant('lang.addNote')\n                },\n            ],\n            buttons: [\n                {\n                    text: this.translate.instant('lang.cancel'),\n                    role: 'cancel',\n                    cssClass: 'secondary',\n                    handler: () => { }\n                },\n                {\n                    text: this.translate.instant('lang.validate'),\n                    handler: (data: any) => {\n                        this.loadingController.create({\n                            message: this.translate.instant('lang.processing'),\n                            spinner: 'dots'\n                        }).then(async (load: HTMLIonLoadingElement) => {\n                            load.present();\n                            const objTosend = this.formatData(data.note);\n                            for (let index = 0; index < objTosend.length; index++) {\n                                await this.saveDocument(objTosend[index], index);\n                            }\n                            load.dismiss();\n                            if (this.errors.length === 0) {\n                                this.notificationService.success('lang.documentsImported');\n                                this.router.navigate(['/home']);\n                            }\n                        });\n                    }\n                }\n            ]\n        });\n        await alert.present();\n    }\n\n    saveDocument(data: any, index: number) {\n        return new Promise((resolve) => {\n            this.http.post('../rest/documents', data).pipe(\n                tap(() => {\n                    this.errors = [];\n                }),\n                finalize(() => resolve(true)),\n                catchError((err: any) => {\n                    this.errors.push(data.title);\n                    this.notificationService.handleErrors(err);\n                    return of(false);\n                })\n            ).subscribe();\n        });\n    }\n\n    formatData(note: string) {\n        const today: Date = new Date();\n        let noteObj: any = null;\n        let linkId: string = null;\n\n        if (note !== '') {\n            noteObj = {\n                value: note,\n                creator: `${this.authService.user.firstname} ${this.authService.user.lastname}`,\n                creationDate: this.datePipe.transform(today, 'dd-MM-y')\n            };\n        }\n\n        const formattedObj: any[] = [];\n        const signedFiles = this.filesToUpload.filter((item: any) => item.mainDocument);\n        const attachFiles = this.filesToUpload.filter((item: any) => !item.mainDocument);\n\n        if (signedFiles.length > 1) {\n            linkId = this.datePipe.transform(today, 'ddMMYhmmss') + '_' + Math.random().toString(36).substr(2, 9);\n        }\n\n        signedFiles.forEach((file: any) => {\n            const metadata = {};\n            if (this.fromDocument !== null) {\n                file.metadata.forEach((element: any) => {\n                    metadata[element.label] = element.value;\n                });\n            }\n            let formattedReference = '';\n            if (file.reference !== '') {\n                formattedReference = this.datePipe.transform(today, 'y/MM/dd') + '/' + file.reference;\n            }\n            formattedObj.push({\n                title: file.title,\n                reference: formattedReference,\n                encodedDocument: file.content,\n                isZipped: false,\n                linkId: this.fromDocument !== null ? file.linkId : linkId,\n                sender: `${this.authService.user.firstname} ${this.authService.user.lastname}`,\n                notes: noteObj,\n                attachments: attachFiles.map((item: any) => ({\n                    title: item.title,\n                    encodedDocument: item.content\n                })),\n                workflow: this.appVisaWorkflow.getCurrentWorkflow().map((item: any, index: number) => ({\n                    userId: item.userId,\n                    mode: this.authService.getWorkflowMode(item.role),\n                    signatureMode: this.authService.getSignatureMode(item.role),\n                    signaturePositions: item.signaturePositions !== undefined ? this.formatPositions(item.signaturePositions.filter((pos: any) => pos.mainDocument === file.mainDocument && file.signPos !== undefined)).map((itemFile: any) => ({\n                        page: itemFile.page,\n                        positionX: itemFile.position.positionX,\n                        positionY: itemFile.position.positionY,\n                    })) : []\n                })),\n                metadata: metadata\n            });\n        });\n\n        return formattedObj;\n    }\n\n    formatPositions(position: any) {\n        delete position.mainDocument;\n        return position;\n    }\n\n    dndUploadFile(event: any) {\n        const fileInput = {\n            target: {\n                files: [\n                    event[0]\n                ]\n            }\n        };\n        this.uploadTrigger(fileInput);\n    }\n\n    uploadTrigger(fileInput: any) {\n        if (fileInput.target.files && fileInput.target.files[0] && this.isExtensionAllowed(fileInput.target.files)) {\n            for (let index = 0; index < fileInput.target.files.length; index++) {\n                const filename = fileInput.target.files[index].name;\n                const file = {\n                    title: filename.substr(0, filename.lastIndexOf('.')),\n                    reference: filename.substr(0, filename.lastIndexOf('.')).substr(0, 53),\n                    mainDocument: true,\n                    content: ''\n                };\n                const reader = new FileReader();\n                reader.readAsArrayBuffer(fileInput.target.files[index]);\n                reader.onload = (value: any) => {\n                    file.mainDocument = this.filesToUpload.length === 0;\n                    file.reference = this.filesToUpload.length === 0 ? file.reference : '';\n                    file.content = this.getBase64Document(value.target.result);\n                    this.filesToUpload.push(file);\n                    if (this.filesToUpload.length === 1) {\n                        setTimeout(() => {\n                            this.menu.open('right-menu');\n                        }, 500);\n                    }\n                };\n            }\n            this.fileImport.nativeElement.value = '';\n        } else {\n            this.loading = false;\n        }\n    }\n\n    isExtensionAllowed(files: any[]) {\n        for (let index = 0; index < files.length; index++) {\n            if (files[index].name.toLowerCase().split('.').pop() !== 'pdf') {\n                this.notificationService.error('lang.onlyPdfAuthorized');\n                return false;\n            }\n        }\n        return true;\n    }\n\n    getBase64Document(buffer: ArrayBuffer) {\n        const TYPED_ARRAY = new Uint8Array(buffer);\n        const STRING_CHAR = TYPED_ARRAY.reduce((data, byte) => data + String.fromCharCode(byte), '');\n\n        return btoa(STRING_CHAR);\n    }\n\n    deleteFile(index: number) {\n        this.filesToUpload.splice(index, 1);\n    }\n\n    async signPos(index: number) {\n        if (this.appVisaWorkflow.getCurrentWorkflow().length > 0) {\n            this.appVisaWorkflow.getCurrentWorkflow().forEach((user: any, indexUser: number) => {\n                if (user.signaturePositions === undefined) {\n                    this.appVisaWorkflow.visaWorkflow[indexUser].signaturePositions = [];\n                }\n            });\n            const modal = await this.modalController.create({\n                component: SignaturePositionComponent,\n                cssClass: 'custom-alert-fullscreen',\n                componentProps: {\n                    'workflow': this.appVisaWorkflow.getCurrentWorkflow(),\n                    'resource': this.filesToUpload[index],\n                    'pdfContent': 'data:application/pdf;base64,' + this.filesToUpload[index].content,\n                }\n            });\n            await modal.present();\n            const { data } = await modal.onWillDismiss();\n            if (data !== undefined) {\n                this.filesToUpload[index].signPos = data;\n                this.appVisaWorkflow.setPositionsWorkfow(this.filesToUpload[index], data);\n            }\n        } else {\n            this.notificationService.error('lang.mustSetWorkflowBeforeSignPositions');\n        }\n    }\n\n    isValid() {\n        if (this.filesToUpload.filter((item: any) => item.title === '').length > 0) {\n            this.notificationService.error('lang.subjectMandatory');\n            return false;\n        } else if (this.filesToUpload.filter((item: any) => item.mainDocument).length === 0) {\n            this.notificationService.error('lang.mainDocumentMandatory');\n            return false;\n        } else if (this.appVisaWorkflow.getCurrentWorkflow().length === 0) {\n            this.notificationService.error('lang.workflowUserstMandatory');\n            this.menu.open('right-menu');\n            return false;\n        } else {\n            return true;\n        }\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-menu-button menu=\"left-menu\"></ion-menu-button>\n        </ion-buttons>\n        <ion-title class=\"ion-text-center\">{{'lang.newDocumentToVisa' | translate}}</ion-title>\n        <ion-buttons slot=\"end\">\n            <ion-menu-button menu=\"right-menu\">\n                <ion-icon name=\"list-outline\"></ion-icon>\n            </ion-menu-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-content>\n    <div style=\"display: flex;flex-direction: column;height: 100%;\">\n        <ion-list *ngIf=\"filesToUpload.length > 0\">\n            <ion-list-header>\n                <ion-label color=\"primary\">{{'lang.documentsToUpload' | translate}}</ion-label>\n            </ion-list-header>\n            <ion-item *ngFor=\"let file of filesToUpload;let i=index\">\n                <ion-buttons slot=\"start\">\n                    <ion-button fill=\"clear\" slot=\"icon-only\" shape=\"round\" color=\"primary\"\n                        [title]=\"file.mainDocument ? ('lang.docToSign' | translate) : ('lang.attachDocToSign' | translate)\"\n                        (click)=\"file.mainDocument=!file.mainDocument\">\n                        <ion-icon *ngIf=\"file.mainDocument\" slot=\"icon-only\" name=\"pencil-outline\"></ion-icon>\n                        <ion-icon *ngIf=\"!file.mainDocument\" slot=\"icon-only\" name=\"document-attach-outline\"></ion-icon>\n                    </ion-button>\n                </ion-buttons>\n                <ion-item style=\"width: 100%;\">\n                    <ion-label position=\"floating\" color=\"secondary\">{{'lang.reference' | translate}}</ion-label>\n                    <ion-input placeholder=\"{{'lang.fileReference' | translate}}\" matInput type=\"text\" [maxlength]=\"53\" [(ngModel)]=\"file.reference\" [disabled]=\"!file.mainDocument\"></ion-input>\n                </ion-item>\n                <ion-item style=\"width: 100%;\">\n                    <ion-label position=\"floating\" color=\"secondary\">{{'lang.subject' | translate}} *</ion-label>\n                    <ion-input placeholder=\"{{'lang.filename' | translate}}\" matInput type=\"text\" [(ngModel)]=\"file.title\"></ion-input>\n                </ion-item>\n                <ion-buttons slot=\"end\">\n                    <ion-button [disabled]=\"!file.mainDocument\" fill=\"clear\" slot=\"icon-only\" shape=\"round\" color=\"primary\"\n                        [title]=\"'lang.setSignaturesPosition' | translate\" (click)=\"signPos(i)\">\n                        <i *ngIf=\"filesToUpload[i].signPos !== undefined && filesToUpload[i].signPos.length > 0\" class=\"badge-sign-pos\"></i>\n                        <ion-icon slot=\"icon-only\" name=\"contract-outline\"></ion-icon>\n                    </ion-button>\n                    <ion-button fill=\"clear\" slot=\"icon-only\" shape=\"round\" color=\"danger\"\n                        [title]=\"'lang.delete' | translate\" (click)=\"deleteFile(i)\">\n                        <ion-icon slot=\"icon-only\" name=\"trash-outline\"></ion-icon>\n                    </ion-button>\n                </ion-buttons>\n            </ion-item>\n        </ion-list>\n        <input type=\"file\" #docToUpload name=\"files[]\" (change)=\"uploadTrigger($event)\" style=\"display:none;\" multiple accept=\"application/pdf\">\n        <div class=\"dnd-area\" appUploadFileDragDrop (fileDropped)=\"dndUploadFile($event)\">\n            <ion-button fill=\"outline\" color=\"medium\" size=\"large\" (click)=\"docToUpload.click()\">\n                {{'lang.chooseDocuments' | translate}}\n            </ion-button>\n            <ion-item lines=\"none\" class=\"ion-text-center no-background\">\n                <ion-label color=\"medium\">\n                    {{'lang.dndDocuments' | translate}}\n                </ion-label>\n            </ion-item>\n        </div>\n    </div>\n</ion-content>\n<ion-footer class=\"ion-no-border\">\n    <div class=\"ion-text-center\" style=\"background: white;\">\n        <ion-button color=\"primary\" shape=\"round\" size=\"large\" fill=\"outline\" (click)=\"onSubmit()\">\n            <ion-label style=\"font-size: 13px;\">{{'lang.validate' | translate}}</ion-label>\n        </ion-button>\n    </div>\n</ion-footer>\n<ng-template #rightContent>\n    <app-visa-workflow #appVisaWorkflow style=\"display: contents;\" [editMode]=\"true\">\n    </app-visa-workflow>\n</ng-template>","import { Component, Inject, OnInit, ViewChild } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { catchError, tap } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport { NotificationService } from '../notification.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ModalController } from '@ionic/angular';\n\n\n@Component({\n    templateUrl: 'dev-lang.component.html',\n    styleUrls: ['dev-lang.component.scss'],\n})\nexport class DevLangComponent implements OnInit {\n    allLang: any;\n\n    missingLang: any =  {};\n\n    currentLang = 'en';\n\n    data: any = {};\n\n\n    constructor(\n        public http: HttpClient,\n        private notify: NotificationService,\n        private translate: TranslateService,\n        public modalController: ModalController\n    ) {\n    }\n\n    ngOnInit(): void {\n        this.getLangs();\n    }\n\n    dismissModal() {\n        this.modalController.dismiss('cancel');\n    }\n\n    getLangs() {\n        this.http.get('../rest/languages').pipe(\n            tap((data: any) => {\n                this.allLang = data.languages;\n                Object.keys(this.allLang).forEach(langName => {\n                    this.missingLang[langName] = Object.keys(this.allLang.fr.lang).filter((keyLang: any) => Object.keys(this.allLang[langName].lang).indexOf(keyLang) === -1).map((keyLang: any) => ({\n                        id: keyLang,\n                        value: this.allLang.fr.lang[keyLang] + '__TO_TRANSLATE'\n                    }));\n                });\n            }),\n            catchError((err: any) => {\n                this.notify.handleErrors(err);\n                return of(false);\n            })\n        ).subscribe();\n    }\n\n    openTranslation(text: string) {\n        window.open('https://translate.google.fr/?hl=fr#view=home&op=translate&sl=fr&tl=' + this.currentLang + '&text=' + text.replace('__TO_TRANSLATE', ''), '_blank');\n    }\n\n    setActiveLang(ev: any) {\n        this.currentLang = ev.detail.value;\n    }\n\n    generateMissingLang(ignoreToTranslate: boolean) {\n        const newLang = {};\n        const mergedLang = this.allLang[this.currentLang];\n        const regex = /__TO_TRANSLATE$/g;\n        this.missingLang[this.currentLang].forEach((element: any) => {\n            if (element.value.match(regex) === null && ignoreToTranslate) {\n                newLang[element.id] = element.value;\n            } else if (!ignoreToTranslate) {\n                newLang[element.id] = element.value;\n            }\n        });\n        mergedLang.lang = {...mergedLang.lang, ...newLang};\n        this.http.put('../rest/languages', { langId: this.currentLang, jsonContent: mergedLang }).pipe(\n            tap((data: any) => {\n                Object.keys(newLang).forEach(keyLang => {\n                    delete this.allLang[this.currentLang][keyLang];\n\n                    this.missingLang[this.currentLang] = this.missingLang[this.currentLang].filter((missLang: any) => missLang.id !== keyLang);\n                    this.data.countMissingLang--;\n                });\n                this.modalController.dismiss('cancel');\n            }),\n            catchError((err: any) => {\n                this.notify.handleErrors(err);\n                return of(false);\n            })\n        ).subscribe();\n    }\n}\n","  <ion-header translucent>\n    <ion-toolbar color=\"primary\">\n      <ion-title>{{'lang.langChecking' | translate}}</ion-title>\n      <ion-buttons slot=\"end\">\n        <ion-button (click)=\"dismissModal()\">\n            <ion-icon slot=\"icon-only\" name=\"close-outline\"></ion-icon>\n        </ion-button>\n    </ion-buttons>\n    </ion-toolbar>\n  </ion-header>\n  <ion-header>\n    <ion-segment>\n      <span *ngFor=\"let langName of allLang | keyvalue\" >\n        <ion-segment-button *ngIf=\"langName.key !== 'fr'\" (ionChange)=\"setActiveLang($event)\" [value]=\"currentLang\">\n          <ion-label>{{langName.key}} <ion-badge color=\"secondary\">{{missingLang[langName.key].length}}</ion-badge></ion-label>\n        </ion-segment-button>\n      </span>\n    </ion-segment>\n  </ion-header>\n  <ion-content>\n    <ng-container>\n      <ion-list *ngIf=\"currentLang === 'en'\" lines=\"full\">\n        <ion-item *ngFor=\"let lang of missingLang[currentLang]\">\n            <ion-label position=\"stacked\">{{lang.id}}</ion-label>\n            <ion-input type=\"text\" [(ngModel)]=\"lang.value\"></ion-input>\n            <ion-button slot=\"end\" color=\"primary\" (click)=\"openTranslation(lang.value)\">\n              <ion-icon name=\"language-outline\"></ion-icon>\n            </ion-button>\n        </ion-item>\n      </ion-list>\n    </ng-container>\n  </ion-content>\n  <ion-footer [translucent]=\"true\">\n      <ion-button size=\"small\" (click)=\"generateMissingLang(false)\" color=\"primary\">{{'lang.generateLangVar' | translate}}</ion-button>\n      <ion-button size=\"small\" (click)=\"generateMissingLang(true)\" color=\"primary\">{{'lang.generateLangVarIgnoreTranslate' | translate}}</ion-button>\n  </ion-footer>\n\n\n\n\n\n  \n  ","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { NotificationService } from './notification.service';\nimport { SignaturesContentService } from './signatures.service';\nimport { LocalStorageService } from './local-storage.service';\nimport { NavController } from '@ionic/angular';\nimport { catchError, tap } from 'rxjs/operators';\nimport { of } from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AuthService {\n\n    authMode: string    = 'default';\n    changeKey: boolean  = false;\n    coreUrl: string     = '';\n    user: any           = {};\n    signatureRoles: any[] = [];\n\n    constructor(public http: HttpClient,\n        private router: Router,\n        public notificationService: NotificationService,\n        public signaturesService: SignaturesContentService,\n        private localStorage: LocalStorageService,\n        public navCtrl: NavController\n    ) { }\n\n    getToken() {\n        return this.localStorage.get('MaarchParapheurToken');\n    }\n\n    setToken(token: string) {\n        this.localStorage.save('MaarchParapheurToken', token);\n    }\n\n    getRefreshToken() {\n        return this.localStorage.get('MaarchParapheurRefreshToken');\n    }\n\n    setRefreshToken(refreshToken: string) {\n        this.localStorage.save('MaarchParapheurRefreshToken', refreshToken);\n    }\n\n    clearTokens() {\n        this.localStorage.remove('MaarchParapheurToken');\n        this.localStorage.remove('MaarchParapheurRefreshToken');\n    }\n\n    refreshToken() {\n        return this.http\n            .get<any>('../rest/authenticate/token', { params: { refreshToken: this.getRefreshToken() } })\n            .pipe(\n                tap((data) => {\n                    // Update stored token\n                    this.setToken(data.token);\n\n                    // Update user info\n                    this.updateUserInfo(data.token);\n                }),\n                catchError((error) => {\n                    this.logout();\n                    this.notificationService.error('lang.sessionExpired');\n                    return of(false);\n                })\n            );\n    }\n\n    logout() {\n        const refreshToken = this.getRefreshToken();\n        if (refreshToken === null) {\n            this.clearTokens();\n            this.navCtrl.navigateRoot('/login');\n            return;\n        }\n\n        this.http.get('../rest/authenticate/logout')\n            .pipe(\n                tap(() => {\n                    this.clearTokens();\n                    this.navCtrl.navigateRoot('/login');\n                }),\n                catchError((err: any) => {\n                    this.notificationService.handleErrors(err);\n                    this.clearTokens();\n                    this.navCtrl.navigateRoot('/login');\n                    return of(false);\n                })\n            ).subscribe();\n    }\n\n    saveTokens(token: string, refreshToken: string) {\n        this.setToken(token);\n        this.setRefreshToken(refreshToken);\n    }\n\n    isAuth(): boolean {\n        return this.getToken() !== null;\n    }\n\n    updateUserInfo(token: string) {\n        const currentPicture  = this.user.picture;\n\n        const tokenData = JSON.parse(atob(token.split('.')[1]));\n\n        this.user = tokenData.user;\n        this.authMode = tokenData.connection;\n\n        this.user.picture = currentPicture;\n    }\n\n    updateUserInfoWithTokenRefresh() {\n        this.http.get('../rest/authenticate/token', {\n            params: {\n                refreshToken: this.getRefreshToken()\n            }\n        }).subscribe({\n            next: (data: any) => {\n                this.setToken(data.token);\n\n                this.updateUserInfo(this.getToken());\n            },\n            error: err => {\n                this.notificationService.handleErrors(err);\n            }\n        });\n    }\n\n    setUser(value: any) {\n        this.user = value;\n    }\n\n    getSignatureMode(id: string) {\n        return id === 'visa' ? 'stamp' : id;\n    }\n\n    getWorkflowMode(id: string) {\n        return this.signatureRoles.filter((item: any) => item.id === id)[0].type;\n    }\n\n    setCachedUrl(url: string) {\n        this.localStorage.save('MaarchParapheurCacheUrl', url);\n    }\n\n    getCachedUrl() {\n        return this.localStorage.get('MaarchParapheurCacheUrl');\n    }\n\n    cleanCachedUrl() {\n        return this.localStorage.remove('MaarchParapheurCacheUrl');\n    }\n}\n","var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t\"dUtr\",\n\t\t\"common\",\n\t\t0\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t\"Q8AI\",\n\t\t\"common\",\n\t\t1\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t\"hgI1\",\n\t\t\"common\",\n\t\t2\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t\"CfoV\",\n\t\t\"common\",\n\t\t3\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t\"Nt02\",\n\t\t\"common\",\n\t\t4\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t\"Q2Bp\",\n\t\t5\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t\"0Pbj\",\n\t\t\"common\",\n\t\t6\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t\"ydQj\",\n\t\t\"common\",\n\t\t7\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t\"4fMi\",\n\t\t\"common\",\n\t\t8\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t\"czK9\",\n\t\t\"common\",\n\t\t9\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t\"/CAe\",\n\t\t10\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t\"WgF3\",\n\t\t\"common\",\n\t\t11\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t\"uQcF\",\n\t\t\"common\",\n\t\t12\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t\"wHD8\",\n\t\t13\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t\"2lz6\",\n\t\t14\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t\"ercB\",\n\t\t\"common\",\n\t\t15\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t\"MGMP\",\n\t\t\"common\",\n\t\t16\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t\"9bur\",\n\t\t\"common\",\n\t\t17\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t\"cABk\",\n\t\t\"common\",\n\t\t18\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t\"kyFE\",\n\t\t\"common\",\n\t\t19\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t\"TvZU\",\n\t\t\"common\",\n\t\t20\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t\"vnES\",\n\t\t\"common\",\n\t\t21\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t\"qCuA\",\n\t\t\"common\",\n\t\t22\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t\"0tOe\",\n\t\t\"common\",\n\t\t23\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t\"h11V\",\n\t\t\"common\",\n\t\t24\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t\"XGij\",\n\t\t\"common\",\n\t\t25\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t\"nYbb\",\n\t\t\"common\",\n\t\t26\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t\"smMY\",\n\t\t\"common\",\n\t\t27\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t\"STjf\",\n\t\t28\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t\"k5eQ\",\n\t\t\"common\",\n\t\t29\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t\"OR5t\",\n\t\t\"common\",\n\t\t30\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t\"fSgp\",\n\t\t\"common\",\n\t\t31\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t\"lfGF\",\n\t\t\"common\",\n\t\t32\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t\"5xYT\",\n\t\t33\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t\"nI0H\",\n\t\t\"common\",\n\t\t34\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t\"NAQR\",\n\t\t35\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t\"knkW\",\n\t\t\"common\",\n\t\t36\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t\"TpdJ\",\n\t\t\"common\",\n\t\t37\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t\"ISmu\",\n\t\t\"common\",\n\t\t38\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t\"U7LX\",\n\t\t\"common\",\n\t\t39\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t\"L3sA\",\n\t\t\"common\",\n\t\t40\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t\"IUOf\",\n\t\t\"common\",\n\t\t41\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t\"8Mb5\",\n\t\t42\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"kLfG\";\nmodule.exports = webpackAsyncContext;","import { Component, OnInit } from '@angular/core';\nimport { DevLangComponent } from '../debug/dev-lang.component';\nimport { HttpClient } from '@angular/common/http';\nimport { NotificationService } from '../notification.service';\nimport { of } from 'rxjs';\nimport { FunctionsService } from '../functions.service';\nimport { catchError, filter, tap } from 'rxjs/operators';\nimport { IonSlides, ModalController } from '@ionic/angular';\n\n@Component({\n    selector: 'app-dev-tool',\n    templateUrl: 'dev-tool.component.html',\n    styleUrls: ['dev-tool.component.scss'],\n})\nexport class DevToolComponent implements OnInit {\n\n    allLang: any;\n    countMissingLang: number = 0;\n\n    constructor(\n        private notify: NotificationService,\n        public http: HttpClient,\n        private functionsService: FunctionsService,\n        public modalController: ModalController,\n    ) { }\n\n    ngOnInit(): void {\n        this.getLangs();\n    }\n\n    async openLangTool() {\n        const modal = await this.modalController.create({\n            component: DevLangComponent,\n            cssClass: 'my-custom-class'\n        });\n        await modal.present();\n    }\n\n    getLangs() {\n        this.http.get('../rest/languages').pipe(\n            tap((data: any) => {\n                this.allLang = data.languages;\n                Object.keys(this.allLang).forEach(langName => {\n                    this.countMissingLang += Object.keys(this.allLang.fr.lang).filter((keyLang: any) => Object.keys(this.allLang[langName].lang).indexOf(keyLang) === -1).length;\n                });\n            }),\n            catchError((err: any) => {\n                this.notify.handleErrors(err);\n                return of(false);\n            })\n        ).subscribe();\n    }\n\n}\n","\n<ion-fab cdkDrag horizontal=\"end\" vertical=\"top\" [title] = \"'lang.missingLang' | translate\">\n  <ion-fab-button color=\"light\">\n      <ion-icon  name=\"language-outline\"></ion-icon>\n  </ion-fab-button>\n  <ion-fab-list side=\"start\">\n    <ion-button color=\"light\" (click)=\"openLangTool()\">\n    <ion-label>{{'lang.missingLang' | translate}} <ion-badge color=\"secondary\"> {{countMissingLang}}</ion-badge></ion-label>\n    </ion-button>\n  </ion-fab-list>\n</ion-fab>\n","\nimport { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\nimport { HttpClient } from '@angular/common/http';\nimport { SignaturesContentService } from './signatures.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AuthService } from './auth.service';\nimport { map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\nimport { LocalStorageService } from './local-storage.service';\nimport { AlertComponent } from '../plugins/alert.component';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MenuController } from '@ionic/angular';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n\n    constructor(private translate: TranslateService,\n        public http: HttpClient,\n        private router: Router,\n        public signaturesService: SignaturesContentService,\n        private cookieService: CookieService,\n        public authService: AuthService,\n        private localStorage: LocalStorageService,\n        public dialog: MatDialog,\n        private menu: MenuController) { }\n\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> | boolean {\n        if (route.url.join('/') === 'login') {\n            if (this.authService.isAuth()) {\n                this.router.navigate(['/home']);\n                return false;\n            } else {\n                this.http.get('../rest/authenticationInformations').pipe(\n                    map((data: any) => {\n                        this.authService.authMode = data.connection;\n                        this.authService.changeKey = data.changeKey;\n                        this.authService.coreUrl = data.coreUrl;\n                        this.localStorage.setAppSession(data.instanceId);\n                    })\n                ). subscribe();\n                return true;\n            }\n        } else {\n            this.menu.enable(true, 'left-menu');\n            this.menu.enable(false, 'right-menu');\n            let tokenInfo = this.authService.getToken();\n            if (tokenInfo !== null) {\n                if (this.authService.user.id === undefined) {\n                    const tokenData = JSON.parse(atob(tokenInfo.split('.')[1]));\n                    this.authService.user = tokenData.user;\n                    this.authService.authMode = tokenData.connection;\n                    this.translate.use(this.authService.user.preferences.lang);\n                    this.cookieService.set('maarchParapheurLang', this.authService.user.preferences.lang);\n\n                    this.setData();\n                }\n\n                return true;\n            } else {\n                return this.http.get('../rest/authenticationInformations')\n                    .pipe(\n                        map((data: any) => {\n                            this.authService.authMode = data.connection;\n                            this.authService.changeKey = data.changeKey;\n                            this.authService.coreUrl = data.coreUrl;\n                            this.localStorage.setAppSession(data.instanceId);\n                            tokenInfo = this.authService.getToken();\n\n                            if (tokenInfo !== null) {\n                                this.authService.user = JSON.parse(atob(tokenInfo.split('.')[1])).user;\n\n                                this.translate.use(this.authService.user.preferences.lang);\n                                this.cookieService.set('maarchParapheurLang', this.authService.user.preferences.lang);\n\n                                this.setData();\n\n                                if (this.authService.changeKey) {\n                                    this.dialog.open(AlertComponent, { autoFocus: false, disableClose: true, data: { mode: 'warning', title: 'lang.warnPrivateKeyTitle', msg: 'lang.warnPrivateKey' } });\n                                }\n                                return true;\n                            } else {\n                                this.authService.setCachedUrl(state.url.replace(/^\\//g, ''));\n                                this.authService.logout();\n                                return false;\n                            }\n                        })\n                    );\n            }\n        }\n\n    }\n\n    private setData() {\n        if (this.authService.signatureRoles.length === 0) {\n            this.http.get('../rest/signatureModes')\n                .subscribe((dataModes: any) => {\n                    this.authService.signatureRoles = [{\n                        'id': 'visa',\n                        'type': 'visa',\n                        'color': '#280d43'\n                    }];\n                    this.authService.signatureRoles = this.authService.signatureRoles.concat(dataModes.map((item: any) => ({\n                        ...item,\n                        type: 'sign'\n                    })));\n                });\n        }\n\n        if (this.signaturesService.signaturesList.length === 0) {\n            this.http.get('../rest/users/' + this.authService.user.id + '/signatures')\n                .subscribe((dataSign: any) => {\n                    this.signaturesService.signaturesList = dataSign.signatures;\n                });\n        }\n\n        if (this.authService.user.picture === undefined) {\n            this.http.get('../rest/users/' + this.authService.user.id + '/picture')\n                .subscribe((dataPic: any) => {\n                    this.authService.user.picture = dataPic.picture;\n                });\n        }\n    }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { AlertController, PopoverController } from '@ionic/angular';\nimport { NotificationService } from '../../../service/notification.service';\nimport { catchError, tap } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport { AuthService } from '../../../service/auth.service';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n    selector: 'app-visa-workflow-models',\n    templateUrl: 'visa-workflow-models.component.html',\n    styleUrls: ['visa-workflow-models.component.scss'],\n})\nexport class VisaWorkflowModelsComponent implements OnInit {\n\n    @Input() currentWorkflow: any[] = [];\n\n    visaWorkflowModels: any[] = [];\n\n    constructor(\n        public http: HttpClient,\n        private translate: TranslateService,\n        public popoverController: PopoverController,\n        public alertController: AlertController,\n        public notificationService: NotificationService,\n        public authService: AuthService\n    ) { }\n\n    ngOnInit(): void {\n        this.getVisaUserModels();\n    }\n\n    async createModel() {\n        const alert = await this.alertController.create({\n            header: this.translate.instant('lang.newTemplate'),\n            message: this.translate.instant('lang.newTemplateDesc'),\n            inputs: [\n                {\n                    name: 'title',\n                    type: 'text',\n                    placeholder: this.translate.instant('lang.label') + ' *',\n                },\n            ],\n            buttons: [\n                {\n                    text: this.translate.instant('lang.cancel'),\n                    role: 'cancel',\n                    handler: () => { }\n                }, {\n                    text: this.translate.instant('lang.validate'),\n                    handler: (data: any) => {\n                        if (data.title !== '') {\n                            this.saveModel(data.title);\n                            return true;\n                        } else {\n                            this.notificationService.error(this.translate.instant('lang.label') + ' ' + this.translate.instant('lang.mandatory'));\n                            return false;\n                        }\n                    }\n                }\n            ]\n        });\n\n        await alert.present();\n    }\n\n    saveModel(title: string) {\n        const objToSend: any = {\n            title: title,\n            items: this.currentWorkflow.map((item: any) => ({\n                userId: item.userId,\n                mode: this.authService.getWorkflowMode(item.role),\n                signatureMode: this.authService.getSignatureMode(item.role)\n            }))\n        };\n        this.http.post('../rest/workflowTemplates', objToSend).pipe(\n            tap((res: any) => {\n                this.notificationService.success('lang.modelCreated');\n                this.visaWorkflowModels.push({ id: res.id, title: title });\n            }),\n            catchError(err => {\n                this.notificationService.handleErrors(err);\n                return of(false);\n            })\n        ).subscribe();\n    }\n\n    async removeModel(model: any) {\n        const alert = await this.alertController.create({\n            header: this.translate.instant('lang.delete'),\n            message: this.translate.instant('lang.deleteTemplate'),\n            buttons: [\n                {\n                    text: this.translate.instant('lang.no'),\n                    role: 'cancel',\n                    handler: () => { }\n                }, {\n                    text: this.translate.instant('lang.yes'),\n                    handler: () => {\n                        this.http.delete(`../rest/workflowTemplates/${model.id}`).pipe(\n                            tap(() => {\n                                this.visaWorkflowModels = this.visaWorkflowModels.filter((item: any) => item.id !== model.id);\n                                this.notificationService.success(`Modèle ${model.title} supprimé`);\n                            }),\n                            catchError(err => {\n                                this.notificationService.handleErrors(err);\n                                return of(false);\n                            })\n                        ).subscribe();\n                    }\n                }\n            ]\n        });\n\n        await alert.present();\n    }\n\n    getVisaUserModels() {\n        this.http.get('../rest/workflowTemplates').pipe(\n            tap((data: any) => {\n                this.visaWorkflowModels = data.workflowTemplates;\n            }),\n            catchError(err => {\n                this.notificationService.handleErrors(err);\n                return of(false);\n            })\n        ).subscribe();\n    }\n\n    loadVisaWorkflow(model: any) {\n        this.http.get(`../rest/workflowTemplates/${model.id}`).pipe(\n            tap((data: any) => {\n                const workflows: any[] = data.workflowTemplate.items.map((item: any) => {\n                    const obj: any = {\n                        'userId': item.userId,\n                        'userDisplay': item.userLabel,\n                        'role': item.mode === 'visa' ? 'visa' : item.signatureMode,\n                        'processDate': null,\n                        'current': false,\n                        'modes': ['visa'].concat(item.userSignatureModes)\n                    };\n                    return obj;\n                });\n                this.popoverController.dismiss(workflows);\n            }),\n            catchError(err => {\n                this.notificationService.handleErrors(err);\n                return of(false);\n            })\n        ).subscribe();\n    }\n}\n","<ion-list lines=\"none\">\n    <ion-list-header>\n        <ion-label color=\"secondary\">{{'lang.circuitModels' | translate}}</ion-label>\n    </ion-list-header>\n    <ion-item button *ngFor=\"let model of visaWorkflowModels\" (click)=\"loadVisaWorkflow(model)\">\n        <ion-label>{{model.title}}</ion-label>\n        <ion-buttons slot=\"end\">\n            <ion-button fill=\"clear\" slot=\"icon-only\" shape=\"round\" color=\"danger\" (click)=\"$event.stopPropagation();removeModel(model)\">\n                <ion-icon slot=\"icon-only\" name=\"trash-outline\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n    </ion-item>\n    <ion-item button (click)=\"createModel()\" [disabled]=\"currentWorkflow.length === 0\">\n        <ion-icon color=\"primary\" slot=\"start\" name=\"add-circle-outline\"></ion-icon>\n        <ion-label color=\"primary\">{{'lang.newTemplate' | translate}}</ion-label>\n    </ion-item>\n</ion-list>","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from '../app/app.module';\nimport { environment } from './environments/environment';\n\n// import 'hammerjs';\n\nif (environment.production) {\n    enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n    .catch(err => console.log(err));\n","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ToastController } from '@ionic/angular';\n\n@Injectable()\nexport class NotificationService {\n\n    constructor(\n        private translate: TranslateService,\n        private router: Router,\n        public toastController: ToastController\n    ) { }\n\n    async success(message: string) {\n        const msg = message.includes('lang.') ? this.translate.instant(message) : message;\n        const toast = await this.toastController.create({\n            cssClass: 'notif-success',\n            duration: 3000,\n            message: msg,\n            position: 'top'\n        });\n        toast.present();\n    }\n\n    async error(message: string) {\n        const msg = message.includes('lang.') ? this.translate.instant(message) : message;\n        const toast = await this.toastController.create({\n            cssClass: 'notif-error',\n            duration: 3000,\n            message: msg,\n            position: 'top'\n        });\n        toast.present();\n    }\n\n    handleErrors(err: any) {\n        console.log(err);\n        if (err.status === 0 && err.statusText === 'Unknown Error') {\n            this.error('lang.connectionServerFailed');\n        } else {\n            if (err.error.errors !== undefined) {\n                if (err.error.lang !== undefined) {\n                    this.error('lang.' + err.error.lang);\n                } else {\n                    this.error(err.error.errors);\n                }\n                if (err.status === 403 || err.status === 404) {\n                    this.router.navigate(['/home']);\n                }\n            } else if (err.error.exception !== undefined) {\n                this.error(err.error.exception[0].message);\n            } else if (err.error.error !== undefined && err.error.error.message !== undefined) {\n                this.error(err.error.error.message);\n            } else if (err.error.error[0] !== undefined) {\n                this.error(err.error.error[0].message);\n            } else {\n                this.error(err.message);\n            }\n        }\n    }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { MatDialog } from '@angular/material/dialog';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AlertController } from '@ionic/angular';\nimport { NotificationService } from '../../service/notification.service';\nimport { finalize, tap } from 'rxjs/operators';\n\n@Component({\n    selector: 'app-check-email-connection',\n    templateUrl: 'check-email-connection.component.html',\n    styleUrls: ['check-email-connection.component.scss'],\n})\n\nexport class CheckEmailConnectionComponent implements OnInit {\n\n    @Input() profileInfo: any;\n    @Input() sendmailFrom: any;\n    @Input() recipientTest: any;\n\n    emailSendLoading: boolean = false;\n    emailSendResult = {\n        icon: '',\n        msg: '',\n        debug: '',\n        error: false\n    };\n\n    constructor(\n        public http: HttpClient,\n        private translate: TranslateService,\n        public dialog: MatDialog,\n        public notificationService: NotificationService,\n        public alertController: AlertController\n    ) { }\n\n    ngOnInit(): void {\n    }\n\n\n    testEmailSend() {\n        this.emailSendResult = {\n            icon: 'paper-plane-outline',\n            msg: 'lang.emailSendInProgress',\n            debug: '',\n            error: false\n        };\n        const email = {\n            'sender': this.sendmailFrom,\n            'recipients': [this.recipientTest],\n            'subject': '[' + this.translate.instant('lang.doNotReply') + '] ' + this.translate.instant('lang.emailSendTest'),\n            'status': 'EXPRESS',\n            'body': this.translate.instant('lang.emailSendTest'),\n            'isHtml': false\n        };\n        this.emailSendLoading = true;\n\n        this.http.post('../rest/emails', email)\n            .pipe(\n                tap((data: any) => {\n                    if (data.isSent) {\n                        this.emailSendResult = {\n                            icon: 'checkmark-outline',\n                            msg: 'lang.emailSendSuccess',\n                            debug: '',\n                            error: false\n                        };\n                    } else {\n                        this.emailSendResult = {\n                            icon: 'close-outline',\n                            msg: 'lang.emailSendFailed',\n                            debug: data.informations,\n                            error: true\n                        };\n                    }\n                }),\n                finalize(() => this.emailSendLoading = false)\n            ).subscribe();\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n        <ion-title>{{'lang.emailSendTest' | translate}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<form style=\"display: contents;\" (ngSubmit)=\"testEmailSend()\" #adminTestForm=\"ngForm\">\n    <ion-content #mainContent>\n        <ion-item>\n            <ion-label color=\"secondary\" position=\"floating\">{{'lang.mailTo' | translate}} *</ion-label>\n            <ion-input name=\"recipientTest\" [(ngModel)]=\"recipientTest\" required [disabled]=\"emailSendLoading\"\n                pattern=\"(^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$)\">\n            </ion-input>\n        </ion-item>\n        <ion-item *ngIf=\"emailSendResult.msg != ''\">\n            <ion-icon slot=\"start\" [color]=\"emailSendResult.icon === 'close-outline' ? 'danger' : 'primary'\" [name]=\"emailSendResult.icon\">\n            </ion-icon>\n            <ion-label [color]=\"emailSendResult.icon === 'close-outline' ? 'danger' : 'primary'\">{{emailSendResult.msg | translate}}</ion-label>\n        </ion-item>\n        <div *ngIf=\"emailSendResult.error\" class=\"bash\">\n            {{this.emailSendResult.debug}}\n        </div>\n    </ion-content>\n    <ion-footer class=\"ion-no-border\">\n        <ion-toolbar>\n            <ion-buttons class=\"ion-justify-content-center\">\n                <ion-button type=\"submit\" color=\"primary\" [disabled]=\"!adminTestForm.form.valid || emailSendLoading\">\n                    <ion-label>{{'lang.connectionTest' | translate}}</ion-label>\n                </ion-button>\n            </ion-buttons>\n        </ion-toolbar>\n    </ion-footer>\n</form>","import { Component, OnInit } from '@angular/core';\nimport { SignaturesContentService } from '../../service/signatures.service';\nimport { NotificationService } from '../../service/notification.service';\nimport { HttpClient } from '@angular/common/http';\nimport { MatDialog } from '@angular/material/dialog';\nimport { map, finalize } from 'rxjs/operators';\nimport { ActivatedRoute } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AuthService } from '../../service/auth.service';\nimport { CheckEmailConnectionComponent } from './check-email-connection.component';\nimport { ModalController } from '@ionic/angular';\n\n\nexport interface Sendmail {\n\n    auth: boolean;\n    from: string;\n    host: string;\n    port: number;\n    type: string;\n    user: string;\n    secure: string;\n    charset: string;\n    password: string;\n    passwordAlreadyExists: boolean;\n}\n\n@Component({\n    selector: 'app-administration-sendmail',\n    templateUrl: 'sendmail.component.html',\n    styleUrls: ['sendmail.component.scss'],\n})\n\nexport class SendmailComponent implements OnInit {\n\n    loading: boolean = true;\n    sendmail: Sendmail;\n    sendmailClone: Sendmail;\n    title: string = '';\n    passwordLanguage: string = '';\n    hidePassword: boolean = true;\n    sendmailLabel: string;\n\n    smtpTypeList = [\n        {\n            id: 'smtp',\n            label: 'lang.smtpclient'\n        },\n        {\n            id: 'sendmail',\n            label: 'lang.smtprelay'\n        },\n        {\n            id: 'qmail',\n            label: 'lang.qmail'\n        },\n        {\n            id: 'mail',\n            label: 'lang.phpmail'\n        }\n    ];\n    smtpSecList = [\n        {\n            id: '',\n            label: 'lang.none'\n        },\n        {\n            id: 'ssl',\n            label: 'ssl'\n        },\n        {\n            id: 'tls',\n            label: 'tls'\n        }\n    ];\n\n    constructor(\n        public http: HttpClient,\n        private translate: TranslateService,\n        private route: ActivatedRoute,\n        public signaturesService: SignaturesContentService,\n        public notificationService: NotificationService,\n        public dialog: MatDialog,\n        public authService: AuthService,\n        public modalController: ModalController\n    ) {\n    }\n\n    ngOnInit(): void {\n        this.route.params.subscribe(() => {\n            this.http.get('../rest/configurations/1')\n                .pipe(\n                    map((data: any) => data.configuration),\n                    finalize(() => this.loading = false)\n                )\n                .subscribe({\n                    next: data => {\n                        this.sendmail = data.value;\n                        this.sendmailLabel = data.label;\n                        this.sendmailClone = JSON.parse(JSON.stringify(this.sendmail));\n                        this.title = this.translate.instant('lang.manage_email_configuration');\n                        if (this.sendmail.passwordAlreadyExists) {\n                            this.passwordLanguage = this.translate.instant('lang.passwordModification');\n                        } else {\n                            this.passwordLanguage = this.translate.instant('lang.password');\n                        }\n                    },\n                });\n        });\n    }\n\n    canValidate() {\n        return JSON.stringify(this.sendmail) !== JSON.stringify(this.sendmailClone);\n    }\n\n    onSubmit() {\n        this.loading = true;\n        this.http.patch('../rest/configurations/1', { 'value': this.sendmail, 'label': this.sendmailLabel })\n            .pipe(\n                finalize(() => this.loading = false)\n            )\n            .subscribe({\n                next: () => {\n                    this.sendmailClone = JSON.parse(JSON.stringify(this.sendmail));\n                    this.notificationService.success('lang.emailConfigurationUpdated');\n                },\n            });\n    }\n\n    cleanAuthInfo() {\n        this.sendmail.passwordAlreadyExists = false;\n        this.sendmail.user = '';\n        this.sendmail.password = '';\n    }\n\n    async checkConnection(ev: any) {\n        const profileInfo = JSON.parse(JSON.stringify(this.authService.user));\n        if (JSON.stringify(this.sendmailClone) !== JSON.stringify(this.sendmail)) {\n            this.onSubmit();\n        }\n        const modal = await this.modalController.create({\n            component: CheckEmailConnectionComponent,\n            componentProps: {\n                'sendmailFrom': this.sendmail.from,\n                'recipientTest': profileInfo.email\n            }\n        });\n        await modal.present();\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-menu-button menu=\"left-menu\"></ion-menu-button>\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n        <ion-title>{{title}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<form *ngIf=\"!loading\" style=\"display: contents;\" id=\"sendmailForm\" (ngSubmit)=\"onSubmit()\" #sendmailForm=\"ngForm\">\n    <ion-content>\n        <ion-item>\n            <ion-label color=\"secondary\" position=\"floating\">{{'lang.configurationType' | translate}} *</ion-label>\n            <ion-select name=\"smtpType\" [(ngModel)]=\"sendmail.type\" interface=\"popover\" required>\n                <ion-select-option *ngFor=\"let type of smtpTypeList\" [value]=\"type.id\">{{type.label | translate}}\n                </ion-select-option>\n            </ion-select>\n        </ion-item>\n        <ion-grid>\n            <ion-row>\n                <ion-col size=\"2\">\n                    <ion-item>\n                        <ion-label color=\"secondary\" position=\"floating\">{{'lang.smtpAuth' | translate}} *\n                        </ion-label>\n                        <ion-select name=\"SMTPSecure\" [disabled]=\"sendmail.type != 'smtp'\"\n                            [(ngModel)]=\"sendmail.secure\" [value]=\"sendmail.secure\" interface=\"popover\" required>\n                            <ion-select-option *ngFor=\"let security of smtpSecList\" [value]=\"security.id\">\n                                {{security.label | translate}}\n                            </ion-select-option>\n                        </ion-select>\n                    </ion-item>\n                </ion-col>\n                <ion-col size=\"8\">\n                    <ion-item>\n                        <ion-label color=\"secondary\" position=\"floating\">{{'lang.host' | translate}} *</ion-label>\n                        <ion-input name=\"host\" [disabled]=\"sendmail.type != 'smtp'\"\n                            [(ngModel)]=\"sendmail.host\" required>\n                        </ion-input>\n                    </ion-item>\n                </ion-col>\n                <ion-col size=\"2\">\n                    <ion-item>\n                        <ion-label color=\"secondary\" position=\"floating\">{{'lang.port' | translate}} *</ion-label>\n                        <ion-input type=\"number\" name=\"port\" [disabled]=\"sendmail.type != 'smtp'\"\n                            [(ngModel)]=\"sendmail.port\" required>\n                        </ion-input>\n                    </ion-item>\n                </ion-col>\n            </ion-row>\n        </ion-grid>\n        <ion-item>\n            <ion-toggle name=\"SMTPAuth\" [(ngModel)]=\"sendmail.auth\" [checked]=\"sendmail.auth\"\n                [disabled]=\"sendmail.type != 'smtp'\" (ngModelChange)=\"cleanAuthInfo()\">\n            </ion-toggle>\n            <ion-label>{{'lang.enableAuth' | translate}}</ion-label>\n        </ion-item>\n        <ion-item>\n            <ion-label color=\"secondary\" position=\"floating\">{{'lang.id' | translate}} *</ion-label>\n            <ion-input name=\"user\" [(ngModel)]=\"sendmail.user\"\n                [disabled]=\"!sendmail.auth || sendmail.type != 'smtp'\" required>\n            </ion-input>\n        </ion-item>\n        <ion-item style=\"align-items: center;\">\n            <ion-button slot=\"end\" fill=\"clear\" color=\"primary\" (click)=\"hidePassword = !hidePassword\">\n                <ion-icon color=\"primary\" [name]=\"hidePassword ? 'eye-outline' : 'eye-off-outline'\">\n                </ion-icon>\n            </ion-button>\n            <ion-label color=\"secondary\" position=\"floating\">{{passwordLanguage}}\n                {{!sendmail.passwordAlreadyExists ? '*' : ''}}</ion-label>\n            <ion-input name=\"password\" [type]=\"hidePassword ? 'password' : 'text'\" [(ngModel)]=\"sendmail.password\"\n                [disabled]=\"!sendmail.auth || sendmail.type != 'smtp'\"\n                [required]=\"!sendmail.passwordAlreadyExists\">\n            </ion-input>\n        </ion-item>\n        <ion-item>\n            <ion-label color=\"secondary\" position=\"floating\">{{'lang.mailFrom' | translate}}</ion-label>\n            <ion-input name=\"mailFrom\" [(ngModel)]=\"sendmail.from\"\n                [disabled]=\"sendmail.type != 'smtp'\"\n                pattern=\"(^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$)\">\n            </ion-input>\n        </ion-item>\n        <ion-item text-center lines=\"none\" style=\"position: sticky;bottom:0px;z-index:1;\">\n            <div style=\"display: flex;align-items: center;justify-content: center;width: 100%;background: white;\">\n                <ion-button type=\"button\" shape=\"round\" size=\"large\" fill=\"outline\" color=\"medium\"\n                    (click)=\"checkConnection()\">\n                    <ion-label style=\"font-size: 13px;\">{{'lang.connectionTest' | translate}}</ion-label>\n                </ion-button>\n                <ion-button type=\"submit\" shape=\"round\" size=\"large\" fill=\"outline\" color=\"primary\"\n                    [disabled]=\"!sendmailForm.form.valid || !canValidate()\">\n                    <ion-label style=\"font-size: 13px;\">{{'lang.validate' | translate}}</ion-label>\n                </ion-button>\n            </div>\n        </ion-item>\n    </ion-content>\n</form>","import { Component, ViewEncapsulation } from '@angular/core';\nimport { CookieService } from 'ngx-cookie-service';\nimport { SignaturesContentService } from './service/signatures.service';\nimport { HttpClient } from '@angular/common/http';\nimport { NotificationService } from './service/notification.service';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatIconRegistry } from '@angular/material/icon';\nimport { AuthService } from './service/auth.service';\nimport { MenuController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { environment } from '../core/environments/environment';\nimport { Platform } from '@ionic/angular';\n@Component({\n    selector: 'app-root',\n    templateUrl: 'app.component.html',\n    encapsulation: ViewEncapsulation.None,\n    styleUrls: ['app.component.scss']\n})\n\nexport class AppComponent {\n    isPortrait: boolean;\n    debugMode: boolean;\n    showLeftContent: boolean = false;\n    showRightContent: boolean = false;\n    constructor(private translate: TranslateService,\n        public http: HttpClient,\n        public signaturesService: SignaturesContentService,\n        public sanitizer: DomSanitizer,\n        private cookieService: CookieService,\n        public notificationService: NotificationService,\n        public dialog: MatDialog, iconReg: MatIconRegistry,\n        public authService: AuthService,\n        private menu: MenuController,\n        public router: Router,\n        public platform: Platform\n    ) {\n        iconReg.addSvgIcon('maarchLogo', sanitizer.bypassSecurityTrustResourceUrl('../src/frontend/assets/logo_white.svg'));\n\n        if (this.cookieService.check('maarchParapheurLang')) {\n            const cookieInfoLang = this.cookieService.get('maarchParapheurLang');\n            translate.setDefaultLang(cookieInfoLang);\n        } else {\n            this.cookieService.set('maarchParapheurLang', 'fr');\n            translate.setDefaultLang('fr');\n        }\n        if (!environment.production) {\n            this.debugMode = true;\n        }\n\n    }\n\n    test() {\n        return true;\n    }\n\n    allowedRoute() {\n        const route = this.router.url.split('?')[0];\n\n        return ['/', '/login', '/forgot-password', '/update-password', '/password-modification'].indexOf(route) === -1;\n    }\n}\n","<ion-app>\n    <ion-split-pane contentId=\"main-content\">\n      <ion-menu class=\"left-menu\" #leftMenu menuId=\"left-menu\" contentId=\"main-content\" type=\"overlay\" disabled (ionDidOpen)=\"showLeftContent=true\"\n      (ionDidClose)=\"showLeftContent=false\">\n        <app-sidebar *ngIf=\"allowedRoute()\" style=\"display: contents;\"></app-sidebar>\n        <div id=\"leftContent\" style=\"display: contents;\"></div>\n      </ion-menu>\n      <ion-router-outlet id=\"main-content\"></ion-router-outlet>\n      <ion-menu [ngClass]=\"[!signaturesService.mobileMode ? 'right-menu' : 'right-menu-responsive']\" #rightMenu menuId=\"right-menu\" contentId=\"main-content\" side=\"end\" type=\"overlay\" disabled (ionDidOpen)=\"showRightContent=true\"\n      (ionDidClose)=\"showRightContent=false\">\n          <div id=\"rightContent\" style=\"display: contents;\"></div>\n      </ion-menu>\n    </ion-split-pane>\n  </ion-app>\n  <app-dev-tool *ngIf=\"debugMode && authService.isAuth()\"></app-dev-tool>","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { SignaturesContentService } from '../../../service/signatures.service';\nimport { NotificationService } from '../../../service/notification.service';\nimport { HttpClient } from '@angular/common/http';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSidenav } from '@angular/material/sidenav';\nimport { map, finalize } from 'rxjs/operators';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ConfirmComponent } from '../../../plugins/confirm.component';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AuthService } from '../../../service/auth.service';\nimport { ModalController } from '@ionic/angular';\nimport { CheckConnectionComponent } from './check-connection.component';\n\n\nexport interface Ldap {\n    id: number;\n    label: string;\n    identifier: string;\n    value: {\n        uri: string;\n        ssl: boolean;\n        prefix: string;\n        suffix: string;\n        baseDN: string;\n    };\n}\n\n@Component({\n    selector: 'app-administration-ldap',\n    templateUrl: 'ldap.component.html',\n    styleUrls: ['../../administration.scss', 'ldap.component.scss'],\n})\n\nexport class LdapComponent implements OnInit {\n\n    creationMode: boolean = true;\n    loading: boolean = true;\n    loadingTest: boolean = false;\n    ldapTest: any = {\n        login: '',\n        password: '',\n        result: ''\n    };\n    ldap: Ldap = {\n        id: 0,\n        label: '',\n        identifier: 'ldapServer',\n        value: {\n            uri: '',\n            ssl: false,\n            prefix: '',\n            suffix: '',\n            baseDN: '',\n        }\n    };\n    ldapClone: Ldap;\n    title: string = '';\n\n    constructor(\n        public http: HttpClient,\n        private translate: TranslateService,\n        private route: ActivatedRoute,\n        private router: Router,\n        public signaturesService: SignaturesContentService,\n        public notificationService: NotificationService,\n        public dialog: MatDialog,\n        public authService: AuthService,\n        public modalController: ModalController,\n    ) {\n    }\n\n    ngOnInit(): void {\n        this.ldapTest.login = this.authService.user.login;\n\n        this.route.params.subscribe((params: any) => {\n            if (params['id'] === undefined) {\n                this.creationMode = true;\n                this.title = this.translate.instant('lang.ldapCreation');\n                this.loading = false;\n            } else {\n                this.creationMode = false;\n                this.http.get('../rest/configurations/' + params['id'])\n                    .pipe(\n                        map((data: any) => data.configuration),\n                        finalize(() => this.loading = false)\n                    )\n                    .subscribe({\n                        next: (data: any) => {\n                            this.ldap = data;\n                            this.ldapClone = JSON.parse(JSON.stringify(this.ldap));\n                            this.title = this.ldap.label;\n                        },\n                    });\n            }\n        });\n    }\n\n    canValidate() {\n        if (JSON.stringify(this.ldap) === JSON.stringify(this.ldapClone)) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    onSubmit() {\n        if (this.creationMode) {\n            this.createLdap();\n        } else {\n            this.modifyLdap();\n        }\n    }\n\n    modifyLdap() {\n        this.loading = true;\n        this.http.patch('../rest/configurations/' + this.ldap.id, this.ldap)\n            .pipe(\n                finalize(() => this.loading = false)\n            )\n            .subscribe({\n                next: () => {\n                    this.router.navigate(['/administration/connections/ldaps']);\n                    this.notificationService.success('lang.ldapUpdated');\n                },\n            });\n    }\n\n    createLdap() {\n        this.loading = true;\n        this.http.post('../rest/configurations', this.ldap)\n            .pipe(\n                finalize(() => this.loading = false)\n            )\n            .subscribe({\n                next: () => {\n                    this.router.navigate(['/administration/connections/ldaps']);\n                    this.notificationService.success('lang.ldapAdded');\n                },\n            });\n    }\n\n    delete() {\n        const dialogRef = this.dialog.open(ConfirmComponent, { autoFocus: false, data: { mode: '', title: 'lang.confirmMsg', msg: '' } });\n\n        dialogRef.afterClosed().subscribe(result => {\n            if (result === 'yes') {\n                this.loading = true;\n                this.http.delete('../rest/configurations/' + this.ldap.id)\n                    .pipe(\n                        finalize(() => this.loading = false)\n                    )\n                    .subscribe({\n                        next: () => {\n                            this.router.navigate(['/administration/connections/ldaps']);\n                            this.notificationService.success('lang.ldapDeleted');\n\n                        },\n                    });\n            }\n        });\n    }\n\n    cancel() {\n        this.router.navigate(['/administration/connections/ldaps']);\n    }\n\n    async checkConnection(ev: any) {\n        const modal = await this.modalController.create({\n            component: CheckConnectionComponent,\n            componentProps: {\n                'ldapTest': this.ldapTest,\n                'ldap': this.ldap,\n                'canValidate': this.canValidate()\n            }\n        });\n        await modal.present();\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-menu-button menu=\"left-menu\"></ion-menu-button>\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n        <ion-title>{{title}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<form style=\"display: contents;\" id=\"adminForm\" (ngSubmit)=\"onSubmit()\" #adminForm=\"ngForm\">\n    <ion-content>\n        <ion-item>\n            <ion-label color=\"secondary\" position=\"floating\">{{'lang.label' | translate}} *</ion-label>\n            <ion-input name=\"label\" [(ngModel)]=\"ldap.label\" required>\n            </ion-input>\n        </ion-item>\n        <ion-item>\n            <ion-label color=\"secondary\" position=\"floating\">{{'lang.uri' | translate}} *</ion-label>\n            <ion-input name=\"uri\" [(ngModel)]=\"ldap.value.uri\" required>\n            </ion-input>\n        </ion-item>\n        <ion-item>\n            <ion-label color=\"secondary\" position=\"floating\">{{'lang.baseDN' | translate}}</ion-label>\n            <ion-input name=\"baseDN\" [(ngModel)]=\"ldap.value.baseDN\">\n            </ion-input>\n            <ion-note>ex: dc=maarch,dc=com</ion-note>\n        </ion-item>\n        <ion-item>\n            <ion-label color=\"secondary\" position=\"floating\">{{'lang.prefix' | translate}}</ion-label>\n            <ion-input name=\"prefix\" [(ngModel)]=\"ldap.value.prefix\">\n            </ion-input>\n            <ion-note>ex: MAARCH</ion-note>\n        </ion-item>\n        <ion-item>\n            <ion-label color=\"secondary\" position=\"floating\">{{'lang.suffix' | translate}}</ion-label>\n            <ion-input name=\"suffix\" [(ngModel)]=\"ldap.value.suffix\">\n            </ion-input>\n            <ion-note>ex: @maarch.com</ion-note>\n        </ion-item>\n        <ion-item text-center lines=\"none\" style=\"position: sticky;bottom:0px;z-index:1;\">\n            <div style=\"display: flex;align-items: center;justify-content: center;width: 100%;background: white;\">\n                <ion-button type=\"submit\" shape=\"round\" size=\"large\" fill=\"outline\" color=\"primary\"\n                    [disabled]=\"!adminForm.form.valid || !canValidate()\">\n                    <ion-label style=\"font-size: 13px;\">{{'lang.validate' | translate}}</ion-label>\n                </ion-button>\n                <ion-button *ngIf=\"!creationMode\"\n                    type=\"button\" shape=\"round\" size=\"large\" fill=\"outline\" color=\"medium\" (click)=\"checkConnection()\">\n                    <ion-label style=\"font-size: 13px;\">{{'lang.connectionTest' | translate}}</ion-label>\n                </ion-button>\n                <ion-button *ngIf=\"!creationMode\" [disabled]=\"authService.authMode==='ldap' && ldap.count === 1\"\n                    type=\"button\" shape=\"round\" size=\"large\" fill=\"outline\" color=\"danger\" (click)=\"delete()\">\n                    <ion-label style=\"font-size: 13px;\">{{'lang.delete' | translate}}</ion-label>\n                </ion-button>\n            </div>\n        </ion-item>\n    </ion-content>\n</form>","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { MenuController } from '@ionic/angular';\nimport { AuthService } from '../../service/auth.service';\n\nexport interface Privilege {\n    id: string;\n    icon: string;\n    route: string;\n}\n\n@Component({\n    selector: 'app-admin-sidebar',\n    templateUrl: 'admin-sidebar.component.html',\n    styleUrls: ['admin-sidebar.component.scss']\n})\nexport class AdminSidebarComponent implements OnInit {\n\n    loading: boolean = true;\n    privileges: Privilege[] = [];\n\n    constructor(\n        private route: ActivatedRoute,\n        private router: Router,\n        public authService: AuthService,\n        public menu: MenuController\n    ) {\n    }\n\n    ngOnInit() { }\n\n    openHome() {\n        this.router.navigate(['/documents/']);\n    }\n\n    isActiveRoute(route: string) {\n        return this.router.url.split('/').indexOf(route.replace('/administration/', '')) > -1;\n    }\n}\n","<ion-header>\n  <ion-toolbar color=\"light\">\n      <ion-title style=\"text-align: center;font-size: 14px;\">\n          {{'lang.administration' | translate}}\n      </ion-title>\n  </ion-toolbar>\n</ion-header>\n<ion-content>\n  <ion-list>\n    <ion-item *ngFor=\"let privilege of authService.user.administrativePrivileges\" [routerLink]=\"privilege.route\" routerDirection=\"root\" [class.item-active]=\"isActiveRoute(privilege.route)\" (click)=\"menu.close('left-menu')\">\n      <ion-icon slot=\"start\" [name]=\"privilege.icon\" color=\"primary\"></ion-icon>\n      <ion-label>{{'lang.' + privilege.id | translate}}</ion-label>\n    </ion-item>\n  </ion-list>\n</ion-content>","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport {TranslateService} from '@ngx-translate/core';\nimport {NotificationService} from '../../service/notification.service';\nimport {SignaturesContentService} from '../../service/signatures.service';\n\n@Component({\n    templateUrl: 'securities-administration.component.html',\n})\nexport class SecuritiesAdministrationComponent implements OnInit {\n\n    loading: boolean = false;\n\n    passwordRules: any = {\n        minLength: { enabled: false, value: 0 },\n        complexityUpper: { enabled: false, value: 0 },\n        complexityNumber: { enabled: false, value: 0 },\n        complexitySpecial: { enabled: false, value: 0 },\n        renewal: { enabled: false, value: 0 },\n        historyLastUse: { enabled: false, value: 0 },\n        lockTime: { enabled: false, value: 0 },\n        lockAttempts: { enabled: false, value: 0 },\n    };\n    passwordRulesClone: any = {};\n\n    passwordRulesList: any[] = [];\n\n\n    constructor(\n        public http: HttpClient,\n        private translate: TranslateService,\n        private notify: NotificationService,\n        public signaturesService: SignaturesContentService\n    ) { }\n\n    ngOnInit(): void {\n        this.loading = true;\n\n        this.http.get('../rest/passwordRules')\n            .subscribe((data: any) => {\n                this.passwordRulesList = data.rules;\n\n                data.rules.forEach((rule: any) => {\n                    this.passwordRules[rule.label].enabled = rule.enabled;\n                    this.passwordRules[rule.label].value = rule.value;\n                    this.passwordRules[rule.label].label = this.translate.instant('lang.password_' + rule.label + 'Required');\n                    this.passwordRules[rule.label].id = rule.label;\n\n                    this.loading = false;\n                });\n\n                this.passwordRulesClone = JSON.parse(JSON.stringify(this.passwordRules));\n\n            }, (err) => {\n                this.notify.error(err.error.errors);\n            });\n    }\n\n    cancelModification() {\n        this.passwordRules = JSON.parse(JSON.stringify(this.passwordRulesClone));\n        this.passwordRulesList.forEach((rule: any) => {\n            rule.enabled = this.passwordRules[rule.label].enabled;\n            rule.value = this.passwordRules[rule.label].value;\n        });\n    }\n\n    checkModif() {\n        return JSON.stringify(this.passwordRules) === JSON.stringify(this.passwordRulesClone);\n    }\n\n    disabledForm() {\n        return !this.passwordRules['lockTime'].enabled && !this.passwordRules['minLength'].enabled && !this.passwordRules['lockAttempts'].enabled && !this.passwordRules['renewal'].enabled && !this.passwordRules['historyLastUse'].enabled;\n    }\n\n    toggleRule(rule: any) {\n        this.passwordRulesList.forEach((rule2: any) => {\n            if (rule.id === 'lockAttempts' && (rule2.label === 'lockTime' || rule2.label === 'lockAttempts')) {\n                rule2.enabled = rule.enabled;\n                this.passwordRules['lockTime'].enabled = rule.enabled;\n            } else if (rule.id === rule2.label) {\n                rule2.enabled = rule.enabled;\n            }\n        });\n    }\n\n    onSubmit() {\n        this.passwordRulesList.forEach((rule: any) => {\n            rule.enabled = this.passwordRules[rule.label].enabled;\n            rule.value = this.passwordRules[rule.label].value;\n        });\n        this.http.put('../rest/passwordRules', { rules: this.passwordRulesList })\n            .subscribe(() => {\n                this.passwordRulesClone = JSON.parse(JSON.stringify(this.passwordRules));\n                this.notify.success('lang.passwordRulesUpdated');\n            }, (err: any) => {\n                this.notify.error(err.error.errors);\n            });\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-menu-button menu=\"left-menu\"></ion-menu-button>\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n        <ion-title>{{'lang.manage_password_rules' | translate}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<form style=\"display: contents;\" id=\"passwordForm\" (ngSubmit)=\"onSubmit()\" #passwordForm=\"ngForm\">\n    <ion-content>\n        <ion-row>\n            <ion-col>\n                <ion-item>\n                    <ion-label color=\"secondary\">{{passwordRules['complexityUpper'].label}}</ion-label>\n                    <ion-toggle slot=\"start\" name=\"complexityUpper\"\n                        [(ngModel)]=\"passwordRules['complexityUpper'].enabled\"\n                        (ngModelChange)=\"toggleRule(passwordRules['complexityUpper'])\"\n                        [checked]=\"passwordRules['complexityUpper'].enabled\"></ion-toggle>\n                </ion-item>\n            </ion-col>\n            <ion-col>\n                <ion-item>\n                    <ion-label color=\"secondary\">{{passwordRules['complexityNumber'].label}}</ion-label>\n                    <ion-toggle slot=\"start\" name=\"complexityNumber\"\n                        [(ngModel)]=\"passwordRules['complexityNumber'].enabled\"\n                        (ngModelChange)=\"toggleRule(passwordRules['complexityNumber'])\"\n                        [checked]=\"passwordRules['complexityNumber'].enabled\"></ion-toggle>\n                </ion-item>\n            </ion-col>\n            <ion-col>\n                <ion-item>\n                    <ion-label color=\"secondary\">{{passwordRules['complexitySpecial'].label}}</ion-label>\n                    <ion-toggle slot=\"start\" name=\"complexitySpecial\"\n                        [(ngModel)]=\"passwordRules['complexitySpecial'].enabled\"\n                        (ngModelChange)=\"toggleRule(passwordRules['complexitySpecial'])\"\n                        [checked]=\"passwordRules['complexitySpecial'].enabled\"></ion-toggle>\n                </ion-item>\n            </ion-col>\n        </ion-row>\n        <ion-item>\n            <ion-toggle slot=\"start\" name=\"minLengthToggle\" [(ngModel)]=\"passwordRules['minLength'].enabled\"\n                (ngModelChange)=\"toggleRule(passwordRules['minLength'])\" [checked]=\"passwordRules['minLength'].enabled\">\n            </ion-toggle>\n            <ion-label color=\"secondary\" position=\"floating\">{{passwordRules['minLength'].label}}</ion-label>\n            <ion-input [disabled]=\"!passwordRules['minLength'].enabled\" name=\"minLength\"\n                [(ngModel)]=\"passwordRules['minLength'].value\" min=\"1\" pattern=\"^[1-9][0-9]*\"></ion-input>\n            <ion-note slot=\"end\">{{'lang.chars' | translate}}</ion-note>\n        </ion-item>\n        <ion-row>\n            <ion-col>\n                <ion-item>\n                    <ion-toggle slot=\"start\" name=\"lockAttemptsToggle\"\n                        [(ngModel)]=\"passwordRules['lockAttempts'].enabled\"\n                        (ngModelChange)=\"toggleRule(passwordRules['lockAttempts'])\"\n                        [checked]=\"passwordRules['lockAttempts'].enabled\"></ion-toggle>\n                    <ion-label color=\"secondary\" position=\"floating\">{{passwordRules['lockAttempts'].label}}</ion-label>\n                    <ion-input [disabled]=\"!passwordRules['lockAttempts'].enabled\" name=\"lockAttempts\"\n                        [(ngModel)]=\"passwordRules['lockAttempts'].value\" min=\"1\" pattern=\"^[1-9][0-9]*\"></ion-input>\n                </ion-item>\n            </ion-col>\n            <ion-col>\n                <ion-item>\n                    <ion-label color=\"secondary\" position=\"floating\">{{passwordRules['lockTime'].label}}</ion-label>\n                    <ion-input [disabled]=\"!passwordRules['lockTime'].enabled\" name=\"lockTime\"\n                        [(ngModel)]=\"passwordRules['lockTime'].value\" min=\"1\" pattern=\"^[1-9][0-9]*\"></ion-input>\n                    <ion-note slot=\"end\">{{'lang.minutes' | translate}}</ion-note>\n                </ion-item>\n            </ion-col>\n        </ion-row>\n        <ion-item>\n            <ion-toggle slot=\"start\" name=\"renewalToggle\" [(ngModel)]=\"passwordRules['renewal'].enabled\"\n                (ngModelChange)=\"toggleRule(passwordRules['renewal'])\" [checked]=\"passwordRules['renewal'].enabled\">\n            </ion-toggle>\n            <ion-label color=\"secondary\" position=\"floating\">{{passwordRules['renewal'].label}}</ion-label>\n            <ion-input [disabled]=\"!passwordRules['renewal'].enabled\" name=\"renewal\"\n                [(ngModel)]=\"passwordRules['renewal'].value\" min=\"1\" pattern=\"^[1-9][0-9]*\"></ion-input>\n            <ion-note slot=\"end\">{{'lang.days' | translate}}</ion-note>\n        </ion-item>\n        <ion-item>\n            <ion-toggle slot=\"start\" name=\"historyLastUseToggle\" [(ngModel)]=\"passwordRules['historyLastUse'].enabled\"\n                (ngModelChange)=\"toggleRule(passwordRules['historyLastUse'])\"\n                [checked]=\"passwordRules['historyLastUse'].enabled\"></ion-toggle>\n            <ion-label color=\"secondary\" position=\"floating\">{{passwordRules['historyLastUse'].label}}</ion-label>\n            <ion-input [disabled]=\"!passwordRules['historyLastUse'].enabled\" name=\"historyLastUse\"\n                [(ngModel)]=\"passwordRules['historyLastUse'].value\" min=\"1\" pattern=\"^[1-9][0-9]*\"></ion-input>\n        </ion-item>\n        <ion-item text-center lines=\"none\" style=\"position: sticky;bottom:0px;z-index:1;\">\n            <div style=\"display: flex;align-items: center;justify-content: center;width: 100%;background: white;\">\n                <ion-button type=\"submit\" shape=\"round\" size=\"large\" fill=\"outline\" color=\"primary\"\n                    [disabled]=\"(!passwordForm.valid && !disabledForm()) || checkModif()\">\n                    <ion-label style=\"font-size: 13px;\">{{'lang.validate' | translate}}</ion-label>\n                </ion-button>\n            </div>\n        </ion-item>\n    </ion-content>\n</form>","import { Component, Input, OnInit, Output, EventEmitter, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n    selector: 'app-associated-documents',\n    templateUrl: 'associated-documents.component.html',\n    styleUrls: ['associated-documents.component.scss'],\n})\nexport class AssociatedDocumentsComponent implements OnInit {\n\n    @Input() associatedDocuments: any;\n\n    constructor(\n        public router: Router\n    ) { }\n\n    ngOnInit(): void {\n    }\n\n    goTo(id: number) {\n        this.router.navigate([`/documents/${id}`]);\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-button disabled>\n                <ion-icon slot=\"icon-only\" name=\"link-outline\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n        <ion-title class=\"ion-text-center\"><b class=\"secondary\">{{associatedDocuments?.length}}</b>&nbsp;{{'lang.associatedDocuments' | translate}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content>\n    <div style=\"display: flex;flex-direction: column;height: 100%;\">\n        <ion-list>\n            <ion-item *ngFor=\"let document of associatedDocuments\" class=\"doc-item\" (click)=\"goTo(document.id)\">\n                <div>\n                    <ion-label class=\"sub-label\">{{document.reference}}</ion-label>\n                    <ion-label class=\"ion-text-wrap\" color=\"primary\">{{document.title | shorten: 50: '...'}}</ion-label>\n                </div>\n                <ion-icon slot=\"end\" color=\"medium\" name=\"arrow-forward-outline\"></ion-icon>\n            </ion-item>\n        </ion-list>\n    </div>\n</ion-content>\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n    templateUrl: 'confirm.component.html',\n    styleUrls: ['confirm.component.scss']\n})\nexport class ConfirmComponent {\n\n    constructor(private translate: TranslateService, @Inject(MAT_DIALOG_DATA) public data: any, public dialogRef: MatDialogRef<ConfirmComponent>) {\n\n        if (this.data.msg === null) {\n            this.data.msg = '';\n        }\n    }\n}\n","<div class=\"modalContent {{data.mode}}\">\n  <h1 mat-dialog-title>{{data.title | translate}}</h1>\n  <div mat-dialog-content *ngIf=\"data.msg !== null\" [innerHTML]=\"data.msg | translate\"></div>\n  <div mat-dialog-actions>\n    <button class=\"actions btn blue\" mat-button (click)=\"this.dialogRef.close('yes');\">{{'lang.yes' | translate}}</button>\n    <button class=\"actions btn red\" mat-button (click)=\"this.dialogRef.close('no');\">{{'lang.no' | translate}}</button>\n  </div>\n</div>","import { Component, Input, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { MatDialog } from '@angular/material/dialog';\nimport { TranslateService } from '@ngx-translate/core';\nimport { LatinisePipe } from 'ngx-pipes';\nimport { AlertController } from '@ionic/angular';\nimport { NotificationService } from '../../../service/notification.service';\nimport { catchError, exhaustMap, finalize, tap } from 'rxjs/operators';\nimport { of } from 'rxjs';\n\n\nexport interface User {\n    id: string;\n    firstname: string;\n    lastname: string;\n    login: string;\n    email: string;\n    subtitute: boolean;\n}\n\n@Component({\n    selector: 'app-check-connection',\n    templateUrl: 'check-connection.component.html',\n    styleUrls: ['check-connection.component.scss'],\n})\n\nexport class CheckConnectionComponent implements OnInit {\n\n    @Input() ldapTest: any;\n    @Input() ldap: any;\n    @Input() canValidate: boolean;\n\n    loadingTest: boolean = false;\n\n    constructor(\n        public http: HttpClient,\n        private translate: TranslateService,\n        private latinisePipe: LatinisePipe,\n        public dialog: MatDialog,\n        public notificationService: NotificationService,\n        public alertController: AlertController\n    ) {\n\n    }\n\n    ngOnInit(): void {\n    }\n\n\n    testLdap() {\n        this.loadingTest = true;\n        this.ldapTest.result = '';\n        if (this.canValidate) {\n            this.http.patch('../rest/configurations/' + this.ldap.id, this.ldap).pipe(\n                tap(() => {\n                    this.notificationService.success('lang.ldapUpdated');\n                }),\n                exhaustMap(() => this.http.get('../rest/configurations/' + this.ldap.id + '/connection', {\n                    params: {\n                        login: this.ldapTest.login,\n                        password: this.ldapTest.password\n                    }\n                })),\n                tap((data: any) => {\n                    this.ldapTest.result = data.informations;\n                    if (data.connection) {\n                        this.notificationService.success('lang.ldapConnectionSucceeded');\n                    }\n                }),\n                finalize(() => this.loadingTest = false),\n                catchError((err: any) => {\n                    this.notificationService.handleErrors(err);\n                    return of(false);\n                })\n            ).subscribe();\n        } else {\n            this.http.get('../rest/configurations/' + this.ldap.id + '/connection', {\n                params: {\n                    login: this.ldapTest.login,\n                    password: this.ldapTest.password\n                }\n            }).pipe(\n                tap((data: any) => {\n                    this.ldapTest.result = data.informations;\n                    if (data.connection) {\n                        this.notificationService.success('lang.ldapConnectionSucceeded');\n                    }\n                }),\n                finalize(() => this.loadingTest = false),\n                catchError((err: any) => {\n                    this.notificationService.handleErrors(err);\n                    return of(false);\n                })\n            ).subscribe();\n        }\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-back-button></ion-back-button>\n        </ion-buttons>\n        <ion-title>{{'lang.connectionTest' | translate}}</ion-title>\n    </ion-toolbar>\n</ion-header>\n<form style=\"display: contents;\" (ngSubmit)=\"testLdap()\" #adminTestForm=\"ngForm\">\n    <ion-content #mainContent>\n        <ion-item>\n            <ion-label color=\"secondary\" position=\"floating\">{{'lang.login' | translate}} *</ion-label>\n            <ion-input name=\"login\" [(ngModel)]=\"ldapTest.login\" required>\n            </ion-input>\n        </ion-item>\n        <ion-item>\n            <ion-label color=\"secondary\" position=\"floating\">{{'lang.password' | translate}} *</ion-label>\n            <ion-input name=\"password\" [(ngModel)]=\"ldapTest.password\" required>\n            </ion-input>\n        </ion-item>\n        <ion-card>\n            <ion-card-header>\n                <ion-card-subtitle color=\"secondary\">{{'lang.ldapInformations' | translate}} :</ion-card-subtitle>\n            </ion-card-header>\n            <ion-card-content>\n                <ion-item>\n                    <ion-label color=\"primary\">{{'lang.uri' | translate}} :</ion-label>\n                    <ion-input name=\"uri\" [(ngModel)]=\"ldap.value.uri\" readonly>\n                    </ion-input>\n                </ion-item>\n                <ion-item>\n                    <ion-label color=\"primary\">{{'lang.login' | translate}} :</ion-label>\n                    <ion-input name=\"pathLogin\" [value]=\"ldap.value.prefix ? this.ldap.value.prefix + '\\\\' + ldapTest.login + ldap.value.suffix : ldapTest.login + ldap.value.suffix\" readonly>\n                    </ion-input>\n                </ion-item>\n                <div *ngIf=\"ldapTest.result !== '' || loadingTest\" class=\"bash\">\n                    <ng-container *ngIf=\"loadingTest\">\n                        {{'lang.connectionInProgress' | translate}}...\n                    </ng-container>\n                    <ng-container *ngIf=\"ldapTest.result !== ''\">\n                        {{ldapTest.result}}\n                    </ng-container>\n                </div>\n            </ion-card-content>\n        </ion-card>\n    </ion-content>\n    <ion-footer class=\"ion-no-border\">\n        <ion-toolbar>\n            <ion-buttons class=\"ion-justify-content-center\">\n                <ion-button type=\"submit\" color=\"primary\" [disabled]=\"!adminTestForm.form.valid || loadingTest\">\n                    <ion-label>{{'lang.connectionTest' | translate}}</ion-label>\n                </ion-button>\n            </ion-buttons>\n        </ion-toolbar>\n    </ion-footer>\n</form>","import { Component, OnInit, ElementRef, ViewChild, AfterViewInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { SignaturesContentService } from '../service/signatures.service';\nimport { NotificationService } from '../service/notification.service';\nimport { FormControl } from '@angular/forms';\nimport { debounceTime, switchMap, distinctUntilChanged, tap, finalize } from 'rxjs/operators';\nimport { AuthService } from '../service/auth.service';\nimport { IonSearchbar, MenuController, ModalController } from '@ionic/angular';\nimport { ProfileComponent } from '../profile/profile.component';\nimport { FunctionsService } from '../service/functions.service';\nimport { FiltersService } from '../service/filters.service';\n\n\n@Component({\n    selector: 'app-sidebar',\n    templateUrl: 'sidebar.component.html',\n    styleUrls: ['sidebar.component.scss']\n})\nexport class SidebarComponent implements OnInit, AfterViewInit {\n\n    @ViewChild('listContent') listContent: ElementRef;\n    @ViewChild('searchInput') searchInput: IonSearchbar;\n\n    loadingList: boolean = false;\n    searchMode: boolean = false;\n\n    searchTerm: FormControl = new FormControl();\n\n    constructor(\n        public http: HttpClient,\n        public signaturesService: SignaturesContentService,\n        private route: ActivatedRoute,\n        public router: Router,\n        private menu: MenuController,\n        public notificationService: NotificationService,\n        public authService: AuthService,\n        public modalController: ModalController,\n        public functionsService: FunctionsService,\n        public filterService: FiltersService\n    ) {\n        this.searchTerm.valueChanges.pipe(\n            debounceTime(500),\n            distinctUntilChanged(),\n            tap((value) => this.loadingList = true),\n            switchMap(data => this.http.get('../rest/documents?limit=' + this.filterService.limit + '&search=' + data))\n        ).subscribe((response: any) => {\n            this.signaturesService.documentsList = response.documents;\n            this.signaturesService.documentsListCount = response.count;\n            this.loadingList = false;\n        });\n    }\n\n    ngOnInit() {\n        $('.avatar').css({ 'background': 'url(data:image/png;base64,' + this.authService.user.picture + ') no-repeat #280d43' }).css({ 'background-size': 'cover' }).css({ 'background-position': 'center' });\n        this.http.get('../rest/documents?limit=' + this.filterService.limit + '&offset=' + this.filterService.offset + '&mode=' + this.signaturesService.mode)\n            .subscribe((data: any) => {\n                this.signaturesService.documentsList = data.documents;\n                this.signaturesService.documentsListCount = data.count;\n            });\n    }\n\n    ngAfterViewInit(): void {\n        this.filter('');\n    }\n\n    async openProfile() {\n        const modal = await this.modalController.create({\n            component: ProfileComponent,\n            cssClass: 'my-custom-class'\n        });\n        await modal.present();\n    }\n\n    openAdmin() {\n        this.menu.close('left-menu');\n        this.router.navigate(['/administration/']);\n    }\n\n    openHome() {\n        this.router.navigate(['/home']);\n    }\n\n    openIndexation() {\n        this.menu.close('left-menu');\n        this.router.navigate(['/indexation']);\n    }\n\n    openSearch() {\n        this.menu.close('left-menu');\n        this.router.navigate(['/search']);\n    }\n\n    search(event: any) {\n        this.searchMode = true;\n        this.signaturesService.mode = '';\n        this.filter('');\n        setTimeout(() => {\n            if (event.type !== 'ionCancel') {\n                this.searchInput.value = '';\n                this.searchInput.setFocus();\n            }\n        }, 0);\n    }\n\n    filter(mode: string) {\n        this.signaturesService.documentsList = [];\n        if (mode !== '') {\n            this.searchMode = false;\n        }\n\n        this.loadingList = true;\n        this.signaturesService.mode === mode ? this.signaturesService.mode = '' : this.signaturesService.mode = mode;\n        this.filterService.offset = 0;\n        this.http.get('../rest/documents?limit=' + this.filterService.limit + '&offset=' + this.filterService.offset + '&mode=' + this.signaturesService.mode)\n            .pipe(\n                finalize(() => {\n                    this.loadingList = false;\n                })\n            )\n            .subscribe((data: any) => {\n                this.signaturesService.documentsList = data.documents;\n                this.signaturesService.documentsListCount = data.count;\n                this.loadingList = false;\n            });\n    }\n\n    checkClose() {\n        if ((this.route.routeConfig.path.indexOf('administration') !== -1 || this.signaturesService.mainDocumentId > 0) && this.signaturesService.mobileMode) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    loadData(event: any) {\n        this.filterService.offset = this.filterService.offset + this.filterService.limit;\n\n        this.http.get('../rest/documents?limit=' + this.filterService.limit + '&offset=' + this.filterService.offset + '&mode=' + this.signaturesService.mode).pipe(\n            tap((data: any) => {\n                this.signaturesService.documentsList = this.signaturesService.documentsList.concat(data.documents);\n                event.target.complete();\n                if (this.signaturesService.documentsList.length === this.signaturesService.documentsListCount.current) {\n                    event.target.disabled = true;\n                }\n            })\n        ).subscribe();\n    }\n\n    isAdminRoute() {\n        return this.router.url.split('/').indexOf('administration') > -1;\n    }\n\n    canIndex() {\n        return this.authService.user.appPrivileges.map((item: any) => item.id).indexOf('indexation') > -1;\n    }\n}\n","<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-item color=\"primary\" lines=\"none\">\n            <ion-button (click)=\"openHome()\" [title]=\"'lang.homePage' | translate\">\n                <ion-icon slot=\"icon-only\" name=\"home\"></ion-icon>\n            </ion-button>\n            <ion-label color=\"secondary\" class=\"ion-text-center\">\n                <h2 style=\"font-weight: bold;font-size: 24px;\">{{authService.user.firstname}} {{authService.user.lastname}}</h2>\n            </ion-label>\n        </ion-item>\n    </ion-toolbar>\n</ion-header>\n<ion-header [translucent]=\"true\">\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-button (click)=\"authService.logout()\" [title]=\"'lang.logout' | translate\" *ngIf=\"authService.authMode !== 'x509' && authService.authMode !== 'kerberos'\">\n                <ion-icon slot=\"icon-only\" name=\"power\"></ion-icon>\n            </ion-button>\n            <ion-button *ngIf=\"authService.user.administrativePrivileges.length > 0\" (click)=\"openAdmin()\" [title]=\"'lang.administration' | translate\">\n                <ion-icon slot=\"icon-only\" name=\"settings-outline\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n        <ion-buttons slot=\"end\">\n            <ion-button (click)=\"openSearch()\" [title]=\"'lang.search' | translate\">\n                <ion-icon slot=\"icon-only\" name=\"search-outline\"></ion-icon>\n            </ion-button>\n            <ion-button *ngIf=\"canIndex()\" (click)=\"openIndexation()\" [title]=\"'lang.indexationAdmin' | translate\">\n                <ion-icon slot=\"icon-only\" name=\"document-outline\"></ion-icon>\n                <ion-icon slot=\"icon-only\" name=\"add-circle\" style=\"position: absolute;top: 0px;font-size: 15px;right: -5px;\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-avatar class=\"avatar-user\" (click)=\"openProfile()\">\n    <img [src]=\"authService.user.picture\">\n</ion-avatar>\n<ion-header *ngIf=\"!isAdminRoute()\">\n    <ion-toolbar color=\"light\">\n        <ion-title *ngIf=\"!searchMode\" (click)=\"search($event);\" [title]=\"'lang.filterInfo' | translate\" style=\"text-align: center;font-size: 14px;\">\n            <span [class.primary]=\"signaturesService.mode != ''\">{{signaturesService.documentsListCount.current}}</span>\n            {{'lang.documents' | translate}}\n            <span class=\"primary\"\n                *ngIf=\"signaturesService.mode != ''\">{{'lang.'+signaturesService.mode+'Label' | translate}}</span>\n            &nbsp;\n            <ion-icon color=\"primary\" name=\"search-outline\"></ion-icon>\n        </ion-title>\n        <ion-searchbar *ngIf=\"searchMode\" #searchInput [placeholder]=\"'lang.filterInfo' | translate\" showCancelButton=\"always\" (ionCancel)=\"search($event);searchMode=!searchMode;\" [formControl]=\"searchTerm\"></ion-searchbar>\n    </ion-toolbar>\n</ion-header>\n<ion-header *ngIf=\"!isAdminRoute()\" style=\"background: white;\">\n    <ion-toolbar class=\"filters\">\n        <ion-segment value=\"heart\" [value]=\"signaturesService.mode\">\n            <ion-segment-button value=\"sign\" (click)=\"filter('sign')\" [class.segment-button-notFocused]=\"signaturesService.mode !== 'sign'\">\n                <ion-label>{{'lang.signLabel' | translate | titlecase}}</ion-label>\n                <ion-icon color=\"primary\" name=\"pencil-outline\"></ion-icon>\n                <ion-badge color=\"secondary\">{{signaturesService.documentsListCount.sign}}</ion-badge>\n            </ion-segment-button>\n            <ion-segment-button value=\"visa\" (click)=\"filter('visa')\" [class.segment-button-notFocused]=\"signaturesService.mode !== 'visa'\">\n                <ion-label>{{'lang.visaLabel' | translate | titlecase}}</ion-label>\n                <ion-icon color=\"primary\" name=\"checkmark-done-outline\"></ion-icon>\n                <ion-badge color=\"secondary\">{{signaturesService.documentsListCount.visa}}</ion-badge>\n            </ion-segment-button>\n            <ion-segment-button value=\"note\" (click)=\"filter('note')\" [class.segment-button-notFocused]=\"signaturesService.mode !== 'note'\">\n                <ion-label>{{'lang.noteLabel' | translate | titlecase}}</ion-label>\n                <ion-icon color=\"primary\" name=\"chatbubble-ellipses-outline\"></ion-icon>\n                <ion-badge color=\"secondary\">{{signaturesService.documentsListCount.note}}</ion-badge>\n            </ion-segment-button>\n        </ion-segment>\n    </ion-toolbar>\n</ion-header>\n<app-admin-sidebar *ngIf=\"isAdminRoute()\" style=\"display: contents;\"></app-admin-sidebar>\n<ion-content *ngIf=\"!isAdminRoute()\">\n    <ion-list id=\"labels-list\">\n        <ion-item *ngIf=\"signaturesService.documentsList.length == 0\" lines=\"none\">\n            <ion-label color=\"medium\" class=\"ion-text-center\">\n                {{'lang.noResult' | translate | titlecase}}\n            </ion-label>\n        </ion-item>\n        <ion-menu-toggle auto-hide=\"false\" *ngFor=\"let document of signaturesService.documentsList;let i=index\">\n            <ion-item class=\"doc-item\" (click)=\"filterService.currentIndex = i\" routerDirection=\"root\"\n                [routerLink]=\"['/documents/'+document.id]\" detail=\"false\"\n                [class.selected]=\"router.url === '/documents/'+document.id\">\n                <ion-icon *ngIf=\"document.mode == 'sign'\" color=\"primary\" slot=\"start\" name=\"pencil-outline\"></ion-icon>\n                <ion-icon *ngIf=\"document.mode == 'visa'\" color=\"primary\" slot=\"start\" name=\"checkmark-done-outline\">\n                </ion-icon>\n                <ion-icon *ngIf=\"document.mode == 'note'\" color=\"primary\" slot=\"start\"\n                    name=\"chatbubble-ellipses-outline\">\n                </ion-icon>\n                <ion-icon *ngIf=\"!functionsService.empty(document.mailingId)\" slot=\"start\" color=\"danger\" name=\"layers\" class=\"groupMailIcon\"></ion-icon>\n                <div>\n                    <ion-label class=\"sub-label\">{{document.reference}}</ion-label>\n                    <ion-label class=\"ion-text-wrap\" color=\"primary\">{{document.title | shorten: 50: '...'}}</ion-label>\n                    <ion-label *ngIf=\"!document.owner\" color=\"secondary\" class=\"sub-label\">\n                        {{'lang.substitutedDoc' | translate}}</ion-label>\n                </div>\n                <ion-icon slot=\"end\" color=\"medium\" name=\"arrow-forward-outline\"></ion-icon>\n            </ion-item>\n        </ion-menu-toggle>\n    </ion-list>\n    <ion-infinite-scroll threshold=\"100px\" (ionInfinite)=\"loadData($event)\" *ngIf=\"signaturesService.documentsList.length > 0\">\n        <ion-infinite-scroll-content loadingSpinner=\"bubbles\" [loadingText]=\"'lang.loadingMoreData' | translate\">\n        </ion-infinite-scroll-content>\n    </ion-infinite-scroll>\n</ion-content>\n","\nimport { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { SignaturesContentService } from '../service/signatures.service';\nimport { NotificationService } from '../service/notification.service';\nimport { HttpClient } from '@angular/common/http';\nimport { TranslateService } from '@ngx-translate/core';\nimport { finalize } from 'rxjs/operators';\n\n@Component({\n    templateUrl: 'warn-modal.component.html',\n    styleUrls: ['warn-modal.component.scss']\n})\nexport class WarnModalComponent {\n    disableState = false;\n    msgButton: string = 'lang.rejectDocument';\n    note: string = '';\n\n    constructor(private translate: TranslateService, @Inject(MAT_DIALOG_DATA) public data: any, public http: HttpClient, public dialogRef: MatDialogRef<WarnModalComponent>, public signaturesService: SignaturesContentService, public notificationService: NotificationService) { }\n\n    confirmDoc () {\n        const signatures: any[] = [];\n        if (this.signaturesService.currentAction > 0) {\n            for (let index = 1; index <= this.signaturesService.totalPage; index++) {\n                if (this.signaturesService.signaturesContent[index]) {\n                    this.signaturesService.signaturesContent[index].forEach((signature: any) => {\n                        signatures.push(\n                            {\n                                'encodedImage'  : signature.encodedSignature,\n                                'width'         : signature.width,\n                                'positionX'     : signature.positionX,\n                                'positionY'     : signature.positionY,\n                                'type'          : 'PNG',\n                                'page'          : index\n                            }\n                        );\n                    });\n                }\n                if (this.signaturesService.notesContent[index]) {\n                    this.signaturesService.notesContent[index].forEach((note: any) => {\n                        signatures.push(\n                            {\n                                'encodedImage'  : note.fullPath.replace('data:image/png;base64,', ''),\n                                'width'         : note.width,\n                                'positionX'     : note.positionX,\n                                'positionY'     : note.positionY,\n                                'type'          : 'PNG',\n                                'page'          : index\n                            }\n                        );\n                    });\n                }\n            }\n            this.disableState = true;\n            this.msgButton = 'lang.sending';\n            this.http.put('../rest/documents/' + this.signaturesService.mainDocumentId + '/actions/' + this.signaturesService.currentAction, {'signatures': signatures, 'note' : this.note})\n                .pipe(\n                    finalize(() => {\n                        this.disableState = false;\n                        this.msgButton = 'lang.rejectDocument';\n                    })\n                )\n                .subscribe(() => {\n                    if (this.signaturesService.documentsList[this.signaturesService.indexDocumentsList] !== undefined) {\n                        this.signaturesService.documentsList.splice(this.signaturesService.indexDocumentsList, 1);\n\n                        if (this.signaturesService.documentsListCount.current > 0) {\n                            this.signaturesService.documentsListCount.current--;\n                        }\n                    }\n                    this.dialogRef.close('sucess');\n                });\n        } else {\n            this.dialogRef.close('sucess');\n        }\n    }\n}\n","<div class=\"modalContent\">\n    <h1 mat-dialog-title><i class=\"fa fa-exclamation-triangle fa-2x\"></i><br/>{{'lang.warning' | translate}} !</h1>\n    <div mat-dialog-content>\n      <p>{{'lang.wouldLikeConfirm' | translate}}</p>\n      <p>\n        <textarea [(ngModel)]=\"note\" class=\"note\" matInput placeholder=\"{{'lang.addNote' | translate}}\"></textarea>\n      </p>\n    </div>\n    <div mat-dialog-actions>\n      <button mat-icon-button class=\"close\" (click)=\"this.dialogRef.close();\">\n        <mat-icon fontSet=\"fas\" fontIcon=\"fa-times\"></mat-icon>\n      </button>\n      <button class=\"actions btn red\" mat-button cdkFocusInitial (click)=\"confirmDoc();\" [disabled]=\"disableState\"><i class=\"fas fa-backspace fa-2x\"></i> {{ msgButton | translate}}</button>\n    </div>\n</div>\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { LatinisePipe } from 'ngx-pipes';\n\n@Pipe({ name: 'sortBy' })\nexport class SortPipe implements PipeTransform {\n\n    constructor(private latinisePipe: LatinisePipe) { }\n\n    transform(array: Array<string>, args: string): Array<string> {\n        if (array !== null) {\n            array.sort((a: any, b: any) => {\n                const normA = this.latinisePipe.transform(a[args]).toLocaleLowerCase();\n                const normB = this.latinisePipe.transform(b[args]).toLocaleLowerCase();\n\n                if (normA < normB) {\n                    return -1;\n                } else if (normA > normB) {\n                    return 1;\n                } else {\n                    return 0;\n                }\n            });\n            return array;\n        } else {\n            return [];\n        }\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { SignaturesContentService } from '../service/signatures.service';\nimport { NotificationService } from '../service/notification.service';\nimport { HttpClient } from '@angular/common/http';\nimport { TranslateService } from '@ngx-translate/core';\nimport { finalize } from 'rxjs/operators';\n\n@Component({\n    templateUrl: 'confirm-modal.component.html',\n    styleUrls: ['confirm-modal.component.scss']\n})\nexport class ConfirmModalComponent {\n    disableState = false;\n    msgButton = 'lang.validate';\n\n    constructor(private translate: TranslateService, @Inject(MAT_DIALOG_DATA) public data: any, public http: HttpClient, public dialogRef: MatDialogRef<ConfirmModalComponent>, public signaturesService: SignaturesContentService, public notificationService: NotificationService) { }\n\n    confirmDoc () {\n        const signatures: any[] = [];\n        if (this.signaturesService.currentAction > 0) {\n            for (let index = 1; index <= this.signaturesService.totalPage; index++) {\n                if (this.signaturesService.signaturesContent[index]) {\n                    this.signaturesService.signaturesContent[index].forEach((signature: any) => {\n                        signatures.push(\n                            {\n                                'encodedImage'  : signature.encodedSignature,\n                                'width'         : signature.width,\n                                'positionX'     : signature.positionX,\n                                'positionY'     : signature.positionY,\n                                'type'          : 'PNG',\n                                'page'          : index,\n                            }\n                        );\n                    });\n                }\n                if (this.signaturesService.notesContent[index]) {\n                    this.signaturesService.notesContent[index].forEach((note: any) => {\n                        signatures.push(\n                            {\n                                'encodedImage'  : note.fullPath.replace('data:image/png;base64,', ''),\n                                'width'         : note.width,\n                                'positionX'     : note.positionX,\n                                'positionY'     : note.positionY,\n                                'type'          : 'PNG',\n                                'page'          : index,\n                            }\n                        );\n                    });\n                }\n            }\n            this.disableState = true;\n            this.msgButton = 'Envoi...';\n            this.http.put('../rest/documents/' + this.signaturesService.mainDocumentId + '/actions/' + this.signaturesService.currentAction, {'signatures': signatures})\n                .pipe(\n                    finalize(() => {\n                        this.disableState = false;\n                        this.msgButton = 'lang.validate';\n                    })\n                )\n                .subscribe(() => {\n                    if (this.signaturesService.documentsList[this.signaturesService.indexDocumentsList] !== undefined) {\n                        this.signaturesService.documentsList.splice(this.signaturesService.indexDocumentsList, 1);\n                        if (this.signaturesService.documentsListCount.current > 0) {\n                            this.signaturesService.documentsListCount.current--;\n                        }\n                    }\n                    this.dialogRef.close('sucess');\n                });\n        } else {\n            this.dialogRef.close('sucess');\n        }\n    }\n}\n","<div class=\"modalContent\">\n  <h1 mat-dialog-title class=\"default\" *ngIf=\"signaturesService.signaturesContent.length > 0 || signaturesService.notesContent.length > 0\"><i\n      class=\"fa fa-question-circle fa-2x\"></i><br />{{data.msg | translate}}</h1>\n  <h1 mat-dialog-title style=\"color: #f5a623;font-weight: bold;\" *ngIf=\"signaturesService.signaturesContent.length == 0 && signaturesService.notesContent.length == 0\"><i\n      class=\"fa fa-exclamation-triangle fa-2x\"></i><br />{{'lang.warning' | translate}} !</h1>\n  <div mat-dialog-content>\n    <p *ngIf=\"signaturesService.signaturesContent.length == 0 && signaturesService.notesContent.length == 0\">{{'lang.validateDocumentWithoutSignOrNote' | translate}}</p>\n  </div>\n  <div mat-dialog-actions>\n    <button mat-icon-button class=\"close\" (click)=\"this.dialogRef.close();\">\n      <mat-icon fontSet=\"fas\" fontIcon=\"fa-times\"></mat-icon>\n    </button>\n    <button class=\"actions btn green\" mat-button (click)=\"confirmDoc();\" [disabled]=\"disableState\"><i class=\"fas fa-check-circle fa-2x\"></i>\n      {{ msgButton | translate}}</button>\n  </div>\n</div>","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { tap, catchError } from 'rxjs/operators';\nimport { SignaturesContentService } from './signatures.service';\nimport { NotificationService } from '../service/notification.service';\nimport { of } from 'rxjs';\nimport { FunctionsService } from './functions.service';\nimport { AlertController } from '@ionic/angular';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ActionsService {\n\n    constructor(\n        public http: HttpClient,\n        public translate: TranslateService,\n        public notificationService: NotificationService,\n        public signaturesService: SignaturesContentService,\n        private functionsService: FunctionsService,\n        public alertController: AlertController,\n    ) { }\n\n    sendDocument(documentId: number, note: string, eSignature: any = null, signatureLength: any = null, tmpUniqueId: string = null, imgDocElements: any[] = null) {\n        return new Promise(async (resolve) => {\n            let data: any = {};\n\n            if (this.signaturesService.currentAction > 0) {\n                if (imgDocElements === null) {\n                    data.signatures = await this.getElementsFromDoc();\n                } else {\n                    data.signatures = imgDocElements;\n                }\n\n                if (eSignature !== null) {\n                    data = { ...data, ...eSignature };\n                    data.step = 'hashCertificate';\n                }\n\n                if (note !== null) {\n                    data['note'] = note;\n                }\n\n                if (signatureLength !== null) {\n                    data.signatureLength = signatureLength;\n                }\n\n                if (!this.functionsService.empty(tmpUniqueId)) {\n                    data.tmpUniqueId = tmpUniqueId;\n                }\n\n                this.http.put('../rest/documents/' + documentId + '/actions/' + this.signaturesService.currentAction, data)\n                    .pipe(\n                        tap((res: any) => {\n                            if (eSignature !== null) {\n                                const objSignData = {\n                                    hashDocument: res.dataToSign,\n                                    signatureContentLength: res.signatureContentLength,\n                                    signatureFieldName: res.signatureFieldName,\n                                    tmpUniqueId: res.tmpUniqueId\n                                };\n                                resolve(objSignData);\n                            } else {\n                                resolve(true);\n                            }\n                        }),\n                        catchError((err: any) => {\n                            this.notificationService.handleErrors(err);\n                            if (err.status === 403) {\n                                resolve(null);\n                            } else {\n                                resolve(false);\n                            }\n                            return of(false);\n                        })\n                    ).subscribe();\n            } else {\n                resolve(false);\n            }\n        });\n    }\n\n    async getElementsFromDoc(): Promise<any[]> {\n        return new Promise(async (resolve) => {\n            const signatures: any[] = [];\n            for (let index = 1; index <= this.signaturesService.totalPage; index++) {\n                if (this.signaturesService.datesContent[index]) {\n                    for (let indexSvg = 0; indexSvg < this.signaturesService.datesContent[index].length; indexSvg++) {\n                        const date = this.signaturesService.datesContent[index][indexSvg];\n                        const svgContent: any = await this.getSvgContent(indexSvg);\n                        signatures.push(\n                            {\n                                'encodedImage': svgContent.replace('data:image/svg+xml;base64,', ''),\n                                'width': date.width,\n                                'height': date.height,\n                                'positionX': date.positionX,\n                                'positionY': date.positionY,\n                                'type': 'SVG',\n                                'page': index,\n                            }\n                        );\n                    }\n                }\n                if (this.signaturesService.signaturesContent[index]) {\n                    this.signaturesService.signaturesContent[index].forEach((signature: any) => {\n                        signatures.push(\n                            {\n                                'encodedImage': signature.encodedSignature,\n                                'width': signature.width,\n                                'positionX': signature.positionX,\n                                'positionY': signature.positionY,\n                                'type': 'PNG',\n                                'page': index,\n                            }\n                        );\n                    });\n                }\n                if (this.signaturesService.notesContent[index]) {\n                    this.signaturesService.notesContent[index].forEach((noteItem: any) => {\n                        signatures.push(\n                            {\n                                'encodedImage': noteItem.fullPath.replace('data:image/png;base64,', ''),\n                                'width': noteItem.width,\n                                'positionX': noteItem.positionX,\n                                'positionY': noteItem.positionY,\n                                'type': 'PNG',\n                                'page': index,\n                            }\n                        );\n                    });\n                }\n            }\n            resolve(signatures);\n        });\n    }\n\n    getSvgContent(index: number) {\n        return new Promise((resolve) => {\n            const svg = document.getElementById('testSVG_' + index);\n            const data = new XMLSerializer().serializeToString(svg);\n            const blob = new Blob([data], { type: 'image/svg+xml' });\n            const reader = new FileReader();\n            reader.readAsDataURL(blob);\n            reader.onloadend = () => {\n                resolve(reader.result);\n            };\n        });\n    }\n\n    checkGroupMail(mainDocument: any, action: string): Promise<any[]> {\n        return new Promise(async (resolve) => {\n            if (this.functionsService.empty(mainDocument.mailingId)) {\n                resolve([this.signaturesService.mainDocumentId]);\n            } else {\n                this.http.get(`../rest/documents/${this.signaturesService.mainDocumentId}/linkedMailing`)\n                    .pipe(\n                        tap(async (res: any) => {\n                            if (res.documents.length > 1) {\n                                const alert = await this.alertController.create({\n                                    header: this.translate.instant('lang.mailing'),\n                                    message: action === 'validate' ? this.translate.instant('lang.makeActionOnDocInMailGroup') : this.translate.instant('lang.refuseActionDocInMailGroup'),\n                                    backdropDismiss: false,\n                                    buttons: [\n                                        {\n                                            text: this.translate.instant('lang.yes'),\n                                            handler: () => {\n                                                resolve(res.documents);\n                                            }\n                                        },\n                                        {\n                                            role: 'cancel',\n                                            text: this.translate.instant('lang.no'),\n                                            cssClass: 'secondary',\n                                            handler: () => {\n                                                resolve([this.signaturesService.mainDocumentId]);\n                                            }\n                                        }\n                                    ]\n                                });\n                                await alert.present();\n                            } else {\n                                resolve([this.signaturesService.mainDocumentId]);\n                            }\n                        }),\n                        catchError((err: any) => {\n                            this.notificationService.handleErrors(err);\n                            resolve([]);\n                            return of(false);\n                        })\n                    ).subscribe();\n            }\n        });\n    }\n}\n"],"sourceRoot":"webpack:///"}